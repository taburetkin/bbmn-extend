{"version":3,"file":"index.js","sources":["src/bb/model.js","src/bb/collection.js","src/bb/view.js","src/bb/router.js","src/mn/object.js","src/utils/is-known-ctor/ctors.js","src/utils/is-known-ctor/index.js","src/utils/get-property/index.js","src/mixins/common/get-option/index.js","src/mixins/common/index.js","src/mixins/model/smart-get/get-nested-result.js","src/mixins/model/smart-get/get-property-schema.js","src/mixins/model/smart-get/get-display-config.js","src/bb/is-model.js","src/utils/get-by-path/get-property.js","src/utils/get-by-path/get-by-path-array.js","src/utils/get-by-path/index.js","src/mixins/model/smart-get/index.js","src/mixins/model/index.js","src/mixins/view/css-class-modifiers/index.js","src/mixins/view/index.js","src/mixins/index.js","src/bb/is-view.js","src/utils/compare-ab/get-model.js","src/utils/compare-ab/get-view.js","src/utils/compare-ab/index.js","src/utils/comparator/index.js","src/utils/extend/index.js","src/utils/flat/traverse.js","src/utils/flat/index.js","src/utils/mix/options.js","src/utils/mix/normalize-arguments.js","src/utils/mix/with.js","src/utils/mix/index.js","src/utils/set-by-path/set-property.js","src/utils/set-by-path/set-by-path-array.js","src/utils/set-by-path/index.js","src/utils/unflat/index.js","src/utils/index.js","src/index.js"],"sourcesContent":["// import { Model } from 'backbone';\r\n// export default Model;\r\nexport default Backbone.Model;\r\n","//import { Collection } from 'backbone';\r\n//export default Collection;\r\n\r\nexport default Backbone.Collection\r\n","// import { View } from 'backbone';\r\n// export default View;\r\nexport default Backbone.View;\r\n","// import { Router } from 'backbone';\r\n// export default Router;\r\nexport default Backbone.Router;\r\n","//import Mn from 'backbone.marionette';\r\nexport default Mn.Object;\r\n","import Model from '../../bb/model';\r\nimport Collection from '../../bb/collection';\r\nimport View from '../../bb/view';\r\nimport Router from '../../bb/router';\r\nimport MnObject from '../../mn/object';\r\nexport default [\r\n\tModel,\r\n\tCollection,\r\n\tView,\r\n\tRouter,\r\n\tMnObject\r\n];","import knownCtors from './ctors';\r\n\r\nfunction isKnownCtor(arg) {\r\n\tlet isFn = _.isFunction(arg);\r\n\tlet result = _(knownCtors).some((ctor) => arg === ctor || arg.prototype instanceof ctor);\r\n\treturn isFn && result;\r\n}\r\n\r\nexport default isKnownCtor;\r\n","import isKnownCtor from '../is-known-ctor';\r\n\r\nexport default function getProperty(valueContext, key, options = {}, fallback){\r\n\r\n\tlet context = options.context || valueContext;\r\n\toptions.deep !== undefined || (options.deep = true);\r\n\toptions.force !== undefined || (options.force = true);\r\n\toptions.args || (options.args = []);\r\n\r\n\t//key and valueContext should be passed\r\n\tif(key == null) return;\r\n\t\r\n\t//getting raw value\r\n\tlet value = valueContext && valueContext[key];\r\n\r\n\t//if there is no raw value and deep option is true then getting value from fallback\r\n\tif(value === undefined && options.deep && _.isFunction(fallback)){\r\n\t\tlet fallbackOptions = _.extend({}, options, {deep:false, force: false});\r\n\t\tvalue = fallback.call(context, key, fallbackOptions); \r\n\t}\r\n\r\n\t//if returned value is function and is not any of known constructors and options property force set to true \r\n\t//we should return value of that function\r\n\t//options.args will be passed as arguments\r\n\tif(_.isFunction(value) && options.force && !isKnownCtor(value))\r\n\t\tvalue = value.apply(context, options.args || []);\r\n\r\n\t//console.log('key', key, value);\r\n\t\r\n\t//if value is still undefined we will return default option value\r\n\treturn value === undefined ? options.default : value;\r\n}\r\n\r\n","import getProperty from '../../../utils/get-property';\r\n\r\nexport default (Base) => Base.extend({\r\n\t//property first approach\r\n\tgetProperty(key, options = {}){\r\n\t\treturn getProperty(this, key, options, this.getOption);\r\n\t},\r\n\t//options first approach\r\n\tgetOption(key, options = {}){\r\n\t\toptions.context = this;\r\n\t\treturn getProperty(this.getProperty('options',{deep:false}), key, options, this.getProperty);\r\n\t},\r\n});\r\n","import getOption from './get-option';\r\nexport default {\r\n\tgetOption\r\n};\r\n","export default function getNestedResult(value, context, schema) {\r\n\treturn value != null \r\n\t\t&& _.isFunction(schema.nested) \r\n\t\t&& schema.nested(value, context);\r\n}","export default function getPropertySchema(model, key)\r\n{\r\n\tif (_.isFunction(model.getPropertySchema)) {\r\n\t\treturn model.getPropertySchema(key);\r\n\t} else {\r\n\t\treturn {};\r\n\t}\r\n}","export default function getDisplayConfig(key, model, schema){\r\n\tif (key == null) return {};\r\n\treturn (_.isFunction(model.getPropertyDisplayConfig) && model.getPropertyDisplayConfig(key))\r\n\t\t|| schema.display || {}\r\n}","import Model from './model';\r\nexport default function isModel(arg){\r\n\treturn arg instanceof Model;\r\n}","import isModel from '../../bb/is-model';\r\nfunction getProperty(context, name)\r\n{\r\n\tif(context == null || !_.isObject(context) || name == null || name == '') return;\r\n\tif (isModel(context))\r\n\t\treturn context.get(name, { gettingByPath: true  });\r\n\telse\r\n\t\treturn context[name];\r\n}\r\nexport default getProperty;\t\r\n","\r\nimport getProperty from './get-property';\r\n\r\nfunction getByPathArray(context, propertyName, pathArray) {\r\n\t\r\n\tif (context == null || !_.isObject(context) || propertyName == null || propertyName == '')\r\n\t\treturn;\r\n\r\n\tvar prop = getProperty(context, propertyName);\r\n\r\n\tif (!pathArray.length || (pathArray.length && prop == null))\r\n\t\treturn prop;\r\n\r\n\tvar nextName = pathArray.shift();\r\n\r\n\treturn getByPathArray(prop, nextName, pathArray);\r\n\r\n}\r\n\r\nexport default getByPathArray;\r\n","import getByPathArray from './get-by-path-array';\r\n\r\nexport default function getByPath (obj, path) {\r\n\r\n\tif(obj == null || !_.isObject(obj) || path == null || path == '') return;\r\n\r\n\tvar pathArray = _.isString(path) ? path.split('.') \r\n\t\t\t\t\t\t: _.isArray(path) ? [].slice.call(path)\r\n\t\t\t\t\t\t\t: [path];\r\n\r\n\tvar prop = pathArray.shift();\r\n\r\n\treturn getByPathArray(obj, prop, pathArray);\r\n\r\n}\r\n","import Model from '../../../bb/model';\r\nimport getNestedResult from './get-nested-result';\r\nimport getPropertySchema from './get-property-schema';\r\nimport getDisplayConfig from './get-display-config';\r\nimport getByPath from '../../../utils/get-by-path';\r\nexport default Base => {\r\n\tconst originalGet = Model.prototype.get;\r\n\tconst Mixed = Base.extend({\r\n\t\tgetByPath(key){\r\n\t\t\tif(key.indexOf('.') > -1)\r\n\t\t\t\treturn getByPath(this, key);\r\n\t\t\telse\r\n\t\t\t\treturn originalGet.call(this, key);\r\n\t\t},\r\n\t\tget(key, opts = {}){\r\n\t\t\tif(key == null) return;\t\r\n\t\t\t\r\n\t\t\tlet value = 'value' in opts \r\n\t\t\t\t? opts.value\r\n\t\t\t\t: this.getByPath.call(this, key);\r\n\r\n\t\t\tif (!_.size(opts)) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t\tlet prop = getPropertySchema(this, key);\r\n\t\t\tlet result = opts.nested && getNestedResult(value, this, prop);\r\n\t\t\tif (result != null) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\tif(_.isFunction(opts.transform) && !opts.raw) {\r\n\t\t\t\tvalue = opts.transform.call(this, value, opts, this);\r\n\t\t\t}\r\n\r\n\t\t\tif(_.isFunction(prop.transform) && !opts.raw){\r\n\t\t\t\tvalue = prop.transform.call(this, value, opts, this);\r\n\t\t\t}\r\n\r\n\t\t\tif(opts.display === true){\r\n\r\n\t\t\t\tlet display = getDisplayConfig(key, this, prop);\r\n\r\n\t\t\t\tif(opts.alternative){\r\n\t\t\t\t\tvalue = _.isFunction(display.alternative) && display.alternative.call(this, value, _.extend({},opts,prop), this);\r\n\t\t\t\t}\r\n\t\t\t\telse if(_.isFunction(display.transform)) {\r\n\t\t\t\t\tvalue = display.transform.call(this, value, opts, this);\r\n\t\t\t\t}\r\n\t\t\t\tif(display.ifEmpty && (value == null || value === ''))\r\n\t\t\t\t\treturn display.ifEmpty;\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tdisplay(key, opts = {}){\r\n\t\t\t_.extend(opts, { display:true });\r\n\t\t\treturn this.get(key, opts);\r\n\t\t},\r\n\t});\r\n\r\n\treturn Mixed;\r\n};","import smartGet from './smart-get';\r\nexport default {\r\n\tsmartGet\r\n};\r\n","\r\nconst defaultCssConfig = {\r\n\tbeforeRender: true,\r\n\tmodelChange: true,\r\n\trefresh: true,\r\n};\r\n\r\nexport default (Base) => Base.extend({\r\n\tconstructor(){\r\n\t\tBase.apply(this, arguments);\r\n\t\tthis._setupCssClassModifiers();\t\t\r\n\t},\r\n\r\n\trefreshCssClass(){\r\n\t\tlet className = this._getCssClassString();\r\n\t\tif(className == ''){\r\n\t\t\tthis.$el.removeAttr('class');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.$el.attr({\r\n\t\t\t\tclass: className\r\n\t\t\t});\r\n\t\t}\r\n\t},\t\r\n\r\n\t_getCssClassModifiers(){\r\n\t\tlet optsModifiers = this.getOption('cssClassModifiers',{deep:false, args:[this.model, this]});\r\n\t\tlet propsModifiers = this.getProperty('cssClassModifiers',{deep:false, args:[this.model, this]});\r\n\t\tlet modifiers = [this.getOption('className')].concat(optsModifiers || [], propsModifiers || []);\r\n\t\treturn modifiers;\r\n\t},\r\n\t//override this if you need other logic\r\n\tgetCssClassModifiers(){\r\n\t\treturn this._getCssClassModifiers();\r\n\t},\r\n\t_getCssClassString()\r\n\t{\r\n\t\tlet modifiers = this.getCssClassModifiers();\r\n\t\tlet classes = _(modifiers).map((cls) => {\r\n\t\t\treturn _.isString(cls) \r\n\t\t\t\t? cls \r\n\t\t\t\t: _.isFunction(cls) \r\n\t\t\t\t\t? cls.call(this, this.model, this) \r\n\t\t\t\t\t: null;\r\n\t\t});\r\n\t\tlet ready = _(classes).filter((f) => f != null && f != '');\r\n\t\tlet className = _.uniq(ready).join(' ');\r\n\t\treturn (className || '').trim();\r\n\t},\r\n\r\n\t_setupCssClassModifiers(){\r\n\r\n\t\tif(this._cssClassModifiersInitialized) return;\r\n\r\n\t\tlet cfg = this.getCssClassConfig();\r\n\t\tif(!cfg) return;\r\n\r\n\t\tlet events = this.getCssClassEvents(cfg);\r\n\t\t_(events).each((eventName) => this.on(eventName, this.refreshCssClass));\r\n\r\n\t\tif (cfg.modelChange && this.model) {\r\n\t\t\tthis.listenTo(this.model, 'change', this.refreshCssClass);\r\n\t\t}\r\n\r\n\t\tthis._cssClassModifiersInitialized = true;\r\n\t},\r\n\t\r\n\t_getCssClassConfig(){\r\n\t\tlet cfg = _.extend({}, defaultCssConfig, this.getOption('cssClassConfig'));\r\n\t\tif(!cfg || _.size(cfg) == 0) return;\r\n\t\treturn cfg;\r\n\t},\r\n\t//override this if you need other logic\r\n\tgetCssClassConfig(){\r\n\t\treturn this._getCssClassConfig();\r\n\t},\r\n\r\n\t_getCssClassEvents(cfg){\r\n\t\tlet events = [].concat(cfg.events || []);\r\n\t\tif(cfg.refresh) events.push('refresh');\r\n\t\tif(cfg.beforeRender) events.push('before:render');\r\n\t\tevents = _(events).uniq();\r\n\t\treturn events;\r\n\t},\r\n\t//override this if you need other logic\r\n\tgetCssClassEvents(cfg){\r\n\t\treturn this._getCssClassEvents(cfg);\r\n\t}\r\n});\r\n","import cssClassModifiers from './css-class-modifiers';\r\nexport default {\r\n\tcssClassModifiers\r\n};\r\n","import common from './common';\r\nimport model from './model';\r\nimport view from './view';\r\nexport default {\r\n\tcommon, model, view\r\n};\r\n","import View from './view';\r\nexport default function isView(arg){\r\n\treturn arg instanceof View;\r\n}","import isModel from '../../bb/is-model';\r\nimport isView from '../../bb/is-view';\r\nexport default function getModel(arg){\r\n\treturn isModel(arg) ? arg\r\n\t\t: isView(arg) ? arg.model\r\n\t\t\t: undefined;\r\n}","import isView from '../../bb/is-view';\r\nexport default function getModel(arg){\r\n\treturn isView(arg) && arg;\r\n}","\r\nimport getModel from './get-model';\r\nimport getView from './get-view';\r\nexport default function compareAB(a, b, func){\r\n\tif (_.isFunction(func)) {\r\n\r\n\t\ta = func.call(a, getModel(a), getView(a));\r\n\t\tb = func.call(b, getModel(b), getView(b));\r\n\r\n\t\treturn a < b ? -1\r\n\t\t\t: a > b ? 1\r\n\t\t\t\t: 0;\r\n\r\n\t} else if(_.isArray(func)) {\r\n\r\n\t\tlet result = 0;\r\n\r\n\t\t_(func).every((f) => {\r\n\t\t\tif(!_.isFunction(f)) return true;\r\n\t\t\tresult = compareAB(a,b,f);\r\n\t\t\treturn result === 0;\r\n\t\t});\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n}","import compareAB from '../compare-ab';\r\nexport default function comparator(...args){\r\n\tvar result = 0;\r\n\r\n\t//for simple case (arg1, arg2, compare)\r\n\tif (args.length === 3 && !_.isArray(args[0])){\r\n\r\n\t\treturn compareAB.apply(null, args);\r\n\r\n\t} \r\n\t//for complex cases ([arg1, arg2, compare], [], .... [])\r\n\t//each arguments should be an array\r\n\telse {\r\n\r\n\t\t_(args).every((single) => {\r\n\r\n\t\t\tif(!_.isArray(single)) return true;\r\n\t\t\tresult = compareAB(...single);\r\n\t\t\treturn result === 0;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn result;\r\n}","//import Mn from 'backbone.marionette';\r\nexport default Mn.extend;\r\n","import isModel from '../../bb/is-model';\r\nexport default function traverse(fields, root)\r\n{\r\n\troot = root || '';\r\n\tif (this == null || typeof this != 'object') {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar hash = isModel(this) ? this.attributes : this;\r\n\r\n\tvar props = Object.getOwnPropertyNames(hash);\r\n\r\n\tfor (var x = 0; x < props.length; x++) {\r\n\t\tvar name = props[x];\r\n\t\tvar prop = this[name];\r\n\r\n\t\tif (prop == null || typeof prop != 'object' || (prop instanceof Date || prop instanceof Array)) {\r\n\r\n\t\t\tfields[root + name] = prop;\r\n\t\t}\r\n\t\telse if (typeof prop == 'object') {\r\n\r\n\t\t\ttraverse.call(prop, fields, root + name + '.');\r\n\t\t}\r\n\t}\r\n\t\t\r\n}","import traverse from './traverse';\r\n\r\nexport default function flattenObject(obj) {\r\n\tif (obj == null || !_.isObject(obj)) return;\r\n\tvar res = {};\r\n\ttraverse.call(obj, res);\r\n\treturn res;\r\n}","export default {\r\n    mergeObjects: true,\r\n    wrapObjectWithConstructor: true,\r\n}","\r\nexport default function normalizeArguments(args, opts = {})\r\n{\r\n    let raw = {};\r\n    let wrap = opts.wrapObjectWithConstructor == true;\r\n    let merge = opts.mergeObjects == true;    \r\n    let ctors = [];\r\n    _(args).each(arg => {\r\n        if (_.isFunction(arg)) {\r\n            ctors.push(arg);\r\n            return;\r\n        }\r\n\r\n        if (!_.isObject(arg)) return;\r\n\r\n        if (!merge || (wrap && _.isFunction(arg.constructor))) {\r\n            ctors.push(Base => Base.extend(arg));\r\n        } else {\r\n            _.extend(raw, arg);\r\n        }\r\n    });\r\n\r\n    if(_.size(raw))\r\n        ctors.unshift(Base => Base.extend(raw));\r\n\r\n    return ctors;\r\n}","\r\n\r\nimport normalizeArguments from './normalize-arguments';\r\n\r\nexport default function withMethod(...args) {\r\n    \r\n    let mixins = normalizeArguments(args, this.options);\r\n    let Mixed = this.class;\r\n    if(!mixins.length) return Mixed;\r\n    else\r\n        return _.reduce(mixins, (Memo, Ctor) => Ctor(Memo), Mixed);\r\n\r\n}","import defaultOptions from './options';\r\nimport withMethod from './with';\r\n\r\nimport extend from '../extend';\r\n\r\n\r\n\r\nexport default function mix(_ctor, options) {\r\n\r\n    let opts = _.extend({}, defaultOptions, options);\r\n\r\n    let ctor;    \r\n    if (_.isFunction(_ctor)) {\r\n        ctor = _ctor;\r\n    }\r\n    else if (_.isObject(_ctor)) {\r\n        ctor = function(){};\r\n        _.extend(ctor.prototype, _ctor);\r\n    } else {\r\n        throw new Error('Mix argument should be a class or a plain object');\r\n    }\r\n\r\n    if (!_.isFunction(ctor.extend))\r\n        ctor.extend = extend;\r\n\r\n    return {\r\n        options: opts,\r\n        with: withMethod,\r\n        class: ctor,\r\n    }\r\n}","import getProperty from '../get-by-path/get-property';\r\nimport isModel from '../../bb/is-model';\r\nfunction setProperty(context, name, value, options) {\r\n\tif (isModel(context)) {\r\n\t\tcontext.set(name, value, { silent: true });\r\n\t}\r\n\telse {\r\n\t\tcontext[name] = value;\r\n\t}\r\n\r\n\tif(isModel(value)){\r\n\t\toptions.models.push({\r\n\t\t\tpath: options.passPath.join(':'),\r\n\t\t\tproperty: name,\r\n\t\t\tmodel: value\r\n\t\t});\t\t\r\n\t}\r\n\r\n\toptions.passPath.push(name);\r\n\r\n\treturn getProperty(context, name);\r\n}\r\n\r\nexport default setProperty;\r\n","import getProperty from '../get-by-path/get-property'\r\nimport setProperty from './set-property';\r\n\r\nexport default function setByPathArr(context, propertyName, pathArray, value, options) {\r\n\r\n\tif (context == null || !_.isObject(context) || propertyName == null || propertyName == '') {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\r\n\tif (!pathArray.length) {\r\n\t\treturn setProperty(context, propertyName, value, options);\r\n\t}\r\n\r\n\tvar prop = getProperty(context, propertyName);\r\n\r\n\tif (!_.isObject(prop) && !options.force) {\r\n\t\treturn;\r\n\t} else if (!_.isObject(prop) && options.force) {\r\n\t\tprop = setProperty(context, propertyName, {}, options);\r\n\t}\r\n\r\n\tvar nextName = pathArray.shift();\r\n\r\n\treturn setByPathArr(prop, nextName, pathArray, value, options);\r\n}\r\n","import setByPathArray from './set-by-path-array';\r\nimport isModel from '../../bb/is-model';\r\n\r\nexport default function setByPath (context, path, value, opts) {\r\n\t\r\n\t\r\n\tif(context == null || !_.isObject(context) || path == null || path == '') return;\r\n\t\r\n\tlet options = _.extend({}, opts);\r\n\toptions.silent = options.silent === true;\r\n\toptions.force = options.force !== false;\r\n\t\r\n\t\r\n\tif (_.isObject(path) && !_.isArray(path)) {\r\n\t\tvalue = path.value;\r\n\t\toptions.force = path.force !== false;\r\n\t\toptions.silent = path.silent === true;\r\n\t\tpath = path.path;\r\n\t}\r\n\t\r\n\toptions.path = path;\r\n\toptions.passPath = [];\r\n\toptions.models = [];\r\n\r\n\r\n\tif (path == null || path == '') return;\r\n\r\n\tvar pathArray = _.isString(path) ? path.split('.') \r\n\t\t\t\t\t\t: _.isArray(path) ? [].slice.call(path)\r\n\t\t\t\t\t\t\t: [path];\r\n\t\r\n\toptions.pathArray = [].slice.call(pathArray);\r\n\r\n\tif(!pathArray.length) return;\r\n\r\n\tvar prop = pathArray.shift();\r\n\r\n\tif(isModel(context)){\r\n\t\toptions.models.push({\r\n\t\t\tpath: '',\r\n\t\t\tproperty: prop,\r\n\t\t\tmodel: context\r\n\t\t});\r\n\t}\r\n\r\n\tlet result = setByPathArray(context, prop, pathArray, value, options);\r\n\r\n\tif(result === undefined && value !== undefined)\r\n\t\treturn result;\r\n\r\n\t//triggering change event on all met models\r\n\tif(!options.silent){\r\n\t\tlet originPath = options.pathArray.join(':');\r\n\t\twhile(options.models.length){\r\n\t\t\tlet modelContext = options.models.pop();\r\n\t\t\tlet propertyEventName = modelContext.path == '' \r\n\t\t\t\t? originPath \r\n\t\t\t\t: originPath.substring(modelContext.path.length + 1);\r\n\r\n\t\t\tif (propertyEventName) {\r\n\t\t\t\tmodelContext.model.trigger('change:' + propertyEventName, value);\r\n\t\t\t}\r\n\t\t\tmodelContext.model.trigger('change', modelContext.model);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\treturn result;\r\n};\r\n\r\n\r\n","import setByPath from '../set-by-path';\r\n\r\nexport default function unFlat(obj) {\r\n\r\n\tif (obj == null || !_.isObject(obj)) return;\r\n\tvar res = {};\r\n\tfor (var e in obj) {\r\n\t\tsetByPath(res, e, obj[e], true);\r\n\t}\r\n\treturn res;\r\n}\r\n\r\n","import comparator from './comparator';\r\nimport compareAB from './compare-ab';\r\nimport extend from './extend';\r\nimport flat from './flat';\r\nimport getByPath from './get-by-path';\r\nimport getProperty from './get-property';\r\nimport isKnownCtor from './is-known-ctor';\r\nimport mix from './mix';\r\nimport setByPath from './set-by-path';\r\nimport unflat from './unflat';\r\n\r\nexport default {\r\n\tcomparator, compareAB, extend,\r\n\tflat, getByPath, getProperty, isKnownCtor, \r\n\tmix, setByPath, unflat\r\n};\r\n","import mixins from './mixins';\r\nimport utils from './utils';\r\n\r\nexport default {\r\n\tmixins, utils\r\n};\r\n"],"names":["Backbone","Model","Collection","View","Router","Mn","Object","MnObject","isKnownCtor","arg","isFn","_","isFunction","result","knownCtors","some","ctor","prototype","getProperty","valueContext","key","options","fallback","context","deep","undefined","force","args","value","fallbackOptions","extend","call","apply","default","Base","getOption","getNestedResult","schema","nested","getPropertySchema","model","getDisplayConfig","getPropertyDisplayConfig","display","isModel","name","isObject","get","gettingByPath","getByPathArray","propertyName","pathArray","prop","length","nextName","shift","getByPath","obj","path","isString","split","isArray","slice","originalGet","Mixed","indexOf","opts","size","transform","raw","alternative","ifEmpty","smartGet","defaultCssConfig","beforeRender","modelChange","refresh","constructor","arguments","_setupCssClassModifiers","refreshCssClass","className","_getCssClassString","$el","removeAttr","attr","class","_getCssClassModifiers","optsModifiers","propsModifiers","modifiers","concat","getCssClassModifiers","classes","map","cls","ready","filter","f","uniq","join","trim","_cssClassModifiersInitialized","cfg","getCssClassConfig","events","getCssClassEvents","each","eventName","on","listenTo","_getCssClassConfig","_getCssClassEvents","push","cssClassModifiers","common","view","isView","getModel","compareAB","a","b","func","getView","every","comparator","single","traverse","fields","root","babelHelpers.typeof","hash","attributes","props","getOwnPropertyNames","x","Date","Array","flattenObject","res","mergeObjects","wrapObjectWithConstructor","normalizeArguments","wrap","merge","ctors","unshift","withMethod","mixins","reduce","Memo","Ctor","mix","_ctor","defaultOptions","Error","with","setProperty","set","silent","models","passPath","property","setByPathArr","setByPath","setByPathArray","originPath","modelContext","pop","propertyEventName","substring","trigger","unFlat","e","flat","unflat","utils"],"mappings":"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"}