{"version":3,"file":"index.js","sources":["vendors/marionette.js","utils/mix/options.js","utils/mix/create-mixin-from-object.js","utils/mix/normalize-arguments.js","utils/mix/with.js","vendors/helpers.js","utils/mix/index.js","components/base-object/index.js","utils/is-known-ctor/ctors.js","utils/is-known-ctor/index.js","utils/better-result/index.js","utils/get-option/index.js","mixins/common/get-option/index.js","utils/camel-case/index.js","utils/trigger-method/index.js","utils/trigger-method-on/index.js","components/process/register.js","components/process/helpers.js","components/process/index.js","mixins/common/startable/index.js","mixins/common/childrenable/index.js","mixins/model/smart-get/get-nested-result.js","mixins/model/smart-get/get-property-schema.js","mixins/model/smart-get/get-display-config.js","utils/get-by-path/get-property.js","utils/get-by-path/get-by-path-array.js","utils/get-by-path/index.js","mixins/model/smart-get/index.js","mixins/collection/is-fetching/index.js","mixins/view/css-class-modifiers/index.js","utils/take-first/index.js","utils/compare-ab/get-model.js","utils/compare-ab/get-view.js","utils/compare-ab/index.js","utils/comparator/index.js","utils/convert-string/to-number.js","utils/to-bool/options.js","utils/to-bool/index.js","utils/convert-string/index.js","utils/flat/traverse.js","utils/flat/index.js","utils/has-flag/index.js","utils/is-empty-value/index.js","utils/get-flag/index.js","utils/params-to-object/index.js","utils/set-by-path/set-property.js","utils/set-by-path/ensure-arguments.js","utils/set-by-path/set-by-path-array.js","utils/set-by-path/normalize-options.js","utils/set-by-path/trigger-model-change-events.js","utils/set-by-path/index.js","utils/unflat/index.js","utils/compare-objects/index.js","utils/merge-objects/index.js","utils/merge-options/index.js","utils/build-view-by-key/index.js","utils/enums/index.js","utils/skip-take/index.js","utils/index.js","mixins/view/nested-views/build-region.js","mixins/view/nested-views/normalize-region.js","mixins/view/nested-views/index.js","components/view-manager/borrow.js","components/view-manager/collection.js","components/view-manager/common.js","components/view-manager/customs.js","components/view-manager/utils.js","components/view-manager/models.js","components/view-manager/render.js","components/view-manager/empty-view.js","components/view-manager/index.js","mixins/view/next-view/index.js","mixins/view/destroy/index.js","mixins/view/build-view-by-key/index.js","mixins/controls/button/index.js","mixins/controls/control/index.js","mixins/collection-view/customs/index.js","components/text-view/index.js","mixins/controls/control-view/index.js","mixins/controls/input/get-input-type.js","mixins/controls/input/set-attributes.js","mixins/controls/input/events/_get-option.js","mixins/controls/input/events/_is-char.js","mixins/controls/input/events/keydown.js","mixins/controls/input/events/keyup.js","mixins/controls/input/events/paste.js","mixins/controls/input/events/blur.js","mixins/controls/input/events/focus.js","mixins/controls/input/events/input.js","mixins/controls/input/events/index.js","mixins/controls/input/handle-event.js","mixins/controls/input/set-events.js","mixins/controls/input/index.js","mixins/controls/promise-bar/index.js","components/validator/rules.js","components/validator/validate.js","components/validator/index.js","mixins/controls/edit-schema/common.js","components/model-schema/schema.js","components/model-schema/property-schema.js","mixins/controls/edit-schema/property.js","components/model-schema/model-schema.js","mixins/controls/edit-schema/model.js","mixins/collection-view/empty-fetch/index.js","mixins/collection-view/improved-indexes/index.js","mixins/collection-view/next-collection-view/index.js","components/actions/action.js","components/actions/store.js","components/actions/actionable.js","components/app-error/index.js","components/bearer-token/index.js","components/render-in-node/index.js","components/view-stack/index.js","components/modals/view-mixin.js","components/modals/config.js","components/modals/index.js","components/model-schema/store.js","components/navigation/router/build-route-context.js","components/navigation/router/action-context.js","components/navigation/router/process-callback.js","components/navigation/route-error-handler/index.js","components/navigation/router/index.js","components/navigation/page/router.js","components/navigation/page/routes-mixin.js","components/navigation/page/index.js","components/navigation/history/index.js","components/navigation/history-watcher/index.js","components/navigation/navigator/index.js","components/store/fake.js","components/store/store.js","components/store/index.js"],"sourcesContent":["import Mn, { Region, View } from 'backbone.marionette';\r\n\r\nconst MnObject = Mn.Object || Mn.MnObject;\r\n\r\n\r\nexport {\r\n\tMnObject, Region, View\r\n};\r\n","export default {\r\n\tmergeObjects: true,\r\n\twrapObjectWithConstructor: true,\r\n};\r\n","export default function createMixinFromObject(arg) {\r\n\tlet mixedObj = _.clone(arg);\r\n\tlet mixedCtor = _.isFunction(mixedObj.constructor) && mixedObj.constructor;\r\n\treturn Base => { \r\n\t\tif (_.isFunction(mixedCtor)) {\r\n\t\t\t//let providedCtor = ((mixed) => mixed)(obj.constructor);\r\n\t\t\tmixedObj.constructor = function mx(){\r\n\t\t\t\tBase.apply(this, arguments);\r\n\t\t\t\tmixedCtor.apply(this, arguments);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn Base.extend(mixedObj);\r\n\t};\r\n}\r\n","\r\nimport createMixinFromObject from './create-mixin-from-object.js';\r\n\r\nexport default function normalizeArguments(args, opts = {}) {\r\n\tlet raw = {};\r\n\tlet wrap = opts.wrapObjectWithConstructor == true;\r\n\tlet merge = opts.mergeObjects == true;\r\n\tlet mixins = [];\r\n\t_(args).each(arg => {\r\n\t\t\r\n\t\t//if argument is function just put it to mixins array\r\n\t\t//and continue;\r\n\t\tif (_.isFunction(arg)) {\r\n\t\t\tmixins.push(arg);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//if argument is not an object just skip it\r\n\t\tif (!_.isObject(arg)) return;\r\n\r\n\t\t//if mergeObjects == false or wrapObjectWithConstructor == true \r\n\t\t//and there is a constructor function\r\n\t\t//converting to a mixin function\r\n\t\t//otherwise extend rawObject\r\n\t\tif (!merge || (wrap && _.isFunction(arg.constructor))) {\r\n\t\t\tmixins.push(createMixinFromObject(arg));\r\n\t\t} \r\n\t\telse {\r\n\t\t\t_.extend(raw, arg);\r\n\t\t}\r\n\t\r\n\t});\r\n\r\n\t//if rawObject is not empty\r\n\t//convert it to a mixin function\r\n\t//and put it to the begin of mixins array\r\n\tif (_.size(raw))\r\n\t\tmixins.unshift(createMixinFromObject(raw));\r\n\r\n\treturn mixins;\r\n}\r\n","\r\n\r\nimport normalizeArguments from './normalize-arguments.js';\r\n\r\nexport default function withMethod(...args) {\r\n\r\n\tlet mixins = normalizeArguments(args, this.options);\r\n\tlet Mixed = this.class;\r\n\tif (!mixins.length) return Mixed;\r\n\telse\r\n\t\treturn _.reduce(mixins, (Memo, Ctor) => { \r\n\t\t\tlet mixed = Ctor(Memo);\r\n\t\t\treturn mixed;\r\n\t\t}, Mixed);\r\n\r\n}\r\n","import { Model, Collection, BackboneView as View } from './backbone.js';\r\n\r\n\r\nexport function isClass(arg, Base){\r\n\treturn _.isFunction(arg) && (arg == Base || arg.prototype instanceof Base);\r\n}\r\n\r\n\r\nexport function isModel(arg){\r\n\treturn arg instanceof Model;\r\n}\r\nexport function isModelClass(arg) {\r\n\treturn isClass(arg, Model);\r\n}\r\n\r\n\r\nexport function isCollection(arg){\r\n\treturn arg instanceof Collection;\r\n}\r\nexport function isCollectionClass(arg) {\r\n\treturn isClass(arg, Collection);\r\n}\r\n\r\n\r\nexport function isView(arg){\r\n\treturn arg instanceof View;\r\n}\r\n\r\n\r\nexport function isViewClass(arg) {\r\n\treturn isClass(arg, View);\r\n}\r\n\r\nexport const extend = Model.extend;\r\n\r\n","import defaultOptions from './options.js';\r\nimport withMethod from './with.js';\r\n\r\nimport extend from '../extend/index.js';\r\n\r\n\r\n\r\nexport default function mix(_ctor, options) {\r\n\r\n\tlet opts = _.extend({}, defaultOptions, options);\r\n\r\n\tlet ctor;\r\n\r\n\tif (_.isFunction(_ctor)) {\r\n\t\tctor = _ctor;\r\n\t}\r\n\telse if (_.isObject(_ctor)) {\r\n\t\tlet b = _.isFunction(_ctor.constructor) && _ctor.constructor;\r\n\t\tctor = function mx() { b.apply(this, arguments); };\r\n\t\t_.extend(ctor.prototype, _.omit(_ctor,'constructor'));\r\n\r\n\t} else {\r\n\t\tthrow new Error('Mix argument should be a class or a plain object');\r\n\t}\r\n\r\n\tif (!_.isFunction(ctor.extend))\r\n\t\tctor.extend = extend;\r\n\r\n\treturn {\r\n\t\toptions: opts,\r\n\t\twith: withMethod,\r\n\t\tclass: ctor,\r\n\t};\r\n}\r\n","import mix from '../../utils/mix/index.js';\r\n\r\nconst BaseModel = mix(function BbmnBase(){}).class;\r\n\r\nexport default BaseModel;\r\n\r\n","import { Model, Collection, BackboneView as View, Router } from '../../vendors/backbone.js';\r\nimport { MnObject } from '../../vendors/marionette.js';\r\nimport Mn from 'backbone.marionette';\r\nimport BaseObject from '../../components/base-object/index.js';\r\nlet ctors = [\r\n\tModel,\r\n\tCollection,\r\n\tView,\r\n\tRouter,\r\n\tMnObject,\r\n\tBaseObject\r\n];\r\n\r\nlet tryGetFromMn = ['Region', 'Application', 'AppRouter'];\r\n\r\n_.each(tryGetFromMn, ClassName => {\r\n\t_.isFunction(Mn[ClassName]) && ctors.push(Mn[ClassName]);\r\n});\r\n\r\n\r\nexport default ctors;\r\n","import knownCtors from './ctors.js';\r\n\r\nfunction isKnownCtor(arg) {\r\n\tlet isFn = _.isFunction(arg);\r\n\tlet result = _(knownCtors).some((ctor) => arg === ctor || arg.prototype instanceof ctor);\r\n\treturn isFn && result;\r\n}\r\n\r\nexport default isKnownCtor;\r\n","import isKnownCtor from '../is-known-ctor/index.js';\r\nexport default function betterResult(obj, key, opts = {})\r\n{\r\n\tlet { context, args, checkAlso, force } = opts;\r\n\tlet defaultValue = opts.default;\r\n\r\n\tif(!_.isString(key) || key === '') return;\r\n\t\r\n\tlet value = (obj || {})[key];\r\n\r\n\tif (value != null && (!_.isFunction(value) || isKnownCtor(value)))\r\n\t\treturn value;\r\n\t\t\r\n\tlet result = force !== false && _.isFunction(value) ? value.apply(context || obj, args) : value;\r\n\r\n\tif (result == null && _.isObject(checkAlso)) {\r\n\t\tlet alsoOptions = _.omit(opts, 'checkAlso');\r\n\t\tresult = betterResult(checkAlso, key, alsoOptions);\r\n\t}\r\n\r\n\tif (result == null && defaultValue != null )\r\n\t\tresult = defaultValue;\r\n\r\n\treturn result;\r\n}\r\n","import result from '../better-result/index.js';\r\n\r\nexport default function getOption(context = {}, key, opts, also) {\r\n\r\n\tif(_.isObject(key) && _.isString(opts)){\r\n\t\tlet _opts = also;\r\n\t\talso = key;\r\n\t\tkey = opts;\r\n\t\topts = _opts;\r\n\t}\r\n\r\n\tlet options = _.extend({ args:[context], context }, opts, { default: null });\r\n\tlet { deep } = options;\r\n\tlet defaultValue = opts && opts.default;\r\n\r\n\tlet value = result(context.options || also, key, options);\r\n\tif (value == null && deep !== false) {\r\n\t\tvalue = result(context, key, options);\r\n\t}\r\n\t\r\n\treturn value != null ? value : defaultValue;\r\n\r\n}\r\n\r\nexport function instanceGetOption(...args){\r\n\treturn getOption(this, ...args);\r\n}\r\n","import result from '../../../utils/better-result/index.js';\r\nimport getOption from '../../../utils/get-option/index.js';\r\n\r\nconst Mixin = Base => Base.extend({\r\n\r\n\t//property first approach\r\n\tgetProperty(key, opts){\r\n\t\t\r\n\t\tlet defaultGetArguments = result(this, '_getPropertyArguments', { args:[this], default:[this] });\r\n\t\tlet options = _.extend({\r\n\t\t\tdeep: Mixin.defaults.deep,\r\n\t\t\tforce: Mixin.defaults.force,\r\n\t\t\targs: defaultGetArguments\r\n\t\t}, opts, {\r\n\t\t\tcontext: this,\r\n\t\t});\r\n\t\tlet { deep } = options;\r\n\r\n\t\tlet value = result(this, key, options);\r\n\t\tif (value == null && deep !== false) {\r\n\t\t\tvalue = result(this.options, key, options);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\r\n\t//options first approach\r\n\tgetOption(key, opts){\r\n\t\tlet defaultGetArguments = result(this, '_getOptionArguments', { args:[this], default:[this] });\r\n\t\tlet options = _.extend({\r\n\t\t\tdeep: Mixin.defaults.deep,\r\n\t\t\tforce: Mixin.defaults.force,\r\n\t\t\targs: defaultGetArguments\r\n\t\t}, opts);\r\n\r\n\t\treturn getOption(this, key, options);\r\n\t},\r\n\r\n\tmergeOptions(values = {}, keys = [], opts = {}){\r\n\t\t\r\n\t\tif(_.isString(keys))\r\n\t\t\tkeys = keys.split(/\\s*,\\s*/);\r\n\r\n\t\t_.each(keys, (key) => {\r\n\t\t\tconst option = result(values, key, _.extend({ force: false }, opts));\r\n\t\t\tif (option !== undefined) {\r\n\t\t\t\tthis[key] = option;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n}, {\r\n\tGetOptionMixin:true\r\n});\r\n\r\nMixin.defaults = {\r\n\tdeep: true,\r\n\tforce: true\r\n};\r\n\r\nexport default Mixin;\r\n","// camelCase('asd:qwe:zxc') -> asdQweZxc\r\n// camelCase('asd:qwe:zxc', true) -> AsdQweZxc\r\nexport default function camelCase(...args) {\r\n\t\r\n\tlet text;\r\n\tlet first;\r\n\r\n\tif (!args.length) return;\r\n\telse if (args.length == 1) {\r\n\t\ttext = args[0];\r\n\t} else {\r\n\t\tif(_.isBoolean(args[args.length - 1])){\r\n\t\t\tfirst = args.pop();\r\n\t\t}\r\n\t\ttext = _.filter(args, chunk => chunk != null).join(':');\r\n\t}\r\n\r\n\tif (!text) return text;\r\n\r\n\tif (!_.isString(text)) return text.toString();\r\n\ttext = text.replace(/:{2,}/gmi,':');\r\n\tvar splitter = first === true ? /(^|:)(\\w)/gi : /(:)(\\w)/gi;\r\n\ttext = text.replace(splitter, (match, prefix, text) => text.toUpperCase());\r\n\tif(!first)\r\n\t\ttext = text.replace(/(^)(\\w)/gi, (match, prefix, text) => text.toLowerCase());\r\n\treturn text;\r\n\r\n}\r\n","\r\nimport camelCase from '../camel-case/index.js';\r\nimport getOption from '../get-option/index.js';\r\n\r\nexport default function triggerMethod(event, ...args) {\r\n\t// get the method name from the event name\r\n\tconst methodName = camelCase('on:' + event);\r\n\tconst method = getOption(this, methodName, { force: false });\r\n\tlet result;\r\n  \r\n\t// call the onMethodName if it exists\r\n\tif (_.isFunction(method)) {\r\n\t\t// pass all args, except the event name\r\n\t\tresult = method.apply(this, args);\r\n\t}\r\n  \r\n\tif(_.isFunction(this.trigger)) {\r\n\t\t// trigger the event\r\n\t\tthis.trigger.apply(this, arguments);\r\n\t}\r\n  \r\n\treturn result;\r\n}\r\n\r\n\r\n","import triggerMethod from '../trigger-method/index.js';\r\n\r\nexport default function triggerMethodOn(context, event, ...args) {\r\n\treturn triggerMethod.call(context, event, ...args);\r\n}\r\n","\r\nexport default function (Process, context, name, opts) {\r\n\r\n\tcontext[name] = function(...args){\r\n\t\t\r\n\t\tlet process = new Process(context, name, _.extend({}, opts));\r\n\t\tlet concurrent = process.concurrencyCheck();\r\n\r\n\t\tif (concurrent)\r\n\t\t\treturn concurrent;\r\n\t\telse\r\n\t\t\treturn process.run(...args);\r\n\r\n\t};\r\n\r\n}\r\n","export function isPromisable(arg){\r\n\treturn arg instanceof Promise || _.isFunction(arg && arg.then);\r\n}\r\n\r\nexport function asArray(arg) {\r\n\tif(_.isArray(arg))\r\n\t\treturn arg;\r\n\telse if(arg == null || arg === '')\r\n\t\treturn [];\r\n\telse\r\n\t\treturn [arg];\r\n}\r\n\r\nexport function race(...promises){\r\n\treturn Promise.race(promises);\r\n}\r\n\r\nexport function valueToPromise(arg){\r\n\tif(!isPromisable(arg)) {\r\n\t\tlet result = arg;\r\n\t\targ = arg == null || arg === '' ? Promise.resolve() : Promise.reject(result);\r\n\t}\r\n\treturn arg;\t\t\r\n}\r\n","import mix from '../../utils/mix/index.js';\r\nimport triggerMethodOn from '../../utils/trigger-method-on/index.js';\r\nimport camelCase from '../../utils/camel-case/index.js';\r\nimport result from '../../utils/better-result/index.js';\r\nimport register from './register.js';\r\n\r\nimport { isPromisable, race, asArray, valueToPromise } from './helpers.js';\r\n\r\nconst Process = mix({\r\n\tconstructor: function Process(context, name, opts){\r\n\t\tthis._initDefaults(name, context);\r\n\t\tthis._initCancelation();\r\n\t\tthis._mergeOptions(opts);\r\n\t},\r\n\r\n\r\n\t// initialize methods\r\n\r\n\t_initDefaults(name, context){\r\n\t\tif(name == null || name === '')\r\n\t\t\tthrow new Error('Process requires two arguments: name [string], context [object]. name missing');\r\n\t\t\r\n\t\tif(!_.isObject(context))\r\n\t\t\tthrow new Error('Process requires two arguments: name [string], context [object]. context is not an object');\r\n\r\n\t\tthis.cid = _.uniqueId('process');\r\n\t\tthis.name = name;\r\n\t\tthis.context = context;\r\n\t\tthis.errors = [];\r\n\t},\r\n\r\n\t_initCancelation(){\r\n\t\tthis.cancelPromise = new Promise((resolve, reject) => {\r\n\t\t\tthis.cancel = () => reject('cancel'); \r\n\t\t});\r\n\t},\r\n\t_mergeOptions(opts = {}){\r\n\t\tlet options = _.omit(opts, 'cid', 'name', 'context', 'cancelPromise', 'cancel', 'errors');\r\n\t\t_(options).each((value, key) => this[key] = value);\r\n\t},\r\n\r\n\t\r\n\tconcurrencyCheck(){\r\n\r\n\t\tlet previous = this.getProcessFromContext();\r\n\t\t//console.log(previous, this.context);\r\n\t\tif(!previous) return;\r\n\t\r\n\t\tlet concurrent = this.concurrent;\t\r\n\t\t\r\n\t\tif (concurrent === false) {\r\n\t\r\n\t\t\tthis.cancel();\r\n\t\r\n\t\t} else if (concurrent == 'first') {\r\n\t\r\n\t\t\treturn previous.promise;\r\n\t\r\n\t\t} else if (concurrent == 'last') {\r\n\t\r\n\t\t\tprevious.cancel();\r\n\t\r\n\t\t}\t\t\r\n\t},\r\n\r\n\r\n\t// life cycle methods\t\r\n\r\n\trun(...args){\r\n\t\tthis.updateProcessInContext(this);\r\n\t\tthis.args = args || [];\r\n\t\tthis.promise = this._createLifeCyclePromise();\r\n\t\treturn this.promise;\r\n\t},\r\n\r\n\r\n\t_createLifeCyclePromise(){\r\n\r\n\r\n\t\treturn this._notCanceled()\r\n\t\t\t.then(() => this._begin())\r\n\t\t\t.then(() => this._beforeStart())\r\n\t\t\t.then(() => this._canBeStarted())\r\n\t\t\t.then(() => this._waitOtherPromises())\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.triggerComplete();\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.triggerError(error);\r\n\t\t\t\tlet jsError;\r\n\t\t\t\tif(error instanceof Error) {\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t} else if ((jsError = this.getJsError())) {\r\n\t\t\t\t\tthrow jsError;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(this);\r\n\t\t\t\t}\r\n\t\t\t});\t\t\r\n\t},\r\n\r\n\r\n\r\n\r\n\t_notCanceled() {\r\n\t\treturn this._cancelationRace(Promise.resolve());\r\n\t},\r\n\t_begin(){\r\n\t\treturn this._getHookResultAsPromise('begin');\r\n\t},\r\n\t_beforeStart(){\r\n\t\treturn this._getHookResultAsPromise('before');\r\n\t},\r\n\t_canBeStarted(){\r\n\t\tlet contextMethod = 'can:not:' + this.name;\r\n\t\tlet promise = this.invokeOnContext(contextMethod);\r\n\t\tif(!isPromisable(promise)) {\r\n\t\t\tpromise = (promise == null || promise === '') \r\n\t\t\t\t? Promise.resolve()\r\n\t\t\t\t: Promise.reject(promise);\r\n\t\t}\r\n\t\treturn this._cancelationRace(promise);\r\n\t},\r\n\t_waitOtherPromises(){\r\n\t\tlet contextMethod = `get:${this.name}:promises`;\r\n\t\t\r\n\t\tlet promises = asArray(this.invokeOnContext(contextMethod));\r\n\r\n\t\treturn this._cancelationRace(Promise.all(promises));\r\n\t},\r\n\r\n\t_getHookResultAsPromise(hookName){\r\n\t\tlet procMethod = camelCase('on:' + hookName);\r\n\t\tlet procHook = _.isFunction(this[procMethod]) && this[procMethod](this.context, ...this.args) || undefined;\r\n\t\tlet result = valueToPromise(procHook).then(() => {\r\n\t\t\tlet cntxHook = this.triggerOnContext(hookName);\r\n\t\t\treturn valueToPromise(cntxHook);\r\n\t\t});\r\n\r\n\t\treturn this._cancelationRace(result);\r\n\r\n\t},\r\n\r\n\t// trigger methods\r\n\r\n\ttriggerComplete() { \r\n\r\n\t\tthis.updateProcessInContext(null);\r\n\r\n\t\tif (_.isFunction(this.onComplete))\r\n\t\t\tthis.onComplete(this.context, ...this.args);\r\n\r\n\t\tthis.triggerOnContext();\r\n\r\n\t\tthis.triggerEnd();\r\n\t\t\r\n\t\r\n\t},\r\n\ttriggerError(errors){\r\n\r\n\r\n\t\tthis.updateProcessInContext(null);\t\t\r\n\r\n\t\tif(!_.isArray(errors))\r\n\t\t\terrors = [errors];\r\n\r\n\t\tthis.errors.push(...errors);\r\n\r\n\t\t\r\n\t\tif (_.isFunction(this.onError))\r\n\t\t\tthis.onError(this.context, ...this.errors);\r\n\t\t\r\n\t\tthis.triggerOnContext('error', ...this.errors);\r\n\t\t\r\n\t\tthis.triggerEnd();\r\n\r\n\t\t\r\n\t},\r\n\ttriggerEnd(){\r\n\t\tthis.triggerOnContext('end');\r\n\t},\r\n\r\n\r\n\r\n\t// helpers methods\r\n\r\n\tgetJsError(context){\r\n\t\t!context && (context = this);\r\n\t\tif(context != this && (!_.isObject(context) || !_.isArray(context.errors)))\r\n\t\t\treturn;\r\n\r\n\t\treturn _(context.errors).filter(f => f instanceof Error)[0];\r\n\t},\t\r\n\r\n\t_cancelationRace(promise){\r\n\t\treturn race(this.cancelPromise, promise);\r\n\t},\r\n\r\n\r\n\tgetContextProcessKey(){\r\n\t\treturn camelCase(`_process:${this.name}:executing`);\r\n\t},\r\n\tgetProcessFromContext(){\r\n\t\tlet key = this.getContextProcessKey();\r\n\t\treturn this.context[key];\r\n\t},\r\n\tupdateProcessInContext(process){\r\n\t\tlet key = this.getContextProcessKey();\t\t\r\n\t\tthis.context[key] = process;\r\n\t},\r\n\r\n\r\n\r\n\ttriggerOnContext (eventName) {\r\n\t\r\n\t\tlet context = this.context; \r\n\t\tif(!_.isFunction(context.trigger))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tlet event = (eventName ? eventName + ':' : '') + this.name;\r\n\t\t\r\n\t\treturn triggerMethodOn(context, event, this, ...this.args);\r\n\t\r\n\t},\r\n\r\n\tinvokeOnContext(methodName)\r\n\t{\r\n\t\tlet method = camelCase(methodName);\r\n\t\tlet context = this.context;\r\n\t\tlet args = this.args;\r\n\t\treturn result(context, method, { args });\r\n\r\n\t}\r\n\r\n}).class;\r\n\r\n\r\nProcess.register = function(context, name, opts) {\r\n\treturn register(this, context, name, opts);\r\n};\r\n\r\nexport default Process;\r\n","import Process from '../../../components/process/index.js';\r\n\r\nconst defaultStartableOptions  = {\r\n\tconcurrent: false,\r\n\r\n\t//good place to supply own state collecting logic\r\n\tstoreState(){\r\n\r\n\t\tthis.contextState = [{\r\n\t\t\tkey: 'startable.status',\r\n\t\t\tvalue: this.context['startable.status']\r\n\t\t}];\r\n\r\n\r\n\t\t/*\r\n\r\n\t\tfor example: take all simple values from context\r\n\r\n\t\tfor(var key in this.context){\r\n\t\t\tlet value = this.context[key];\r\n\t\t\tif (value == null || !_.isObject(value.valueOf()))\r\n\t\t\t\tthis.contextState.push({ key, value });\r\n\t\t}\r\n\r\n\t\t*/\r\n\r\n\t},\r\n\trestoreState(){\r\n\t\t_(this.contextState || []).each(keyValue => {\r\n\t\t\tthis.context[keyValue.key] = keyValue.value;\r\n\t\t});\r\n\t},\r\n\tonBefore(...args){\r\n\t\tthis.storeState();\r\n\t\tthis.ensureState();\r\n\t\tthis.context['startable.status'] = this.processingName;\r\n\t\tthis.context['startable.start.lastArguments'] = args;\r\n\t},\r\n\tonComplete(){\r\n\t\tthis.context['startable.status'] = this.processedName;\r\n\t},\t\r\n\tonError(){\r\n\t\tthis.restoreState();\r\n\t},\r\n\tensureState(shouldThrow = true){\r\n\t\tlet other = this.name == 'start' ? 'stop' : 'start';\r\n\t\tlet error = this.name == 'start' ? 'not:stopped' : 'not:started';\r\n\t\tlet status = this.context['startable.status'];\r\n\t\tswitch(status){\r\n\t\tcase 'stopping':\r\n\t\tcase 'starting':\r\n\t\t\tif(shouldThrow) throw new Error('not:iddle');\r\n\t\t\telse return 'not:iddle';\r\n\t\tcase 'iddle':\r\n\t\t\tif(this.name == 'start') return;\r\n\t\t\telse if(shouldThrow) throw new Error(error);\r\n\t\t\telse return error;\r\n\t\tcase other:\r\n\t\t\tif(shouldThrow) throw new Error(error);\r\n\t\t\telse return error;\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst defaultStartOptions  = {\r\n\tprocessingName: 'starting',\r\n\tprocessedName: 'started'\r\n};\r\nconst defaultStopOptions  = {\r\n\tprocessingName: 'stopping',\r\n\tprocessedName: 'stopped'\r\n};\r\n\r\nexport default Base => Base.extend({\r\n\tconstructor(){\r\n\r\n\t\tBase.apply(this, arguments);\r\n\t\tthis._initializeStartable();\r\n\r\n\t},\r\n\t'startable.status': 'iddle',\r\n\t_initializeStartable(){\r\n\r\n\t\tlet startable = _.extend({}, defaultStartableOptions, this.getOption('startableOptions', {args:[this]}));\r\n\r\n\t\tlet start = _.extend({}, startable, defaultStartOptions, this.getOption('startOptions', {args:[this]}));\r\n\t\tlet stop = _.extend({}, startable, defaultStopOptions, this.getOption('stopOptions', {args:[this]}));\r\n\r\n\t\tProcess.register(this, 'start', start);\r\n\t\tProcess.register(this, 'stop', stop);\r\n\r\n\t},\r\n\tisStarted(){\r\n\t\treturn this['startable.status'] === 'started';\r\n\t},\r\n\tisStopped(){\r\n\t\treturn this['startable.status'] === 'stopped' || this['startable.status'] === 'iddle';\r\n\t},\r\n\tisNotIddle(){\r\n\t\treturn this['startable.status'] === 'stopping' || this['startable.status'] === 'starting';\r\n\t},\r\n\trestart(){\r\n\t\tif(this.isNotIddle())\r\n\t\t\tthrow new Error('Restart not allowed while startable instance is not iddle: ', this['startable.status']);\r\n\t\tlet stop = this.isStarted() ? this.stop() : Promise.resolve();\r\n\t\tlet args = this['startable.start.lastArguments'] || [];\r\n\t\treturn stop.then(() => this.start(...args));\r\n\t}\r\n}, {\r\n\tStartableMixin: true\r\n});\r\n","\r\nimport isKnownCtor from '../../../utils/is-known-ctor/index.js';\r\n\r\nexport default Base => Base.extend({\r\n\r\n\tconstructor(opts){\r\n\r\n\t\tBase.apply(this, arguments);\r\n\t\tthis._initializeChildrenable(opts);\r\n\r\n\t},\r\n\t_initializeChildrenable(opts){\r\n\t\tthis.mergeOptions(opts, ['parent', 'root']);\r\n\t\tif (this.parent == null && this.root == null) \r\n\t\t\tthis.root = this;\r\n\t},\r\n\r\n\t//call this method manualy for initialize children\r\n\tinitializeChildren(){\r\n\t\tif (this._childrenInitialized) return;\r\n\r\n\t\tlet children = this.getOption('children');\r\n\t\tthis._children = [];\r\n\t\t_(children).each(child => this._initializeChild(child));\r\n\r\n\t\tthis._childrenInitialized = true;\r\n\r\n\t},\r\n\r\n\t_initializeChild(arg){\r\n\t\tlet Child;\r\n\t\tlet options = {};\r\n\r\n\t\tif (isKnownCtor(arg))\r\n\t\t\tChild = arg;\r\n\t\telse if(_.isFunction(arg)){\r\n\t\t\t\r\n\t\t\tlet invoked = arg.call(this, this);\r\n\t\t\treturn this._initializeChild(invoked);\r\n\r\n\t\t} else if (_.isObject(arg)) {\r\n\t\t\tChild = arg.Child;\r\n\t\t\t_.extend(options, _.omit(arg, 'Child'));\r\n\t\t}\r\n\r\n\t\t//if (!isKnownCtor(arg)) return;\r\n\r\n\t\t_.extend(options, this.getOption('childOptions'), { parent: this });\r\n\t\toptions = this.buildChildOptions(options);\r\n\t\t\r\n\t\tlet child = this.buildChild(Child, options);\r\n\t\tthis._children.push(child);\r\n\r\n\t},\r\n\r\n\tbuildChildOptions(options){\r\n\t\treturn options;\r\n\t},\r\n\tbuildChild(Child, options){\r\n\t\t!Child && (Child = this.getOption('defaultChildClass') || this.prototype.constructor);\r\n\t\treturn new Child(options);\r\n\t},\r\n\t_getChildren(items, opts = {}){\r\n\t\tlet { exclude, filter, map } = opts;\r\n\r\n\t\tif(exclude != null && !_.isArray(exclude))\r\n\t\t\topts.exclude = [exclude];\r\n\r\n\t\tif(!_.isFunction(filter))\r\n\t\t\tdelete opts.filter;\r\n\r\n\t\tlet result = [];\r\n\t\t_(items).each((item, index) => {\r\n\r\n\t\t\tif(!this._childFilter(item, index, opts))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif(_.isFunction(map))\r\n\t\t\t\titem = map(item);\r\n\r\n\t\t\titem && result.push(item);\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\t_childFilter(item, index, opts = {}){\r\n\t\t\r\n\t\tif(opts.force) return item;\r\n\r\n\t\tlet { exclude, filter } = opts;\r\n\r\n\t\tif(_.isFunction(this.childFilter) && !this.childFilter(item, index, opts))\r\n\t\t\treturn;\r\n\r\n\t\tif(_.isArray(exclude) && exclude.indexOf(item) >= 0)\r\n\t\t\treturn;\r\n\r\n\t\tif(_.isFunction(filter) && !filter.call(this, item, index, opts))\r\n\t\t\treturn;\r\n\r\n\t\treturn item;\r\n\t},\r\n\tchildFilter: false,\r\n\tgetChildren(opts = {}){\r\n\t\tlet children = [].slice.call(this._children || []);\r\n\t\topts.reverse && children.length > 1 && children.reverse();\t\t\r\n\t\treturn this._getChildren(children, opts);\r\n\t},\r\n\tgetAllChildren(opts = {}){\r\n\r\n\t\tlet { includeSelf, map, reverse } = opts;\r\n\t\tlet options = _.omit(opts, 'includeSelf', 'map');\r\n\r\n\r\n\t\tlet children = this.getChildren(options);\r\n\t\tlet result = _(children).chain()\r\n\t\t\t.map(child => {\r\n\t\t\t\tlet children = child.getAllChildren(options);\r\n\t\t\t\treturn reverse ? [children, child] : [child, children];\r\n\t\t\t})\r\n\t\t\t.flatten()\r\n\t\t\t.value();\r\n\r\n\t\tif (includeSelf) {\r\n\t\t\tlet method = reverse ? 'push' : 'unshift';\r\n\t\t\tresult[method](this);\r\n\t\t}\r\n\t\t\r\n\t\tif (_.isFunction(map)) {\r\n\t\t\treturn _(result).chain().map(map).filter(f => !!f).value();\r\n\t\t} else {\t\t\t\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetParent(){\r\n\t\treturn this.parent;\r\n\t}\r\n\r\n\r\n\r\n}, { ChildrenableMixin: true });\r\n","export default function getNestedResult(value, context, schema) {\r\n\treturn value != null \r\n\t\t&& _.isFunction(schema.nested) \r\n\t\t&& schema.nested(value, context);\r\n}","export default function getPropertySchema(model, key)\r\n{\r\n\tif (_.isFunction(model.getPropertySchema)) {\r\n\t\treturn model.getPropertySchema(key);\r\n\t} else {\r\n\t\treturn {};\r\n\t}\r\n}","export default function getDisplayConfig(key, model, schema){\r\n\tif (key == null) return {};\r\n\treturn (_.isFunction(model.getPropertyDisplayConfig) && model.getPropertyDisplayConfig(key))\r\n\t\t|| (schema && schema.display) || {};\r\n}","import { isModel } from '../../vendors/helpers.js';\r\nfunction getProperty(context, name)\r\n{\r\n\tif(context == null || !_.isObject(context) || name == null || name == '') return;\r\n\tif (isModel(context))\r\n\t\treturn context.get(name, { gettingByPath: true  });\r\n\telse\r\n\t\treturn context[name];\r\n}\r\nexport default getProperty;\t\r\n","\r\nimport getProperty from './get-property.js';\r\n\r\nfunction getByPathArray(context, propertyName, pathArray) {\r\n\t\r\n\tif (context == null || !_.isObject(context) || propertyName == null || propertyName == '')\r\n\t\treturn;\r\n\r\n\tvar prop = getProperty(context, propertyName);\r\n\r\n\tif (!pathArray.length || (pathArray.length && prop == null))\r\n\t\treturn prop;\r\n\r\n\tvar nextName = pathArray.shift();\r\n\r\n\treturn getByPathArray(prop, nextName, pathArray);\r\n\r\n}\r\n\r\nexport default getByPathArray;\r\n","import getByPathArray from './get-by-path-array.js';\r\n\r\nexport default function getByPath(obj, path) {\r\n\r\n\tif (obj == null || !_.isObject(obj) || path == null || path == '') return;\r\n\r\n\tvar pathArray = _.isString(path) ? path.split('.')\r\n\t\t: _.isArray(path) ? [].slice.call(path)\r\n\t\t\t: [path];\r\n\r\n\tvar prop = pathArray.shift();\r\n\r\n\treturn getByPathArray(obj, prop, pathArray);\r\n\r\n}\r\n","import { Model } from '../../../vendors/backbone.js';\r\nimport getNestedResult from './get-nested-result.js';\r\nimport getPropertySchema from './get-property-schema.js';\r\nimport getDisplayConfig from './get-display-config.js';\r\nimport getByPath from '../../../utils/get-by-path/index.js';\r\n\r\n\r\nexport default Base => {\r\n\tconst originalGet = Model.prototype.get;\r\n\tconst Mixed = Base.extend({\r\n\t\tgetByPath(key){\r\n\t\t\tif(key.indexOf('.') > -1)\r\n\t\t\t\treturn getByPath(this, key);\r\n\t\t\telse\r\n\t\t\t\treturn originalGet.call(this, key);\r\n\t\t},\r\n\t\tget(key, opts = {}){\r\n\t\t\tif(key == null || key == '') return;\t\r\n\t\t\t\r\n\t\t\tlet value = 'value' in opts \r\n\t\t\t\t? opts.value\r\n\t\t\t\t: this.getByPath.call(this, key);\r\n\r\n\t\t\tif (!_.size(opts)) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t\tlet prop = getPropertySchema(this, key);\r\n\t\t\tlet result = opts.nested && getNestedResult(value, this, prop);\r\n\t\t\tif (result != null) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\tif(_.isFunction(opts.transform) && !opts.raw) {\r\n\t\t\t\tvalue = opts.transform.call(this, value, opts, this);\r\n\t\t\t}\r\n\r\n\t\t\tif(_.isFunction(prop.transform) && !opts.raw){\r\n\t\t\t\tvalue = prop.transform.call(this, value, opts, this);\r\n\t\t\t}\r\n\r\n\t\t\tif(opts.display === true){\r\n\r\n\t\t\t\tlet display = getDisplayConfig(key, this, prop);\r\n\r\n\t\t\t\tif(opts.alternative){\r\n\t\t\t\t\tvalue = _.isFunction(display.alternative) && display.alternative.call(this, value, _.extend({},opts,prop), this);\r\n\t\t\t\t}\r\n\t\t\t\telse if(_.isFunction(display.transform)) {\r\n\t\t\t\t\tvalue = display.transform.call(this, value, opts, this);\r\n\t\t\t\t}\r\n\t\t\t\tif(display.ifEmpty && (value == null || value === ''))\r\n\t\t\t\t\treturn display.ifEmpty;\r\n\t\t\t}\r\n\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tdisplay(key, opts = {}){\r\n\t\t\t_.extend(opts, { display:true });\r\n\t\t\treturn this.get(key, opts);\r\n\t\t},\r\n\t\tpropertyName(key) {\r\n\t\t\tlet prop = getPropertySchema(this, key);\r\n\t\t\tlet display = getDisplayConfig(key, this, prop);\r\n\t\t\treturn display.label || key;\r\n\t\t}\r\n\t});\r\n\r\n\treturn Mixed;\r\n};\r\n","export default Collection => Collection.extend({\r\n\tconstructor(){\r\n\t\t\r\n\t\tthis.on({\r\n\t\t\trequest(){\r\n\t\t\t\tthis._isFetching = true;\r\n\t\t\t},\r\n\t\t\tsync(){\r\n\t\t\t\tthis._isFetching = false;\r\n\t\t\t\tthis._isFetched = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tCollection.apply(this, arguments);\r\n\t},\r\n\tisFetching(){\r\n\t\treturn this._isFetching === true;\r\n\t},\r\n\tisFetched(){\r\n\t\treturn this._isFetched === true;\r\n\t}\r\n});\r\n","import betterResult from '../../../utils/better-result/index.js';\r\nconst defaultCssConfig = {\r\n\tbeforeRender: true,\r\n\tmodelChange: true,\r\n\trefresh: true,\r\n};\r\n\r\nexport default (Base) => Base.extend({\r\n\tconstructor(){\r\n\t\tif(!this.cssClassModifiers) {\r\n\t\t\tthis.cssClassModifiers = [];\r\n\t\t}\r\n\t\tBase.apply(this, arguments);\r\n\t\tthis._setupCssClassModifiers();\t\t\r\n\t},\r\n\taddCssClassModifier(...modifiers){\r\n\t\tthis.cssClassModifiers.push(...modifiers);\r\n\t},\r\n\trefreshCssClass(){\r\n\t\tlet className = this._getCssClassString();\r\n\t\tif(className == ''){\r\n\t\t\tthis.$el.removeAttr('class');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.$el.attr({\r\n\t\t\t\tclass: className\r\n\t\t\t});\r\n\t\t}\r\n\t},\t\r\n\r\n\t_getCssClassModifiers(){\r\n\t\tlet optsModifiers = betterResult(this.options || {}, 'cssClassModifiers', { args:[this.model, this], default: [] });\r\n\t\tlet propsModifiers = betterResult(this, 'cssClassModifiers', { args:[this.model, this], default: [] });\r\n\t\tlet className = betterResult(this, 'className', { args:[this.model, this], default: [] });\r\n\t\tlet modifiers = [className].concat(optsModifiers, propsModifiers);\r\n\t\treturn modifiers;\r\n\t},\r\n\t//override this if you need other logic\r\n\tgetCssClassModifiers(){\r\n\t\treturn this._getCssClassModifiers();\r\n\t},\r\n\t_getCssClassString()\r\n\t{\r\n\t\tlet modifiers = this.getCssClassModifiers();\r\n\t\t\r\n\t\tlet classes = _(modifiers).reduce((hash, modifier) => {\r\n\t\t\tif(modifier == null || modifier === '') { return hash; }\r\n\t\t\tlet cls;\r\n\t\t\tif (_.isString(modifier)) {\r\n\t\t\t\tcls = modifier;\r\n\t\t\t} else if (_.isFunction(modifier)) {\r\n\t\t\t\tlet builded = modifier.call(this, this.model, this);\r\n\t\t\t\tcls = _.isString(builded) && builded || undefined;\r\n\t\t\t}\r\n\t\t\tcls && (hash[cls] = true);\r\n\t\t\treturn hash;\r\n\t\t}, {});\r\n\r\n\t\treturn _.keys(classes).join(' ');\r\n\r\n\t\t// return _.chain(classes)\r\n\t\t// \t.keys(classes)\r\n\t\t// \t.uniq()\r\n\t\t// \t.value()\r\n\t\t// \t.join(' ');\r\n\r\n\t},\r\n\r\n\t_setupCssClassModifiers(){\r\n\r\n\t\tif(this._cssClassModifiersInitialized) return;\r\n\r\n\t\tlet cfg = this.getCssClassConfig();\r\n\t\tif(!cfg) return;\r\n\r\n\t\tlet events = this.getCssClassEvents(cfg);\r\n\t\t_(events).each((eventName) => this.on(eventName, this.refreshCssClass));\r\n\r\n\t\tif (cfg.modelChange && this.model) {\r\n\t\t\tthis.listenTo(this.model, 'change', this.refreshCssClass);\r\n\t\t}\r\n\r\n\t\tthis._cssClassModifiersInitialized = true;\r\n\t},\r\n\t\r\n\t_getCssClassConfig(){\r\n\t\tlet cfg = _.extend({}, defaultCssConfig, this.getOption('cssClassConfig'));\r\n\t\tif(!cfg || _.size(cfg) == 0) return;\r\n\t\treturn cfg;\r\n\t},\r\n\t//override this if you need other logic\r\n\tgetCssClassConfig(){\r\n\t\treturn this._getCssClassConfig();\r\n\t},\r\n\r\n\t_getCssClassEvents(cfg){\r\n\t\tlet events = [].concat(cfg.events || []);\r\n\t\tif(cfg.refresh) events.push('refresh');\r\n\t\tif(cfg.beforeRender) events.push('before:render');\r\n\t\tevents = _(events).uniq();\r\n\t\treturn events;\r\n\t},\r\n\t//override this if you need other logic\r\n\tgetCssClassEvents(cfg){\r\n\t\treturn this._getCssClassEvents(cfg);\r\n\t}\r\n}, { CssClassModifiersMixin: true });\r\n","export default function takeFirst(key, ...args) {\r\n\tif(!_.isString(key) || key === '') return;\r\n\tlet value;\r\n\t_.some(args, arg => {\r\n\t\tif (key in (arg || {})) {\r\n\t\t\tvalue = arg[key];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\treturn value;\r\n}\r\n","import { isModel, isView } from '../../vendors/helpers.js';\r\nexport default function getModel(arg){\r\n\r\n\tif (isModel(arg)) { return arg; }\r\n\t\r\n\tif (isView(arg)) { return arg.model; }\r\n\r\n}\r\n","import { isView }  from '../../vendors/helpers.js';\r\nexport default function getModel(arg){\r\n\treturn isView(arg) && arg;\r\n}\r\n","\r\nimport getModel from './get-model.js';\r\nimport getView from './get-view.js';\r\nexport default function compareAB(a, b, func){\r\n\tif(_.isArray(func)) {\r\n\r\n\t\tlet result = 0;\r\n\r\n\t\t_(func).every((f) => {\r\n\t\t\tresult = compareAB(a,b,f);\r\n\t\t\treturn result === 0;\r\n\t\t});\r\n\t\t\r\n\t\treturn result;\r\n\t} else {\r\n\t\tif (_.isFunction(func)) {\r\n\t\t\ta = func.call(a, getModel(a), getView(a));\r\n\t\t\tb = func.call(b, getModel(b), getView(b));\r\n\t\t}\r\n\r\n\t\tif (a < b) return -1;\r\n\t\tif (a > b) return 1;\r\n\t\treturn 0;\r\n\r\n\t}\r\n}\r\n","import compareAB from '../compare-ab/index.js';\r\nexport default function comparator(...args){\r\n\tvar result = 0;\r\n\r\n\t//for simple case (arg1, arg2, compare)\r\n\tif (args.length <= 3 && !_.isArray(args[0])){\r\n\r\n\t\treturn compareAB.apply(null, args);\r\n\r\n\t} \r\n\t//for complex cases ([arg1, arg2, compare], [], .... [])\r\n\t//each arguments should be an array\r\n\telse {\r\n\r\n\t\t_(args).every((single) => {\r\n\r\n\t\t\tif(!_.isArray(single)) return true;\r\n\t\t\tresult = compareAB(...single);\r\n\t\t\treturn result === 0;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n","export default function toNumber(text){\r\n\tif(_.isNumber(text)) return text;\r\n\tif(!_.isString(text)) return;\r\n\t\r\n\tlet value = parseFloat(text, 10);\r\n\tif(isNaN(value))\r\n\t\tvalue = undefined;\r\n\t\t\r\n\treturn value;\r\n}\r\n","export default {\r\n\tnullable: true, \r\n\tstrict: false,\r\n\treturnNullAs: undefined, \r\n\treturnEmptyAs: undefined, \r\n\treturnNullAndEmptyAs: undefined,\r\n\treturnAnyAs: undefined, \r\n\treturnOtherAs: undefined\r\n};\r\n","import defaultOptions from './options.js';\r\n\r\nconst trueValues = ['true','1','-1','yes'];\r\nconst falseValues = ['false','0','no'];\r\n\r\nconst alternative = function(...args) {\r\n\tlet returnValue;\r\n\t_(args).some(arg => {\r\n\t\tif(_.isBoolean(arg)) {\r\n\t\t\treturnValue = arg;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\treturn returnValue;\r\n};\r\n\r\nconst valueOrAlternative = function(nullable, nullValue, value, ...alts){\r\n\tlet alt = alternative(...alts);\r\n\tif (alt != null)\r\n\t\treturn alt;\r\n\telse if (nullable)\r\n\t\treturn nullValue;\r\n\telse\r\n\t\treturn value;\r\n};\r\n\r\nconst convertToBoolean = function (arg, opts = {})\r\n{\r\n\r\n\tlet other;\r\n\tlet options = _.extend({}, defaultOptions, opts);\r\n\tlet { \r\n\t\tnullable, strict,\r\n\t\treturnNullAs, returnEmptyAs, returnNullAndEmptyAs,\r\n\t\treturnAnyAs, returnOtherAs\r\n\t} = options;\r\n\r\n\r\n\r\n\tif (arg == null) {\r\n\t\treturn valueOrAlternative(nullable, undefined, false, returnNullAs, returnNullAndEmptyAs);\r\n\t}\r\n\telse if (arg === '') {\r\n\t\treturn valueOrAlternative(nullable, undefined, false, returnEmptyAs, returnNullAndEmptyAs);\r\n\t} else if (_.isBoolean(arg)) {\r\n\t\treturn arg;\r\n\t}\r\n\t//  else if (_.isObject(arg)) {\r\n\t// }\r\n\t\r\n\tother = strict \r\n\t\t? (nullable ? undefined : false) \r\n\t\t: true;\r\n\t\t\r\n\r\n\tlet text = arg.toString().toLowerCase();\r\n\tlet isTrue = convertToBoolean.trueValues.indexOf(text) > -1;\r\n\tlet isFalse = convertToBoolean.falseValues.indexOf(text) > -1;\r\n\r\n\r\n\tif (_.isBoolean(returnAnyAs)) {\r\n\t\treturn returnAnyAs;\r\n\t} else if (_.isBoolean(returnOtherAs)) {\r\n\t\tother = returnOtherAs;\r\n\t}\r\n\t\r\n\treturn isTrue \r\n\t\t? true \r\n\t\t: isFalse \r\n\t\t\t? false \r\n\t\t\t: other;\r\n};\r\n\r\nconvertToBoolean.trueValues = trueValues;\r\nconvertToBoolean.falseValues = falseValues;\r\nexport default convertToBoolean;\r\n","import toNumber from './to-number.js';\r\nimport toBoolean from '../to-bool/index.js';\r\n\r\n\r\n//this is under development yet and can be change in any time\r\nexport default function convertString(text, type, opts) {\r\n\r\n\tswitch(type){\r\n\tcase 'number':\r\n\t\treturn toNumber(text, opts);\r\n\tcase 'boolean':\r\n\t\treturn toBoolean(text, opts);\r\n\tdefault:\r\n\t\treturn text;\r\n\t}\r\n\r\n\r\n}\r\n","import { isModel } from '../../vendors/helpers.js';\r\nexport default function traverse(fields, root)\r\n{\r\n\troot = root || '';\r\n\tif (this == null || typeof this != 'object') {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar hash = isModel(this) ? this.attributes : this;\r\n\r\n\tvar props = Object.getOwnPropertyNames(hash);\r\n\r\n\tfor (var x = 0; x < props.length; x++) {\r\n\t\tvar name = props[x];\r\n\t\tvar prop = this[name];\r\n\r\n\t\tif (prop == null || typeof prop != 'object' || (prop instanceof Date || prop instanceof Array)) {\r\n\r\n\t\t\tfields[root + name] = prop;\r\n\t\t}\r\n\t\telse if (typeof prop == 'object') {\r\n\r\n\t\t\ttraverse.call(prop, fields, root + name + '.');\r\n\t\t}\r\n\t}\r\n\t\t\r\n}\r\n","import traverse from './traverse.js';\r\n\r\nexport default function flattenObject(obj) {\r\n\tif (obj == null || !_.isObject(obj)) return;\r\n\tvar res = {};\r\n\ttraverse.call(obj, res);\r\n\treturn res;\r\n}\r\n","import camelCase from '../camel-case/index.js';\r\nfunction transformStringArray(arr, opts = {}){\r\n\tlet { ignoreCase = true, toCamelCase = false } = opts;\r\n\treturn _(arr).map(value => {\r\n\t\tif (ignoreCase) \r\n\t\t\treturn value.toLowerCase();\r\n\t\telse if (toCamelCase)\r\n\t\t\treturn camelCase(value);\r\n\t\telse\r\n\t\t\treturn value;\r\n\t});\r\n}\r\nexport default function hasFlag(value, flag, opts = {}){\r\n\tif (value == null || flag == null) return false;\r\n\r\n\t// if(typeof value != typeof flag)\r\n\t// \tthrow new Error('value and flag must be of same type. allowed types: string, number');\r\n\r\n\r\n\tif (_.isNumber(value) && _.isNumber(flag)) {\r\n\t\tlet has = value & flag;\r\n\t\treturn opts.all === true ? has === flag : has > 0;\r\n\t} else if ((_.isNumber(value) && !_.isNumber(flag)) || (!_.isNumber(value) && _.isNumber(flag))) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (!_.isArray(flag)) { flag = flag.toString(); }\r\n\tif (!_.isString(flag) && !_.isArray(flag)) { return false; }\r\n\r\n\tlet rawflags = _.isArray(flag) \r\n\t\t? flag\r\n\t\t: flag.split(/\\s*,\\s*/);\r\n\r\n\r\n\tlet rawvalues;\r\n\tif(_.isString(value)){\r\n\t\trawvalues = value.split(/\\s*,\\s*/);\r\n\t} else if(_.isArray(value)){\r\n\t\trawvalues = values;\r\n\t} else if(_.isObject(value)) {\r\n\t\trawvalues = opts.useObjectValues \r\n\t\t\t? _.map(value, v => v)\r\n\t\t\t: _.keys(value);\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet flags = transformStringArray(rawflags, opts);\r\n\tlet values = transformStringArray(rawvalues, opts);\r\n\r\n\tlet intersection = _.intersection(values, flags);\t\t\r\n\tif (intersection.length == 0) return false;\r\n\tif (intersection.length == flags.length) return true;\r\n\treturn opts.all != true;\r\n\r\n\r\n\t// if(_.isString(value) && _.isString(flag)) {\r\n\t// \tif(value === '' || flag === '') return false;\r\n\t// \tlet values = transformStringArray(value.split(/\\s*,\\s*/), opts);\r\n\t// \tlet flags = transformStringArray(flag.split(/\\s*,\\s*/), opts);\r\n\r\n\t// }\r\n\r\n}\r\n","export default function isEmptyValue(arg, { allowWhiteSpace = false } = {}) {\r\n\tif (arg == null || _.isNaN(arg)) return true;\r\n\tif (!_.isString(arg)) return false;\r\n\tif (arg === '') return true;\r\n\t\r\n\treturn !allowWhiteSpace && arg.trim() === '';\r\n\t\r\n}\r\n","import isEmptyValue from '../is-empty-value/index.js';\r\n\r\nfunction normalizeStringArray(arr){\r\n\treturn _.reduce(arr, (result,item) => {\r\n\t\tif(item == null) return;\r\n\t\tresult.push(item.toString());\r\n\t\treturn result;\r\n\t}, []);\r\n}\r\n\r\nfunction compare(a, b, options = {}){\r\n\tif (a == null) {\r\n\t\treturn false;\r\n\t}\r\n\tlet { caseInsensitive = true } = options;\r\n\tif (!_.isString(a)) {\r\n\t\ta = a.toString();\r\n\t}\r\n\tif(caseInsensitive) {\r\n\t\ta = a.toLowerCase();\r\n\t\tb = b.toLowerCase();\r\n\t}\r\n\treturn a === b;\r\n}\r\n\r\nexport default function getFlag(value, flag, options = {}){\r\n\tlet flags;\r\n\tif (isEmptyValue(value) || isEmptyValue(flag)) { return; }\t\r\n\tlet { returnAs, useObjectValues, takeObjectKeys, all, delimeter = ', ', doNotPluck } = options;\r\n\tif(_.isString(flag)){\r\n\t\tflags = normalizeStringArray(flag.split(/\\s*,\\s*/gmi), options);\r\n\t}else if(_.isArray(flag)) {\r\n\t\tflags = normalizeStringArray(flag, options);\r\n\t} else {\r\n\t\treturn;\r\n\t}\r\n\tif (returnAs == null) {\r\n\t\treturnAs = _.isArray(flag) ? 'array' : 'string';\r\n\t}\r\n\tif(_.isString(value)) {\r\n\t\tvalue = normalizeStringArray(value.split(/\\s*,\\s*/gmi), options);\r\n\t}\r\n\tlet isArray = _.isArray(value);\r\n\tlet method = all ? 'every' : 'some';\r\n\tlet founded = _.reduce(value, (filtered, item, key) => {\r\n\t\tlet check = item;\r\n\t\tif(!isArray && !useObjectValues){\r\n\t\t\tcheck = key;\r\n\t\t}\r\n\t\t\r\n\t\tlet good = _[method](flags, flag => compare(check, flag, options));\r\n\t\t//console.log(method, good, flags, value);\r\n\t\tif (!good) { return filtered; }\r\n\r\n\t\tif (isArray) {\r\n\t\t\tfiltered.push(check);\r\n\t\t} else {\r\n\t\t\tfiltered.push({value: item, key });\r\n\t\t}\r\n\t\treturn filtered;\r\n\t}, []);\r\n\r\n\t//console.log(founded);\r\n\tif (returnAs === 'string') {\r\n\t\tif (isArray) {\r\n\t\t\treturn founded.join(delimeter);\r\n\t\t} else {\r\n\t\t\tlet key = takeObjectKeys ? 'key' : 'value';\r\n\t\t\treturn _.pluck(founded, key).join(delimeter);\r\n\t\t}\r\n\t} else if(returnAs === 'array'){\r\n\t\tif (isArray || doNotPluck) {\r\n\t\t\treturn founded;\r\n\t\t} else {\r\n\t\t\tlet key = takeObjectKeys ? 'key' : 'value';\r\n\t\t\treturn _.pluck(founded, key);\r\n\t\t}\r\n\t} else if(returnAs === 'object') {\r\n\t\treturn _.reduce(founded, (result, item, index) => {\r\n\t\t\tlet value = isArray \r\n\t\t\t\t? item \r\n\t\t\t\t: takeObjectKeys ? item.key : item.value;\r\n\t\t\tlet key = isArray \r\n\t\t\t\t? index \r\n\t\t\t\t: takeObjectKeys ? item.value : item.key;\r\n\t\t\tresult[key] = value;\r\n\t\t\treturn result;\r\n\t\t}, {});\r\n\t}\r\n\r\n}\r\n","function pstoSetPair(context, pair){\r\n\tif(!_.isString(pair)) return;\r\n\tlet keyvalue = pair.split('=');\r\n\tlet key = keyvalue.shift();\r\n\tlet value = keyvalue.join('=');\r\n\tpstoSetKeyValue(context, key, value);\r\n}\r\n\r\nfunction pstoSetKeyValue(context, key, value){\r\n\t\t\r\n\tif (key == null) return;\r\n\tkey = decodeURIComponent(key);\r\n\tvalue != null && (value = decodeURIComponent(value));\r\n\r\n\tif(!(key in context))\r\n\t\treturn (context[key] = value);\r\n\r\n\t!_.isArray(context[key]) && (context[key] = [context[key]]);\r\n\r\n\tcontext[key].push(value);\r\n\r\n\treturn context[key];\r\n}\r\n\r\nexport default function paramsToObject(raw, opts = {emptyObject: true}){\r\n\tlet result = {};\r\n\tif(!_.isString(raw)) return opts.emptyObject ? result : raw;\r\n\r\n\tlet pairs = raw.split('&');\r\n\t_(pairs).each((pair) => pstoSetPair(result, pair));\r\n\t\r\n\treturn result;\r\n}\r\n","import getProperty from '../get-by-path/get-property.js';\r\nimport { isModel } from '../../vendors/helpers.js';\r\nfunction setProperty(context, name, value) {\r\n\tif (isModel(context)) {\r\n\t\tcontext.set(name, value, { silent: true });\r\n\t}\r\n\telse {\r\n\t\tcontext[name] = value;\r\n\t}\r\n\r\n\treturn getProperty(context, name);\r\n}\r\n\r\nexport default setProperty;\r\n","export default function ensureSetByPathArguments(context, path)\r\n{\r\n\tlet errors = [];\r\n\tif (context == null || !_.isObject(context)) {\r\n\t\terrors.push(new Error('Context is not an object'));\r\n\t}\r\n\tif (!_.isString(path) || path === '') {\r\n\t\terrors.push(new Error('Path is not a string'));\r\n\t}\r\n\tif (errors.length) {\r\n\t\treturn errors;\r\n\t}\r\n}\r\n","import getProperty from '../get-by-path/get-property.js';\r\nimport setProperty from './set-property.js';\r\nimport ensureArguments from './ensure-arguments.js';\r\nimport { isModel } from '../../vendors/helpers.js';\r\nexport default function setByPathArr(context, propertyName, pathArray, value, options) {\r\n\r\n\tlet argumentsErrors = ensureArguments(context, propertyName);\r\n\tif (argumentsErrors) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet modelContext;\r\n\tif (isModel(context)) {\r\n\t\tmodelContext = {\r\n\t\t\tmodel: context,\r\n\t\t\tproperty: propertyName,\r\n\t\t\tpathChunks: [].slice.call(pathArray)\r\n\t\t};\r\n\t}\r\n\r\n\t//set value if this is a last chunk of path\r\n\tif (!pathArray.length) {\r\n\r\n\t\tmodelContext && options.models.push(modelContext);\r\n\r\n\t\treturn setProperty(context, propertyName, value, options);\r\n\r\n\t} else {\r\n\r\n\t\tvar prop = getProperty(context, propertyName);\r\n\r\n\t\tif (!_.isObject(prop) && !options.force) {\r\n\t\t\treturn;\r\n\t\t} else if (!_.isObject(prop) && options.force) {\r\n\t\t\tprop = setProperty(context, propertyName, {}, options);\r\n\t\t} \r\n\r\n\t\tmodelContext && options.models.push(modelContext);\r\n\r\n\t\tvar nextName = pathArray.shift();\t\r\n\t\treturn setByPathArr(prop, nextName, pathArray, value, options);\r\n\r\n\t}\r\n}\r\n","export default function normalizeSetByPathOptions(opts = {}, ext)\r\n{\r\n\r\n\tlet options = _.extend({}, opts, ext, {\r\n\t\tsilent: opts.silent === true,\r\n\t\tforce: opts.force !== false,\r\n\t\t//passPath: [],\r\n\t\tmodels: []\r\n\t});\r\n\r\n\treturn options;\r\n}\r\n","export default function triggerModelEventsOnSetByPath(value, options = {})\r\n{\r\n\tif (options.silent || !options.models.length) {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\t_(options.models).each(context => {\r\n\t\tlet rest = context.pathChunks.join(':');\r\n\t\tif (rest) {\r\n\t\t\tcontext.model.trigger(`change:${context.property}:${rest}`, context.model, value);\r\n\t\t}\r\n\t\tcontext.model.trigger(`change:${context.property}`, context.model, value);\r\n\t\tcontext.model.trigger('change', context.model);\r\n\t});\r\n\r\n}\r\n","import setByPathArray from './set-by-path-array.js';\r\nimport normalizeOptions from './normalize-options.js';\r\nimport triggerModelChangeEvents from './trigger-model-change-events.js';\r\nimport ensureArguments from './ensure-arguments.js';\r\nexport default function setByPath(context, path, value, opts = {}) {\r\n\r\n\tlet argumentsErrors = ensureArguments(context, path);\r\n\tif (argumentsErrors) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tlet pathArray = path.split('.');\t\r\n\tlet options = normalizeOptions(opts, { path, pathArray: [].slice.call(pathArray) });\r\n\r\n\tlet propertyName = pathArray.shift();\r\n\r\n\tlet result = setByPathArray(context, propertyName, pathArray, value, options);\r\n\r\n\tif (result === undefined && value !== undefined) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\ttriggerModelChangeEvents(value, options);\r\n\r\n\treturn value;\r\n\r\n\t// if (_.isObject(path) && !_.isArray(path)) {\r\n\t// \tvalue = path.value;\r\n\t// \toptions.force = path.force !== false;\r\n\t// \toptions.silent = path.silent === true;\r\n\t// \tpath = path.path;\r\n\t// }\r\n\r\n\t// var prop = pathArray.shift();\r\n\r\n\t// if (isModel(context)) {\r\n\t// \toptions.models.push({\r\n\t// \t\tpath: '',\r\n\t// \t\tproperty: prop,\r\n\t// \t\tmodel: context\r\n\t// \t});\r\n\t// }\r\n\r\n}\r\n\r\n\r\n","import setByPath from '../set-by-path/index.js';\r\n\r\nexport default function unFlat(obj) {\r\n\r\n\tif (obj == null || !_.isObject(obj)) return;\r\n\tvar res = {};\r\n\tfor (var e in obj) {\r\n\t\tsetByPath(res, e, obj[e]);\r\n\t}\r\n\treturn res;\r\n}\r\n\r\n","export default function compareObjects(objectA, objectB) {\r\n\r\n\tif (!_.isObject(objectA) || !_.isObject(objectB)) {\r\n\t\treturn objectA == objectB;\r\n\t}\r\n\tif ((_.isArray(objectA) && !_.isArray(objectB)) || (_.isArray(objectB) && !_.isArray(objectA))) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (typeof objectA != typeof objectB) return false;\r\n\r\n\tlet size = _.size(objectA);\r\n\tif(size != _.size(objectB)) return false;\r\n\r\n\tif (_.isArray(objectA)) {\r\n\t\tlet allvalues = _.uniq(objectA.concat(objectB));\r\n\t\treturn _.every(allvalues, value => {\r\n\t\t\tlet valuesA = _.filter(objectA, _v => _v == value);\r\n\t\t\tlet valuesB = _.filter(objectB, _v => _v == value);\r\n\t\t\tif (valuesA.length != valuesB.length) return false;\r\n\t\t\treturn compareObjects(valuesA[0], valuesB[0]);\r\n\t\t});\r\n\t} else {\r\n\t\tlet allkeys = _.uniq(_.keys(objectA).concat(_.keys(objectB)));\r\n\t\tif (allkeys.length != size) return false;\r\n\t\treturn _.every(allkeys, key => {\r\n\t\t\treturn compareObjects(objectA[key], objectB[key]);\r\n\t\t});\r\n\t}\r\n}\r\n","import { flat, unflat } from '../index.js';\r\n\r\nexport default function mergeObject(src, dst){\r\n\tif (!_.isObject(src) || !_.isObject(dst)) {\r\n\t\treturn dst;\r\n\t}\r\n\tlet flatSrc = flat(src);\r\n\tlet flatDst = flat(dst);\r\n\t_.each(flatDst, (value, key) => {\r\n\t\tflatSrc[key] = value;\r\n\t});\r\n\treturn unflat(flatSrc);\r\n}\r\n","export default function mergeOptions(options, keys) {\r\n\tif (!options) { return; }\r\n  \r\n\t_.each(keys, key => {\r\n\t\tconst option = options[key];\r\n\t\tif (option !== undefined) {\r\n\t\t\tthis[key] = option;\r\n\t\t}\r\n\t});\r\n}\r\n","import { isView, isViewClass, getOption } from '../../utils/index.js';\r\n\r\nexport default function buildViewByKey(key, { TextView, options } = {}) {\r\n\t\r\n\tif(!_.isString(key)) { return; }\r\n\r\n\tlet view = getOption(this, key, { args: [ this ] });\r\n\tlet _options = getOption(this, key + 'Options', { args: [ this ] });\r\n\r\n\tif (TextView && _.isString(view)) {\r\n\t\t_options = _.extend({}, _options, { text: view });\r\n\t\tview = TextView;\r\n\t}\r\n\toptions = _.extend({}, options, _options);\r\n\r\n\tif (isView(view)) {\r\n\t\treturn view;\r\n\t} else if (isViewClass(view)) {\r\n\t\treturn new view(options);\r\n\t}\t\r\n}\r\n","import getFlag from '../get-flag/index.js';\r\nimport hasFlag from '../has-flag/index.js';\r\nimport getByPath from '../get-by-path/index.js';\r\nimport setByPath from '../set-by-path/index.js';\r\nimport isEmptyValue from '../is-empty-value/index.js';\r\nexport const enumsStore = {};\r\n\r\nfunction getEnum(arg){\r\n\tif(isEmptyValue(arg)){\r\n\t\treturn {};\r\n\t} else if(_.isString(arg)){\r\n\t\treturn getByPath(enumsStore, arg) || {};\r\n\t} else if(_.isObject(arg)){\r\n\t\treturn arg;\r\n\t}\r\n}\r\n\r\nexport function get(arg, flag, options){\r\n\tlet _enum = getEnum(arg);\r\n\treturn getFlag(_enum, flag, options);\r\n}\r\n\r\nexport function has(arg, flag, options){\r\n\tlet _enum = getEnum(arg);\r\n\treturn hasFlag(_enum, flag, options);\r\n}\r\n\r\nexport default {\r\n\tget,\r\n\thas,\r\n\tset(name, hash){\r\n\t\tif(_.isString(name)){\r\n\t\t\tsetByPath(enumsStore, name, hash);\r\n\t\t} else if (_.isObject(name)){\r\n\t\t\t_.extend(enumsStore, name);\r\n\t\t}\r\n\t},\r\n};\r\n","export default function skipTake(array, take, skip = 0){\r\n\tif (array == null) { return; }\r\n\tif (!_.isNumber(take) || _.isNumber(skip)) {\r\n\t\tthrow new Error('skipTake skip and take arguments must be a number');\r\n\t}\r\n\tif (!_.isArray(array) && _.isObject(array)) {\r\n\t\tarray = _.toArray(array);\r\n\t}\r\n\tlet length = take + skip;\r\n\tif(array.length < length) { length = array.length; }\r\n\tlet taken = [];\r\n\tfor (let x = skip; x < length; x++) {\r\n\t\ttaken.push(array[x]);\r\n\t}\r\n\treturn taken;\r\n}\r\n","export { default as betterResult } from './better-result/index.js';\r\nexport { default as camelCase } from './camel-case/index.js';\r\nexport { default as takeFirst } from './take-first/index.js';\r\n\r\nexport { default as comparator } from './comparator/index.js';\r\nexport { default as compareAB } from './compare-ab/index.js';\r\nexport { default as convertString } from './convert-string/index.js';\r\nexport { default as extend } from './extend/index.js';\r\n\r\nexport { default as flat } from './flat/index.js';\r\nexport { default as getByPath } from './get-by-path/index.js';\r\nexport { default as getOption } from './get-option/index.js';\r\nexport { default as hasFlag } from './has-flag/index.js';\r\nexport { default as getFlag } from './get-flag/index.js';\r\nexport { default as isKnownCtor } from './is-known-ctor/index.js';\r\n\r\nexport { default as mix } from './mix/index.js';\r\nexport { default as paramsToObject } from './params-to-object/index.js';\r\nexport { default as setByPath } from './set-by-path/index.js';\r\nexport { default as toBool } from './to-bool/index.js';\r\nexport { default as unflat } from './unflat/index.js';\r\n\r\nexport { default as compareObjects } from './compare-objects/index.js';\r\nexport { default as mergeObjects } from './merge-objects/index.js';\r\nexport { default as triggerMethod } from './trigger-method/index.js';\r\nexport { default as triggerMethodOn } from './trigger-method-on/index.js';\r\n\r\nexport { default as mergeOptions } from './merge-options/index.js';\r\n\r\nexport { default as buildViewByKey } from './build-view-by-key/index.js';\r\n\r\nexport { default as enums } from './enums/index.js';\r\n\r\nexport { default as skipTake } from './skip-take/index.js';\r\n\r\n\r\nexport { \r\n\tisModel, isModelClass, isCollection, isCollectionClass, isView, isViewClass\r\n} from '../vendors/helpers.js';\r\n\r\n/*\r\nexport default {\r\n\tbetterResult, camelCase,\r\n\tcomparator, compareAB, convertString, extend,\r\n\tflat, getByPath, getOption, hasFlag, isKnownCtor, \r\n\tmix, paramsToObject, setByPath, toBool, unflat,\r\n\tisModel, isModelClass, isCollection, isCollectionClass, isView, isViewClass,\r\n\ttriggerMethod, triggerMethodOn, mergeOptions,\r\n\tcompareObjects, mergeObjects\r\n};\r\n*/\r\n","\r\nconst defaultSelector = (name, prefix = '') => prefix + 'region-' + name;\r\n\r\nfunction defaultUpdateDom(name, $el)\r\n{\r\n\tlet selector = defaultSelector(name);\r\n\tlet element = $('<div>').addClass(selector);\r\n\t$el.append(element);\r\n\r\n\treturn '.' + selector;\r\n}\r\n\r\nexport default function buildRegionFunc(view, hash, context){\r\n\r\n\tlet { $el } = view;\t\r\n\tlet { autoCreateRegion } = context;\r\n\tlet { updateDom, name, el } = hash;\r\n\tlet regionEl;\r\n\t\r\n\tlet region = view.getRegion(name);\r\n\r\n\r\n\tif (el == null && autoCreateRegion !== false) {\r\n\r\n\t\tlet testEl = region && region.getOption('el',{ deep:false});\r\n\r\n\t\tif (!region || !testEl || !$el.find(testEl).length) {\r\n\r\n\t\t\tregionEl = defaultUpdateDom(name, $el);\r\n\r\n\t\t} \r\n\r\n\t} else if(_.isFunction(updateDom)) {\r\n\t\tupdateDom.call(view, $el, view);\r\n\r\n\t} \r\n\t\r\n\t\r\n\tif (!region) {\r\n\t\tlet definition = _.pick(hash, 'replaceElement', 'regionClass');\r\n\t\tdefinition.el = hash.el || regionEl;\r\n\t\tregion = view.addRegion(name, definition);\r\n\t}\r\n\r\n\r\n\treturn region;\r\n}\r\n","import buildRegion from './build-region.js';\r\n\r\nexport default function normalizeNestedViewContextRegion(context) {\r\n\r\n\tlet { region } = context;\r\n\tlet regionName = (_.isString(region) && region) || context.regionName || context.name;\r\n\r\n\tif (_.isString(region) || region == null) {\r\n\t\tregion = {};\r\n\t} else if (_.isFunction(region)) {\r\n\t\tregion = region.call(this, context, this);\r\n\t}\r\n\r\n\tif (_.isObject(region)) {\r\n\r\n\t\tif(!region.name)\r\n\t\t\tregion.name = regionName;\r\n\t\tlet replaceElement = this.getOption('replaceNestedElement');\r\n\t\tcontext.region = _.extend({ replaceElement }, region);\r\n\t\tcontext.show = _.partial(buildRegion, this, context.region, context);\r\n\t}\r\n\treturn context;\r\n}\r\n","//import result from '../../../utils/better-result';\r\nimport { betterResult as result } from '../../../utils/index.js';\r\nimport normalizeRegion from './normalize-region.js';\r\nimport { isView, isViewClass } from '../../../vendors/helpers.js';\r\nexport default Base => Base.extend({\r\n\tconstructor(){\r\n\t\tthis._nestedViews = {};\r\n\t\tBase.apply(this, arguments);\r\n\t\tthis.initializeNestedViews();\r\n\t},\r\n\ttemplate: false,\r\n\r\n\tshowAllNestedViewsOnRender: false,\r\n\tshowNestedViewOnAdd: false,\r\n\treplaceNestedElement: true,\r\n\r\n\tinitializeNestedViews(){\r\n\t\tif (this._nestedViewsInitialized) return;\r\n\r\n\t\tif(this.getOption('showAllNestedViewsOnRender')) {\r\n\t\t\tthis.on('render', () => this.showAllNestedViews());\r\n\t\t}\r\n\r\n\t\tlet nesteds = this.getOption('nestedViews', { args:[this.model, this]});\r\n\t\t_(nesteds).each((context, index) => {\r\n\r\n\t\t\tlet name = _.isString(index) ? index : (context.name || _.uniqueId('nested'));\r\n\t\t\tthis.addNestedView(name, context);\r\n\r\n\t\t});\r\n\r\n\t\tthis._nestedViewsInitialized = true;\r\n\t},\r\n\t_normalizeNestedContext(name, context){\r\n\r\n\t\tif (isViewClass(context)) {\r\n\t\t\tlet View = context;\r\n\t\t\tcontext = {\r\n\t\t\t\tname, View\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t//unwrap to plain object\r\n\t\tif (_.isFunction(context)) {\r\n\t\t\tcontext = context.call(this, this.model, this);\r\n\t\t}\r\n\r\n\t\t//fix name if its not provided\r\n\t\tif (context.name == null) {\r\n\t\t\tcontext.name = name || _.uniqueId('nested');\r\n\t\t}\r\n\r\n\t\t//convert region to valid function\r\n\t\tcontext = normalizeRegion.call(this, context);\t\t\r\n\r\n\r\n\t\treturn context;\r\n\t},\r\n\t_createNestedContext(context){\r\n\t\tlet contexts = this.getNestedViewContext();\r\n\t\tcontexts[context.name] = context;\r\n\t},\r\n\r\n\taddNestedView(name, context){\r\n\r\n\t\tif (!_.isString(name) || name === '') {\r\n\t\t\tthrow new Error('addNestedView: first argument should be a string');\r\n\t\t}\r\n\r\n\t\tcontext = this._normalizeNestedContext(name, context);\r\n\t\tthis._createNestedContext(context);\r\n\t\tif(this.getOption('showNestedViewOnAdd') && this.isRendered()){\r\n\t\t\tthis.showNestedView(context);\r\n\t\t}\t\t\r\n\t},\r\n\r\n\tshowNestedView(name){\r\n\t\tlet region = this.getNestedViewRegion(name);\r\n\t\tlet view = region && this.buildNestedView(name);\r\n\t\tif (view) {\r\n\t\t\tregion.show(view);\r\n\t\t}\r\n\t},\r\n\tshowAllNestedViews(){\r\n\t\tlet contexts = this.getNestedViewContext();\r\n\t\t_(contexts).each(context => this.showNestedView(context));\r\n\t},\r\n\tgetNestedViewContext(name){\r\n\t\tlet contexts = this._nestedViews;\r\n\t\tif (arguments.length == 0)\r\n\t\t\treturn contexts;\r\n\t\telse\r\n\t\t\treturn contexts[name];\r\n\t},\r\n\r\n\r\n\tbuildNestedView(name){\r\n\r\n\t\tlet context = _.isObject(name) ? name\r\n\t\t\t: _.isString(name) ? this.getNestedViewContext(name)\r\n\t\t\t\t: null;\r\n\r\n\t\tif(!context) return;\r\n\t\tlet passedView = result(context, 'view', { context: this, args: [this, this.model] });\r\n\t\tif(_.isFunction(context.template))\r\n\t\t\treturn context.template;\r\n\t\telse if ( isView(passedView) ) {\r\n\t\t\treturn passedView;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet View = context.View;\r\n\t\t\tlet options = this.buildNestedViewOptions(result(context, 'options', { context: this, args: [this, this.model], default:{} }));\r\n\t\t\t\r\n\t\t\treturn new View(options);\r\n\t\t}\r\n\t},\r\n\tbuildNestedViewOptions(opts){\r\n\t\treturn opts;\r\n\t},\r\n\tgetNestedViewRegion(name){\r\n\t\tlet context = _.isObject(name) ? name\r\n\t\t\t: _.isString(name) ? this.getNestedViewContext(name)\r\n\t\t\t\t: null;\r\n\t\treturn context && _.result(context, 'show');\r\n\t}\r\n\t\r\n});\r\n","import triggerMethod from '../../utils/trigger-method/index.js';\r\nimport mergeOptions from '../../utils/merge-options/index.js';\r\nimport { instanceGetOption } from '../../utils/get-option/index.js';\r\n\r\n\r\nexport default {\r\n\tgetOption: instanceGetOption,\r\n\tmergeOptions: mergeOptions,\r\n\ttriggerMethod: triggerMethod,\r\n};\r\n","export default {\r\n\r\n\t//desc: setups the collection for ViewManager instance\r\n\t//returns: previous collection\r\n\tsetCollection(collection, { init = false} = {}){\r\n\t\t\r\n\t\tif (this.collection == collection) return;\r\n\r\n\t\t//take previous collection for return\r\n\t\tlet previousCollection = this.collection;\r\n\r\n\t\t//take contexts to destroy\r\n\t\tlet destroy = this._removeCollection() || [];\r\n\r\n\t\tthis.collection = collection;\r\n\r\n\t\tif (collection == null && destroy.length){\r\n\t\t\tthis.trigger('change', { destroy });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tinit && this.initModels();\r\n\t\tthis._setCollectionListeners();\r\n\r\n\r\n\t\treturn previousCollection;\r\n\t},\r\n\t_clearCollectionStore(){\r\n\t\t\r\n\t\tlet store = this._store;\r\n\t\tstore.filtered.length = 0;\r\n\t\tstore.items.length = 0;\r\n\t\tstore.byModel = {};\r\n\t\tstore.isFiltered = false;\r\n\t\tstore.isSorted = false;\r\n\t},\r\n\t_removeCollection(){\r\n\t\tif (this.collection == null) return;\r\n\r\n\t\tlet previousCollection = this.collection;\r\n\r\n\t\tthis.stopListening(previousCollection);\r\n\r\n\t\tlet destroy = this._removeItems(previousCollection.models);\r\n\r\n\t\tdelete this.collection;\r\n\r\n\t\tthis._clearCollectionStore();\r\n\r\n\t\tdelete this._modelsInitialized;\r\n\r\n\t\treturn destroy;\r\n\r\n\t},\r\n\t_setCollectionListeners(){\r\n\t\tif(!this.collection) return;\r\n\t\tthis.listenTo(this.collection, 'update', this._onCollectionUpdate);\r\n\t\tthis.listenTo(this.collection, 'reset', this._onCollectionReset);\r\n\t\tthis.listenTo(this.collection, 'sort', this._onCollectionSort);\r\n\t\tif (this.collection.length === 0) {\r\n\t\t\tthis.listenToOnce(this.collection, 'sync', this._onCollectionFirstFetch);\r\n\t\t}\r\n\t},\r\n\r\n\t//first run, initialized all collection models\r\n\tinitModels(){\r\n\r\n\t\tif(!this.enableCollection || this._modelsInitialized) return;\r\n\r\n\t\tthis._rebuildModels();\r\n\r\n\t\tthis._modelsInitialized = true;\r\n\r\n\t},\r\n\r\n\t_rebuildModels({ sort = true} = {}){\r\n\r\n\t\tlet items = this._store.items;\r\n\t\tlet filtered = this._store.filtered;\r\n\t\titems.length = 0;\r\n\t\tfiltered.length = 0;\r\n\r\n\t\tlet filter = this.getFilter();\r\n\t\tlet models = this.collection.models;\r\n\r\n\t\tfor(let index = 0, length = models.length; index < length; index++) {\r\n\t\t\tlet model = models[index];\r\n\r\n\t\t\tlet context = this._getModelContext(model, { create: true });\r\n\t\t\tcontext.index = index;\r\n\r\n\t\t\tthis._storeContext(context);\r\n\t\t\titems.push(context);\r\n\r\n\t\t\tif(!filter || filter(context))\r\n\t\t\t\tfiltered.push(context);\r\n\r\n\t\t}\r\n\t\tthis._store.isFiltered = true;\r\n\r\n\t\tsort && this._sortItems(filtered, { comparator: this.getComparator(), force: true },'rebuild');\r\n\t\tthis._store.isSorted = sort;\r\n\r\n\t},\r\n\t_onCollectionUpdate(col, opts = {}){\r\n\r\n\t\tlet { changes = {} } = opts;\r\n\t\tlet { added = [], removed = [], merged = [] } = changes;\r\n\t\tlet destroy;\r\n\t\tif (removed.length) {\r\n\r\n\t\t\tdestroy = this._removeItems(removed);\r\n\t\t\tthis._rebuildModels();\r\n\r\n\t\t} else {\r\n\t\t\tif(added.length) {\t\t\t\t\r\n\t\t\t\tlet data = this._filterItems(added, { force: true });\r\n\t\t\t\tthis._addItems(data.attach, { isSorted: false });\t\t\r\n\t\t\t}\r\n\t\t\tif(merged.length){\r\n\t\t\t\tthis._store.isFiltered = false;\r\n\t\t\t}\r\n\t\t\tif((added.length || merged.length) && !_.isFunction(this.getComparator())){\r\n\t\t\t\tthis._updateIndexes();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.processAndRender({ destroy });\r\n\t},\r\n\r\n\t_addItems(items, {isSorted, isFiltered} = {}){\r\n\r\n\t\tif(!items || !items.length) return;\r\n\r\n\t\tisSorted != null && (this._store.isSorted = isSorted);\r\n\t\tisFiltered != null && (this._store.isFiltered = isFiltered);\r\n\r\n\t\tlet filter = this.getFilter();\r\n\r\n\t\tlet _items = this._store.items;\r\n\t\tlet _filtered = this._store.filtered;\r\n\r\n\t\tfor (let index = 0, length = items.length; index < length; index++) {\r\n\t\t\tlet item = items[index];\r\n\t\t\t_items.push(item);\r\n\t\t\tif(!filter || filter(item))\r\n\t\t\t\t_filtered.push(item);\r\n\t\t}\r\n\t\tthis._store.isFiltered = true;\r\n\r\n\t},\t\r\n\r\n\t_onCollectionFirstFetch(){\r\n\t\tif(this.collection.length) return;\r\n\t\tthis.processAndRender();\r\n\t},\r\n\r\n\t_onCollectionSort(col, { add, merge, remove } = {}){\r\n\r\n\t\tif (_.isFunction(this.getComparator())) return;\r\n\t\tif (add || remove || merge) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._updateIndexes();\r\n\r\n\t\tlet items = this._getItems();\r\n\t\tthis._sortItems(items, { comparator: this._dataComparator, force: true },'collectionsort');\r\n\t\tthis._store.isSorted = true;\r\n\t\tthis.processAndRender();\r\n\r\n\t},\r\n\r\n\t_onCollectionReset(col, { previousModels = []} = {}){\r\n\r\n\t\tlet destroy = this._removeItems(previousModels);\r\n\t\tthis._rebuildModels();\r\n\t\tthis.processAndRender({ destroy });\r\n\r\n\t},\r\n};\r\n","export default {\r\n\t_ensureOptions(){\r\n\t\tif(!this.view)\r\n\t\t\tthrow new Error('view is not set');\r\n\r\n\t\tif(!this.$container){\r\n\t\t\tthis.$container = this.view.$el;\r\n\t\t}\r\n\r\n\t},\r\n\tgetPaginator(){\r\n\t\tlet skip = this.skip || 0;\r\n\t\tlet take = this.take || Infinity;\r\n\t\t!_.isNumber(skip) || skip < 0 && (skip = 0);\r\n\t\t!_.isNumber(take) || take < 0 && (take = Infinity);\r\n\t\tif(skip == 0 && take == Infinity)\r\n\t\t\treturn;\r\n\t\telse\r\n\t\t\treturn {\r\n\t\t\t\tfrom: skip,\r\n\t\t\t\tto: skip + take\r\n\t\t\t};\r\n\t},\r\n\t_dataComparator(a, b){\r\n\t\treturn a.index - b.index;\r\n\t},\t\r\n\tgetComparator(){\r\n\t\treturn this.dataComparator;\r\n\t},\r\n\tsetComparator(comparator, {preventRender} = {}){\r\n\r\n\t\tif(this.dataComparator == comparator) return;\r\n\r\n\t\tthis.dataComparator = comparator;\r\n\t\tthis._store.isSorted = false;\r\n\r\n\t\tif(!preventRender)\r\n\t\t\tthis.processAndRender();\r\n\t},\r\n\tgetFilter(){\r\n\t\treturn this.dataFilter;\r\n\t},\r\n\tsetFilter(filter, {preventRender} = {}){\r\n\t\tif(this.dataFilter == filter) return;\r\n\r\n\t\tthis.dataFilter = filter;\r\n\t\tthis._store.isFiltered = false;\r\n\t\tif(!preventRender)\r\n\t\t\tthis.processAndRender();\r\n\t},\r\n};\r\n","import { isView, isViewClass } from '../../vendors/helpers.js';\r\nimport result from '../../utils/better-result/index.js';\r\n\r\nexport default {\r\n\r\n\tgetCustoms(){\r\n\t\treturn this._store.customs;\r\n\t},\r\n\taddCustomView(arg, index){\t\t\r\n\t\tlet customContext = this._normalizeAddCustomContext(arg, index);\r\n\t\tif (!customContext) { return; }\r\n\t\tthis._store.customs.push(customContext);\r\n\t\tif(isView(customContext.view) && !customContext.view._isDestroyed) {\r\n\t\t\tthis._setupJustCreatedView(customContext.view, customContext);\r\n\t\t}\r\n\t},\r\n\tremoveCustomViews(){\r\n\t\tlet customs = this.getCustoms() || [];\r\n\t\t_.each(customs, custom => {\r\n\t\t\tif(!custom.view) return;\r\n\t\t\t\r\n\t\t\tif(this._checkCustomCondition(custom.view, custom)) { return; }\r\n\r\n\t\t\tif (custom.rebuild)\r\n\t\t\t\tthis._destroyChildView(custom.view);\r\n\t\t\telse\r\n\t\t\t\tthis._detachChildView(custom.view);\r\n\t\t});\r\n\t},\r\n\r\n\t_checkCustomCondition(customView, custom){\r\n\t\t\r\n\t\tif (this.enableFilterForCustomViews) {\r\n\t\t\tlet filter = this.getFilter();\r\n\t\t\treturn !filter || filter(customView);\r\n\t\t}\r\n\r\n\t\tif (_.isFunction(custom.condition)) {\r\n\t\t\treturn custom.condition.call(this.view, customView, this.view);\r\n\t\t} else if(custom.condition != null){\r\n\t\t\treturn custom.condition;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t},\r\n\t//also accepts destroyed as third argument\r\n\t_injectCustoms(items, detached){\r\n\r\n\t\tif (this.collection && !items.length) {\r\n\t\t\titems = [];\r\n\t\t\tthis._injectEmptyView(items);\r\n\t\t}\r\n\r\n\t\tlet customs = this.getCustoms() || [];\r\n\r\n\t\tif(!customs.length)\r\n\t\t\treturn items;\r\n\r\n\t\tlet newitems = items.slice(0);\r\n\t\t_.each(customs, custom => {\r\n\r\n\t\t\tlet view = this._ensureContextHasView(custom);\r\n\t\t\tif(!view) return;\r\n\r\n\t\t\tif(!this._checkCustomCondition(view, custom)){\r\n\r\n\t\t\t\tdetached.push(custom);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(custom.index == null){\r\n\t\t\t\tnewitems.push(custom);\r\n\t\t\t} else {\r\n\t\t\t\tnewitems.splice(custom.index, 0, custom);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn newitems;\r\n\t},\r\n\r\n\t_normalizeAddCustomContext(arg, index){\r\n\t\tif (isView(arg) && !arg._isDestroyed) {\r\n\t\t\treturn {\r\n\t\t\t\tview: arg,\r\n\t\t\t\trebuild: false,\r\n\t\t\t\tindex\r\n\t\t\t};\r\n\t\t} else if (_.isFunction(arg) && isViewClass(arg)){\r\n\t\t\treturn {\r\n\t\t\t\tbuild: () => new arg(),\r\n\t\t\t\tindex,\r\n\t\t\t\trebuild: true,\r\n\t\t\t};\r\n\t\t} else if(_.isFunction(arg)) {\r\n\t\t\treturn {\r\n\t\t\t\tbuild: arg,\r\n\t\t\t\tindex,\r\n\t\t\t\trebuild: true,\r\n\t\t\t};\r\n\t\t} else if (_.isObject(arg) && !isView(arg)) {\r\n\t\t\tif (arg.build == null && arg.view == null) { return; }\r\n\t\t\tif (index != null)\r\n\t\t\t\targ.index = index;\r\n\r\n\t\t\tif (_.isFunction(arg.view)) {\r\n\t\t\t\tlet viewFn = arg.view;\r\n\t\t\t\tdelete arg.view;\r\n\t\t\t\tlet options = arg.options;\r\n\t\t\t\tif(isViewClass(viewFn)){\r\n\t\t\t\t\targ.build = () => new viewFn(result({ options }, 'options', { context: this.view }));\r\n\t\t\t\t} else {\r\n\t\t\t\t\targ.build = () => viewFn.call(this.view, result({ options }, 'options', { context: this.view }));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (arg.rebuild == null) {\r\n\t\t\t\targ.rebuild = !isView(arg.view);\r\n\t\t\t}\r\n\t\t\treturn arg;\r\n\t\t}\r\n\t}\t\r\n};\r\n","export function isInPage(paginator, index){\r\n\treturn !paginator || (index >= paginator.from && index < paginator.to);\r\n}\r\n\r\nexport function viewIsGood(view){\r\n\treturn view && !view._isDestroyed;\r\n}\r\n\r\nexport function renderView(view) {\r\n\tif (view._isRendered) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!view.supportsRenderLifecycle) {\r\n\t\tview.triggerMethod('before:render', view);\r\n\t}\r\n\r\n\tview.render();\r\n\tview._isRendered = true;\r\n\r\n\tif (!view.supportsRenderLifecycle) {\r\n\t\tview.triggerMethod('render', view);\r\n\t}\r\n}\r\n\r\nexport function destroyView(view, disableDetachEvents) {\r\n\tif (view.destroy) {\r\n\t\t// Attach flag for public destroy function internal check\r\n\t\tview._disableDetachEvents = disableDetachEvents;\r\n\t\tview.destroy();\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Destroy for non-Marionette Views\r\n\tif (!view.supportsDestroyLifecycle) {\r\n\t\tview.triggerMethod('before:destroy', view);\r\n\t}\r\n\r\n\tconst shouldTriggerDetach = view._isAttached && !disableDetachEvents;\r\n\r\n\tif (shouldTriggerDetach) {\r\n\t\tview.triggerMethod('before:detach', view);\r\n\t}\r\n\r\n\tview.remove();\r\n\r\n\tif (shouldTriggerDetach) {\r\n\t\tview._isAttached = false;\r\n\t\tview.triggerMethod('detach', view);\r\n\t}\r\n\r\n\tview._isDestroyed = true;\r\n\r\n\tif (!view.supportsDestroyLifecycle) {\r\n\t\tview.triggerMethod('destroy', view);\r\n\t}\r\n}\r\n","import { isInPage } from './utils.js';\r\nimport { isModel } from '../../vendors/helpers.js';\r\n\r\nexport default {\r\n\r\n\r\n\tprocess({ destroy = [], silent, forceSort, forceFilter } = {}){\r\n\r\n\t\tthis._removeEmptyViewInstance({ destroy });\r\n\r\n\t\tlet items = this._getItems({ forceFilter });\r\n\r\n\r\n\r\n\t\tlet totalDetach = [];\r\n\r\n\t\tif (!this._store.isFiltered || forceFilter) {\r\n\t\t\tlet { attach, detach } = this._filterItems(items, { filter: this.getFilter() });\r\n\t\t\tthis._setItems(attach, { isFiltered: true });\r\n\t\t\titems = attach;\r\n\t\t\tif(detach.length) {\r\n\t\t\t\t//resultData.detach = resultData.detach.concat(detach);\r\n\t\t\t\ttotalDetach = totalDetach.concat(detach);\r\n\t\t\t}\r\n\t\t\t//resultDetach = detach;\r\n\t\t}\r\n\t\tthis._sortItems(items, { comparator: this.getComparator(), force: forceSort },'process');\r\n\t\tthis._store.isSorted = true;\r\n\r\n\r\n\r\n\t\tlet data = this._filterItems(items, { paginator: this.getPaginator() });\r\n\t\tif(data.detach.length) {\r\n\t\t\t//resultData.detach = resultData.detach.concat(data.detach);\r\n\t\t\ttotalDetach = totalDetach.concat(data.detach);\r\n\t\t}\r\n\r\n\r\n\t\tlet attach = this._injectCustoms(data.attach, totalDetach, destroy);\r\n\r\n\t\tlet result = {\r\n\t\t\tattach,\r\n\t\t\tdetach: totalDetach,\r\n\t\t\tdestroy,\r\n\t\t\ttotal: data.total,\r\n\t\t\tskiped: data.skiped,\r\n\t\t\ttaked: data.taked\r\n\t\t};\r\n\r\n\t\t\r\n\t\tthis.lastResult = result;\r\n\t\tif(!silent)\r\n\t\t\tsetTimeout(() => this.trigger('change', result), 0);\r\n\r\n\t\t\r\n\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\r\n\t_getItems({ forceFilter } = {}){\r\n\r\n\t\tif (this._store.isFiltered && !forceFilter)\r\n\t\t\treturn this._store.filtered;\r\n\t\telse\r\n\t\t\treturn this._store.items;\r\n\t},\r\n\r\n\t_filterItems(items, { filter, paginator, force } = {}){\r\n\r\n\t\tlet iterator = -1;\r\n\t\tlet detach = [];\r\n\t\tlet attach = [];\r\n\r\n\r\n\t\tif (!filter && !paginator && !force) {\r\n\t\t\t\r\n\t\t\treturn { attach: items, detach:[] };\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tlet shouldUpdateIndex = this.collection && items == this.collection.models;\r\n\t\t\r\n\t\t\r\n\t\tfor(let index = 0, length = items.length; index < length; index++){\r\n\r\n\t\t\tlet model = items[index];\r\n\t\t\tlet item = model;\r\n\t\t\tlet isModel = isModel(model);\r\n\t\t\tlet isNew = false;\r\n\r\n\t\t\tif (isModel) {\r\n\t\t\t\titem = this._getModelContext(model, { create: true, markNew: true });\r\n\t\t\t\tisNew = item.isNew === true;\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tlet pass = !filter || filter(item);\r\n\t\t\tif (!pass) {\r\n\t\t\t\titem.view && !item.view._isDestroyed && detach.push(item);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif(isInPage(paginator, ++iterator)) {\r\n\t\t\t\tattach.push(item);\r\n\r\n\t\t\t\tif(shouldUpdateIndex){\r\n\t\t\t\t\titem.index = index;\r\n\t\t\t\t}\r\n\t\t\t\tif (isNew) {\r\n\t\t\t\t\tthis._storeContext(item);\r\n\t\t\t\t}\r\n\t\t\t} else if (paginator && iterator > paginator.to){\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\tlet res = { attach , detach };\r\n\t\tif(paginator){\r\n\t\t\tres.total = items.length;\r\n\t\t\tres.skiped = paginator.from;\r\n\t\t\tres.taked = iterator - paginator.from - 1;\r\n\t\t}\r\n\r\n\t\t// resultData.attach = attach;\r\n\t\t// resultData.detach = detach;\r\n\r\n\t\treturn res;\r\n\t},\r\n\r\n\t_sortItems(items, { comparator, force } = {}){\r\n\r\n\t\tif(this._store.isSorted && !force) { return; }\r\n\r\n\t\tif(!comparator) {\r\n\t\t\tcomparator = this._dataComparator;\r\n\t\t\tif(!comparator) return;\r\n\t\t}\r\n\r\n\t\tif (this._store.isFiltered && items !== this._store.items) {\r\n\t\t\tsetTimeout(() => this._sortItems(this._store.items, { comparator, force: true },'timeout sort'),0);\r\n\t\t}\r\n\r\n\t\t\r\n\t\tlet iteratee = comparator.length == 1 \r\n\t\t\t? (a,b) => {\r\n\t\t\t\tlet _a = comparator(a); let _b = comparator(b);\r\n\t\t\t\tif(_a < _b) return -1;\r\n\t\t\t\tif(_a > _b) return 1;\r\n\t\t\t\treturn 0;\t\t\t\t\r\n\t\t\t}\r\n\t\t\t: comparator;\r\n\r\n\t\titems.sort(iteratee);\r\n\t\t\r\n\t},\r\n\r\n\r\n\t_setItems(items, { isSorted, isFiltered } = {}){\r\n\r\n\t\tisSorted != null && (this._store.isSorted = isSorted);\r\n\t\tisFiltered != null && (this._store.isFiltered = isFiltered);\r\n\t\tif (isFiltered) {\r\n\t\t\tthis._store.filtered = items;\r\n\t\t} else {\r\n\t\t\tthis._store.items = items;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_removeItems(items = []){\r\n\r\n\t\tlet destroy = [];\r\n\t\tfor (let index = 0, length = items.length; index < length; index++) {\r\n\t\t\tlet item = items[index];\r\n\t\t\tlet view = this._removeItem(item);\r\n\t\t\tview && destroy.push(view);\r\n\t\t}\r\n\t\treturn destroy;\r\n\t},\r\n\r\n\t_removeItem(item){\r\n\t\tlet model = isModel(item) ? item : item.model;\r\n\t\tlet context = this._store.byModel[model.id] || this._store.byModel[model.cid];\r\n\t\tdelete this._store.byModel[model.id];\r\n\t\tdelete this._store.byModel[model.cid];\r\n\t\treturn context.view;\r\n\t},\r\n\r\n\t_getModelView(model){\r\n\t\tlet id = model.id == null ? model.cid : model.id;\r\n\t\tlet context = this._store.byModel[id];\r\n\t\treturn context && context.view;\r\n\t},\r\n\r\n\t_getModelContext(model, { create, markNew } = {}){\r\n\t\tlet id = model.id == null ? model.cid : model.id;\r\n\t\tlet context = this._store.byModel[id];\r\n\t\tif (context) { return context; }\r\n\t\tif (create) {\r\n\t\t\tcontext = { model, isCollection: true };\r\n\t\t\tmarkNew && (context.isNew = true);\r\n\t\t\treturn context;\r\n\t\t}\r\n\t},\r\n\r\n\t_storeContext(context){\r\n\t\tlet id = context.model.id;\r\n\t\tcontext.isNew && (delete context.isNew);\r\n\t\tif(id != null)\r\n\t\t\tthis._store.byModel[id] = context;\r\n\t\tthis._store.byModel[context.model.cid] = context;\r\n\t},\r\n\r\n\t_initView(context){\r\n\t\tif(context.view && !context.view._isDestroyed)\r\n\t\t\treturn;\r\n\t\tcontext.view = this.createView(context.model);\r\n\t},\r\n\r\n\t_updateIndexes(){\r\n\r\n\t\tlet models = this.collection.models;\r\n\t\tfor (let index = 0, length = models.length; index < length; index++) {\r\n\t\t\tlet model = models[index];\r\n\t\t\tlet id = model.id == null ? model.cid : model.id;\r\n\t\t\tlet context = this._store.byModel[id];\r\n\t\t\tcontext && (context.index = index);\r\n\t\t}\r\n\t},\r\n\r\n\r\n};\r\n","import { destroyView, renderView, viewIsGood } from './utils.js';\r\nimport { isView } from '../../vendors/helpers.js';\r\n\r\n\r\n\r\nexport default {\r\n\r\n\ttriggerViewMethod(){\r\n\t\tthis.view.triggerMethod.apply(this.view, arguments);\r\n\t},\r\n\tgetChildrenContainer(){\r\n\t\tif(_.isString(this.$container))\r\n\t\t\treturn this.view.$(this.$container);\r\n\t\telse if(_.isFunction(this.$container))\r\n\t\t\treturn this.$container();\r\n\t\telse\r\n\t\t\treturn this.$container;\r\n\t},\r\n\tprocessAndRender(opts){\r\n\t\tlet data = this.process(opts);\r\n\t\tthis.render(data);\r\n\t},\r\n\tbeforeRender(){\r\n\t\tif (this.view._isRendered) {\r\n\t\t\tthis.removeCustomViews();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.initModels();\r\n\t\t}\r\n\t},\r\n\trender(data){\t\t\r\n\t\tif(!data) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tthis.triggerViewMethod('before:render:children', data);\r\n\r\n\t\t\t// if(this.view._isRendered)\r\n\t\t\t// \tthis.removeCustomViews();\r\n\r\n\t\t\tthis._destroyChildViews(data.destroy);\r\n\t\t\tthis._detachChildViews(data.detach);\r\n\t\t\tthis._attachChildViews(data.attach);\r\n\r\n\t\t\tthis.triggerViewMethod('render:children', data);\r\n\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_destroyChildViews(views = []){\r\n\t\tif(!views.length) return;\r\n\t\tlet $container = this.getChildrenContainer();\r\n\t\tthis.triggerViewMethod('before:destroy:children', this);\r\n\r\n\t\tif (this.view.monitorViewEvents === false) {\r\n\t\t\tthis.view.Dom.detachContents($container);\r\n\t\t}\r\n\t\r\n\t\tconst shouldDisableEvents = this.view.monitorViewEvents === false;\r\n\t\t_.each(views, view => {\r\n\t\t\tthis._destroyChildView(view, shouldDisableEvents);\r\n\t\t});\r\n\t\r\n\t\r\n\t\tthis.triggerViewMethod('destroy:children', this);\r\n\r\n\t},\r\n\r\n\t_destroyChildView(view, shouldDisableEvents){\r\n\r\n\t\tif(shouldDisableEvents == null)\r\n\t\t\tshouldDisableEvents = this.view.monitorViewEvents === false;\r\n\r\n\t\t//view.off('destroy', this.removeChildView, this);\r\n\t\tif (!view || view._isDestroyed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdestroyView(view, shouldDisableEvents);\t\t\r\n\t\tthis.view.stopListening(view);\r\n\t},\r\n\r\n\t_detachChildViews(contexts = []){\r\n\t\tif(!contexts.length) return;\r\n\t\tlet monitorViewEvents = this.monitorViewEvents !== false;\r\n\t\t_.each(contexts, context => {\r\n\t\t\tthis._detachChildView(context.view, monitorViewEvents);\r\n\t\t});\r\n\t},\r\n\r\n\t_detachChildView(view, monitorViewEvents){\r\n\t\tif(!view) return;\r\n\t\tif(monitorViewEvents == null) {\r\n\t\t\tmonitorViewEvents = this.view.monitorViewEvents !== false;\r\n\t\t}\r\n\t\tconst shouldTriggerDetach = view._isAttached && monitorViewEvents;\r\n\t\tif (shouldTriggerDetach) {\r\n\t\t\tview.triggerMethod('before:detach', view);\r\n\t\t}\r\n\t\t\t\t\r\n\t\tthis.view.Dom.detachEl(view.el, view.$el);\r\n\t\tif (shouldTriggerDetach) {\r\n\t\t\tview._isAttached = false;\r\n\t\t\tview.triggerMethod('detach', view);\r\n\t\t}\t\r\n\t\t//this.view.stopListening(view);\r\n\t},\r\n\r\n\t_attachChildViews(contexts = []){\r\n\t\tif(!contexts.length) return;\r\n\t\t\r\n\t\tconst shouldTriggerAttach = this.view._isAttached && this.view.monitorViewEvents !== false;\r\n\r\n\t\tconst elBuffer = this.view.Dom.createBuffer();\r\n\t\tlet $container = this.getChildrenContainer();\r\n\t\t_.each(contexts, context => {\r\n\t\t\tlet view = this._ensureContextHasView(context);\r\n\r\n\t\t\tif (!view) return;\r\n\r\n\t\t\t!view._isRendered && renderView(view);\r\n\t\t\tthis.view.Dom.appendContents(elBuffer, view.el, {_$contents: view.$el});\r\n\r\n\t\t\tif (shouldTriggerAttach && !view._isAttached) {\t\t\t\t\r\n\t\t\t\tview.triggerMethod('before:attach', view);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.view.Dom.appendContents($container[0], elBuffer, {_$el: $container});\r\n\r\n\t\tif(shouldTriggerAttach){\r\n\t\t\t_.each(contexts, context => {\r\n\t\t\t\tlet view = context.view;\r\n\t\t\t\tif(!view || view._isAttached) return;\r\n\t\t\t\tview._isAttached = true;\r\n\t\t\t\tview.triggerMethod('attach', view);\r\n\t\t\t});\t\t\t\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_ensureContextHasView(context){\r\n\t\tif (viewIsGood(context.view))\r\n\t\t\treturn context.view;\r\n\t\telse if (context.isCollection) {\r\n\t\t\tcontext.view = this._createModelChildView(context.model);\r\n\t\t\treturn context.view;\r\n\t\t} else if(context.rebuild && _.isFunction(context.build)) {\r\n\t\t\tcontext.view = this._createCustomChildView(context);\r\n\t\t\treturn context.view;\r\n\t\t} \r\n\t},\r\n\t_createChildView(context){\r\n\t\tlet created;\r\n\t\tif (context.isCollection) {\r\n\t\t\tcontext.view = this._createModelChildView(context.model);\r\n\t\t\tcreated = !!context.view;\r\n\t\t} else if (_.isFunction(context.build) && (!viewIsGood(context.view) || context.rebuild)) {\r\n\t\t\tcontext.view = this._createCustomChildView(context);\r\n\t\t\tcreated = !!context.view;\r\n\t\t}\r\n\t\tif (!created) return;\r\n\r\n\t\tthis._setupJustCreatedView(context.view, context);\r\n\t},\r\n\t_createCustomChildView(context){\r\n\t\treturn context.build();\r\n\t},\r\n\t_createModelChildView(model){\r\n\t\tlet View = this._getChildViewClass(model);\r\n\t\tif(!View) return;\r\n\t\tlet options = this._getChildViewOptions(model, View);\r\n\t\tlet view = new View(options);\r\n\t\treturn view;\r\n\t},\r\n\t_setupJustCreatedView(view, context){\r\n\t\tif (_.isFunction(context.onBuild)) {\r\n\t\t\tcontext.onBuild.call(this.view, view);\r\n\t\t}\r\n\t\tthis.view._proxyChildViewEvents(view);\t\t\r\n\t},\r\n\t_getChildViewClass(model){\r\n\t\tif(isView(this.modelView))\r\n\t\t\treturn this.modelView;\r\n\t\telse {\r\n\t\t\treturn this.modelView(model);\r\n\t\t}\r\n\t},\r\n\t_getChildViewOptions(model, View){\r\n\t\tlet options = {};\r\n\t\tif(_.isFunction(this.modelViewOptions)){\r\n\t\t\toptions = this.modelViewOptions.call(this, model, View, this) || {};\r\n\t\t} else if(_.isObject(this.modelViewOptions)) {\r\n\t\t\toptions = this.modelViewOptions;\r\n\t\t}\r\n\t\treturn _.extend({}, options, { model });\r\n\t},\r\n\r\n\r\n\r\n\r\n};\r\n","import { isViewClass } from '../../vendors/helpers.js';\r\n\r\nconst EmptyViewMixin = {\r\n\tremoveEmptyViewInstance(opts = {}){\r\n\t\tlet view = this._emptyViewInstance;\r\n\t\tif (!view) return;\r\n\t\tlet { destroy = []} = opts;\r\n\t\tif (view) {\r\n\t\t\tdelete this._emptyViewInstance;\r\n\t\t\tdestroy.push(view);\r\n\t\t\topts.destroy = destroy;\r\n\t\t}\r\n\t},\r\n\t_getEmptyViewClas(){\r\n\t\tif (!this.emptyView) { return; }\r\n\t\telse if(isViewClass(this.emptyView)){\r\n\t\t\treturn this.emptyView;\r\n\t\t} else if(_.isFunction(this.emptyView)) {\r\n\t\t\treturn this.emptyView.call(this.view);\r\n\t\t}\r\n\t},\r\n\t_injectEmptyView(items){\r\n\t\tlet View = this._getEmptyViewClas();\r\n\t\tif (!View) return;\r\n\t\tlet options = _.extend({}, this.emptyViewOptions);\r\n\t\tlet view = new View(options);\r\n\t\tthis._emptyViewInstance = view;\r\n\t\titems.push({ view });\r\n\t},\r\n\t_removeEmptyViewInstance({ destroy = [] } = {}){\r\n\t\tlet view = this._emptyViewInstance;\r\n\t\tif (!view) return;\r\n\r\n\t\tif (view) {\r\n\t\t\tdelete this._emptyViewInstance;\r\n\t\t\tdestroy.push(view);\r\n\t\t}\r\n\t},\t\r\n};\r\nexport default EmptyViewMixin;\r\n","import extend from '../../utils/extend/index.js';\r\nimport borrow from './borrow.js';\r\nimport collection from './collection.js';\r\nimport common from './common.js';\r\nimport customs from './customs.js';\r\nimport models from './models.js';\r\nimport render from './render.js';\r\nimport emptyView from './empty-view.js';\r\n\r\nimport { Events } from '../../vendors/backbone.js';\r\n\r\nconst MergeOptions = [\r\n\t'createView',\r\n\t'dataFilter',\r\n\t'dataComparator',\r\n\t'enableCollection',\r\n\t'$container',\r\n\t'view',\r\n\t'modelView',\r\n\t'modelViewOptions',\r\n\t'emptyView',\r\n\t'emptyViewOptions',\r\n\t'enableFilterForCustomViews'\r\n];\r\n\r\nconst ViewManager = function(options = {}){\r\n\tthis.options = _.omit(options, 'collection');\r\n\tthis.mergeOptions(options, MergeOptions);\r\n\tthis._ensureOptions();\r\n\tthis._store = {\r\n\r\n\t\t//holds current filtered set of model contexts\r\n\t\tfiltered:[],\r\n\r\n\t\t//holds all model contexts\r\n\t\titems: [],\r\n\r\n\t\t//grants fast access to a context through model id or cid\r\n\t\tbyModel: {},\r\n\r\n\t\t//holds all cutoms contexts\r\n\t\tcustoms: [],\r\n\t\r\n\t\t//indicates if comparator should be applied\r\n\t\tisSorted: false,\r\n\r\n\t\t//indicates if filter should be applied\r\n\t\tisFiltered: false,\r\n\r\n\t};\r\n\t\r\n\t//in collection mixin\r\n\tif(this.enableCollection)\r\n\t\tthis.setCollection(this.collection || options.collection);\r\n};\r\n\r\nViewManager.extend = extend;\r\n\r\n_.extend(ViewManager.prototype, Events, borrow, collection, common, customs, models, render, emptyView);\r\n\r\nexport default ViewManager;\r\n","import ViewManager from '../../../components/view-manager/index.js';\r\n\r\nexport default BaseView => BaseView.extend({\r\n\t\r\n\tconstructor(options){\r\n\t\tthis.options = options;\r\n\t\tthis.mergeOptions(options,['managedCollection','collection','viewFilter','viewComparator', 'modelView', 'modelViewOptions', 'emptyView', 'emptyViewOptions']);\r\n\t\t\r\n\t\tBaseView.apply(this, arguments);\r\n\t\t\r\n\t\t//tries to initialize viewManager\r\n\t\tthis._initializeViewManager();\r\n\t},\r\n\r\n\ttemplate: _.noop,\r\n\t//if true - initializes ViewManager without collection support\r\n\tenableCustomViews: false,\r\n\t//if true - initializes ViewManager with collection and customviews support\r\n\tenableCollectionViews: false,\r\n\r\n\t_initializeViewManager(){\r\n\t\tlet customs = this.getOption('enableCustomViews');\r\n\t\tlet models = this.getOption('enableCollectionViews');\r\n\t\tif(!(customs || models)) return;\r\n\t\t\r\n\t\tlet enableFilterForCustomViews;\r\n\t\tif (!models && customs && this.getFilter()) {\r\n\t\t\tenableFilterForCustomViews = true;\r\n\t\t}\r\n\r\n\t\tthis._fallbackOptions();\r\n\r\n\t\tthis._viewManager = new ViewManager({\r\n\t\t\tenableCollection: models,\r\n\t\t\tcollection: models && this.managedCollection || this.collection || null,\r\n\t\t\tview: this,\r\n\t\t\t$container: this.getChildrenContainer(),\r\n\t\t\tmodelView: this.modelView,\r\n\t\t\tmodelViewOptions: this.modelViewOptions,\r\n\t\t\tdataFilter: this.getFilter(),\r\n\t\t\tdataComparator: this.getComparator(),\r\n\t\t\temptyView: this.emptyView,\r\n\t\t\temptyViewOptions: this.emptyViewOptions,\r\n\t\t\tenableFilterForCustomViews\r\n\t\t});\r\n\r\n\t\tif (this._customViewsQueue) {\r\n\t\t\t_.each(this._customViewsQueue, args => this._viewManager.addCustomView.apply(this._viewManager, args));\r\n\t\t\tthis._customViewsQueue.length = 0;\r\n\t\t\tdelete this._customViewsQueue;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_fallbackOptions(){\r\n\t\tif(!this.modelView) {\r\n\t\t\tthis.modelView = this.childView || this.options.childView;\r\n\t\t}\r\n\t\tif(!this.modelViewOptions){\r\n\t\t\tthis.modelViewOptions = this.childViewOptions || this.options.childViewOptions;\r\n\t\t}\r\n\t},\t\r\n\r\n\r\n\t/*\r\n\t\trender has two additional calls\r\n\t\t\t- this._viewManager.beforeRender()\r\n\t\t\t- this._viewManager.processAndRender()\r\n\t*/\r\n\trender() {\r\n\t\tconst template = this.getTemplate();\r\n\r\n\t\tif (template === false || this._isDestroyed) { return this; }\r\n\r\n\t\tthis._viewManager && this._viewManager.beforeRender();\r\n\r\n\t\tthis.triggerMethod('before:render', this);\r\n\r\n\r\n\t\t// If this is not the first render call, then we need to\r\n\t\t// re-initialize the `el` for each region\r\n\t\tif (this._isRendered) {\r\n\t\t\tthis._reInitRegions();\r\n\t\t}\r\n\r\n\t\tthis._renderTemplate(template);\r\n\t\tthis.bindUIElements();\r\n\r\n\t\tthis._viewManager && this._viewManager.processAndRender();\r\n\r\n\t\tthis._isRendered = true;\r\n\t\tthis.triggerMethod('render', this);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\r\n\tgetChildrenContainer(){\r\n\t\treturn this.getOption('childrenContainer', { force: false });\r\n\t},\r\n\r\n\t/*\r\n\t\tmanaging sort and filter\r\n\t*/\r\n\tsetComparator(comparator, opts) {\r\n\t\tthis._viewManager && this._viewManager.setComparator(comparator, opts);\r\n\t\tthis.viewComparator = comparator;\r\n\t\treturn this;\r\n\t},\r\n\tgetComparator(){\r\n\t\treturn this.viewComparator;\r\n\t},\r\n\tsetFilter(filter, opts) {\r\n\t\tthis._viewManager && this._viewManager.setFilter(filter, opts);\r\n\t\tthis.viewFilter = filter;\r\n\t\treturn this;\r\n\t},\r\n\tgetFilter(){\r\n\t\treturn this.viewFilter;\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\tfallback methods for CollectionView \r\n\t*/\r\n\tsort(){\r\n\t\tthis._viewManager && this._viewManager.processAndRender({ forceSort: true, forceFilter: true });\r\n\t},\r\n\tfilter(){\r\n\t\tthis._viewManager && this._viewManager.processAndRender({ forceFilter: true });\r\n\t},\t\r\n\r\n\taddChildView(...args){\r\n\t\tif (!args || args.length == 0) return;\r\n\t\tif (this._viewManager) {\r\n\t\t\tthis._viewManager.addCustomView.apply(this._viewManager, arguments);\r\n\t\t} else {\r\n\t\t\tthis._customViewsQueue || (this._customViewsQueue = []);\r\n\t\t\tthis._customViewsQueue.push(args);\r\n\t\t}\r\n\t},\r\n\r\n});\r\n","export default Base => Base.extend({\r\n\tdestroy(){\r\n\t\tif(this._isDestroyed || this._isDestroying) { return; }\r\n\t\tthis._isDestroying = true;\r\n\t\tBase.prototype.destroy.apply(this, arguments);\r\n\t\tdelete this._isDestroying;\r\n\t},\r\n\tisDestroyed(){\r\n\t\treturn this._isDestroyed || this._isDestroying;\r\n\t}\r\n}, { DestroyMixin: true });\r\n","import { buildViewByKey } from '../../../utils/index.js';\r\nexport default Base => Base.extend({\r\n\tbuildViewByKey(...args){\r\n\t\treturn buildViewByKey.call(this, ...args);\r\n\t},\r\n});\r\n","export default Base => Base.extend({\r\n\ttriggerNameEvent: true,\r\n\tstopEvent: true,\r\n\tconstructor(options){\r\n\t\tBase.apply(this, arguments);\r\n\t\tthis.mergeOptions(options, ['name']);\r\n\t},\r\n\ttagName:'button',\r\n\ttemplate: _.template('<i></i><span><%= text %></span><i></i>'),\r\n\tevents:{\r\n\t\t'click'(e) {\r\n\t\t\tlet stop = this.getOption('stopEvent');\r\n\t\t\tif (stop) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\tthis.beforeClick().then(\r\n\t\t\t\tdata => {\r\n\t\t\t\t\tthis.triggerMethod('click', data, e, this);\r\n\t\t\t\t\tif (this.name) {\r\n\t\t\t\t\t\tthis.triggerMethod('click:'+this.name, data, e, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror => {\r\n\t\t\t\t\tthis.triggerMethod('click:fail', error, this.name, e, this);\r\n\t\t\t\t\tif (this.name) {\r\n\t\t\t\t\t\tthis.triggerMethod('click:'+this.name+':fail', error, e, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tbeforeClick(){\r\n\t\tlet result = this.triggerMethod('before:click');\r\n\t\tif(result && _.isFunction(result.then) ) {\r\n\t\t\treturn result;\r\n\t\t} else {\r\n\t\t\treturn Promise.resolve(result);\r\n\t\t}\r\n\t},\r\n\ttemplateContext(){\r\n\t\treturn {\r\n\t\t\ttext: this.getOption('text')\r\n\t\t};\r\n\t},\r\n\tdisable(){\r\n\t\tthis.$el.prop('disabled', true);\r\n\t},\r\n\tenable(){\r\n\t\tthis.$el.prop('disabled', false);\r\n\t},\r\n});\r\n","import flat from '../../../utils/flat/index.js';\r\nimport unflat from '../../../utils/unflat/index.js';\r\nimport setByPath from '../../../utils/set-by-path/index.js';\r\nimport getByPath from '../../../utils/get-by-path/index.js';\r\nimport compareObjects from '../../../utils/compare-objects/index.js';\r\nimport betterResult from '../../../utils/better-result/index.js';\r\nimport takeValue from '../../../utils/take-first/index.js';\r\n\r\nfunction getTriggerMethod(context){\r\n\tif(!context) { return () => {}; }\r\n\treturn _.isFunction(context.triggerMethod) ? context.triggerMethod\r\n\t\t: _.isFunction(context.trigger) ? context.trigger\r\n\t\t\t: () => {};\r\n}\r\n\r\nfunction ensureError(error, value){\r\n\tif(error instanceof Error){\r\n\t\tthrow error;\r\n\t}\r\n\treturn arguments.length > 1 ? value : error;\r\n}\r\n\r\n\r\nexport default Base => Base.extend({\r\n\r\n\tisControl: true,\r\n\tconstructor(options){\t\t\r\n\t\tthis._initControl(options);\r\n\t\tBase.apply(this, arguments);\r\n\t\tif (this.getOption('validateOnReady')) {\r\n\t\t\tthis.once('control:ready', () => {\r\n\t\t\t\tthis.validate().catch(() => {});\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t_onControlDestroy(){\r\n\t\tlet parent = this.getParentControl();\r\n\t\tif (parent && _.isFunction(parent._removeChildControl)) {\r\n\t\t\tparent._removeChildControl(this);\r\n\t\t}\r\n\t\tlet children = this.getChildrenControls();\r\n\t\tif (children) {\r\n\t\t\t_.each(children, child => child._removeParentControl());\r\n\t\t\tchildren.length = 0;\r\n\t\t}\r\n\t\tdelete this._cntrl;\r\n\t},\r\n\t_removeChildControl(control){\r\n\t\tthis.off(control);\r\n\t\tlet children = this.getChildrenControls();\r\n\t\tif (!children.length) { return; }\r\n\t\tlet index = children.indexOf(control);\r\n\t\tif (index === -1) return;\r\n\t\tchildren.splice(index, 1);\r\n\t},\r\n\t_addChildControl(control){\r\n\t\tlet controlName = control.getControlName();\r\n\t\tlet children = this.getChildrenControls();\r\n\t\tlet found = _.find(children, child => child.getControlName() === controlName);\r\n\t\t!found && children.push(control);\r\n\t\t// this.listenTo(control, 'control:invalid', (error) => {\r\n\t\t// \tthis._onControlValidateFail(error, this.getControlValue({ notValidated: true })).catch(() => {});\r\n\t\t// });\r\n\t},\r\n\t_removeParentControl(){\r\n\t\tdelete this._cntrl.parent;\r\n\t},\r\n\t_initControl(options = {}){\r\n\t\tif (this._controlInitialized) { return; }\r\n\r\n\t\tthis._cntrl = {};\r\n\t\tlet name = takeValue('controlName', options, this) || 'control';\r\n\t\tthis._cntrl.name = name;\r\n\r\n\t\tlet value = takeValue('value', options, this);\r\n\t\tvalue = this._clone(value);\r\n\t\tthis.initControlValue(value);\r\n\t\tthis.initParentControl(options);\r\n\r\n\t\tthis.once('destroy', this._onControlDestroy);\r\n\r\n\t\tthis._controlInitialized = true;\r\n\t},\r\n\tinitParentControl(options){\r\n\t\tlet parent = takeValue('proxyTo', options, this) || takeValue('parentControl', options, this);\r\n\t\tthis.setParentControl(parent);\r\n\t},\r\n\tsetParentControl(parent){\r\n\t\tthis._cntrl.parent = parent;\r\n\t\tif (parent && _.isFunction(parent._addChildControl)) {\r\n\t\t\tparent._addChildControl(this);\r\n\t\t}\r\n\t},\r\n\tinitControlValue(value){\r\n\t\tthis._cntrl.initial = value;\r\n\t\tthis._cntrl.value = value;\r\n\t\t//this.setControlValue(value, { silent: true });\r\n\t},\r\n\tgetControlName(){\r\n\t\treturn this._cntrl.name;\r\n\t},\r\n\r\n\tisSameControlValue(value){\r\n\t\tlet current = this.getControlValue();\r\n\t\treturn this.isValid() && compareObjects(current, value);\r\n\t},\r\n\r\n\tgetControlValue(key, options = {}){\r\n\t\t\r\n\t\tif(_.isObject(key)) {\r\n\t\t\toptions = key;\r\n\t\t\tkey = undefined;\r\n\t\t}\r\n\t\tlet { notValidated, clone } = options;\r\n\t\tlet valueKey = notValidated ? 'notValidated' : 'value';\r\n\t\tlet value = this._cntrl[valueKey];\r\n\t\tif (key != null) {\r\n\t\t\treturn getByPath(value, key);\r\n\t\t} else {\r\n\t\t\treturn clone ? this._clone(value) : value;\r\n\t\t}\r\n\t},\r\n\r\n\tsetControlValue(value, options = {}){\r\n\t\tlet  { key, notValidated } = options;\r\n\t\tvalue = this._prepareValueBeforeSet(value, { key });\r\n\t\tconst resolve = Promise.resolve(value);\r\n\t\tif (this.isSameControlValue(value)) { return resolve; }\r\n\r\n\t\tthis._cntrl.notValidated = value;\r\n\r\n\t\tif (notValidated) { return resolve; }\r\n\t\treturn this._setControlValue(value, options);\r\n\t},\r\n\r\n\t_prepareValueBeforeSet(value, { key } = {}){\r\n\t\tvalue = this.prepareValueBeforeSet(value);\r\n\t\tif (key == null) { return value; }\r\n\r\n\t\tlet current = this.getControlValue({ notValidated: true, clone: true }) || {};\r\n\t\tsetByPath(current, key, value);\r\n\t\treturn current;\r\n\t},\r\n\r\n\t//override this if you need modify value before set\r\n\tprepareValueBeforeSet: value => value,\r\n\r\n\t_setControlValue(value, options = {}) {\r\n\t\tlet { skipValidation } = options;\r\n\t\tif (skipValidation) {\r\n\t\t\treturn this._onSetControlValueValidateSuccess(value, options);\r\n\t\t}\r\n\t\treturn this._validate(value, options)\r\n\t\t\t.then(\r\n\t\t\t\t() => this._onSetControlValueValidateSuccess(value, options), \r\n\t\t\t\terror => this._onSetControlValueValidateFail(error, value, options)\r\n\t\t\t);\r\n\t},\r\n\t_onSetControlValueValidateSuccess(value, options){\r\n\t\tthis._cntrl.previous = this._cntrl.value;\r\n\t\tthis._cntrl.value = value;\r\n\t\tthis._cntrl.isDone = false;\r\n\t\tthis._tryTriggerEvent('change', [value], options);\r\n\t\treturn Promise.resolve(value);\r\n\t},\r\n\t_onSetControlValueValidateFail(error, value, options){\r\n\t\tthis._tryTriggerEvent('change:fail', [value, error], options);\r\n\t\treturn ensureError(error, value);\r\n\t},\r\n\r\n\tisValid(){\r\n\t\treturn this._cntrl.isValid !== false;\r\n\t},\r\n\tvalidate(options = {}){\r\n\r\n\t\tlet notValidated = !this.isValid();\r\n\t\tlet value = this.getControlValue({ notValidated });\r\n\t\tlet promise = this._validate(value, options);\r\n\t\tlet _catch = options.catch;\r\n\r\n\t\tif (_catch === false) {\r\n\t\t\treturn promise;\r\n\t\t} else if(_.isFunction(_catch)) {\r\n\t\t\treturn promise.catch(_catch);\r\n\t\t} else {\r\n\t\t\treturn promise.catch(ensureError);\r\n\t\t}\r\n\t},\r\n\t_validate(value, options){\r\n\r\n\t\t//let validate = this._validateControl(value, options);\r\n\t\tlet validate = this._validatePromise(value, options);\r\n\r\n\t\treturn validate.then(\r\n\t\t\t() => this._onControlValidateSuccess(value, options),\r\n\t\t\terror => this._onControlValidateFail(error, value, options)\r\n\t\t);\r\n\t},\r\n\t_validateControlPromise(value, options){\r\n\t\tlet validate = this.getOption('controlValidate', { force: false });\r\n\t\t\t\t\r\n\t\t//if there is no validation defined, resolve\r\n\t\tif (!_.isFunction(validate)) {\r\n\t\t\t\r\n\t\t\treturn Promise.resolve(value);\r\n\t\t}\r\n\r\n\t\tlet values = this.getParentControlValue({ notValidated: true });\r\n\t\tlet validateResult = validate.call(this, value, values, options);\r\n\r\n\t\tlet promise = Promise.resolve(value);\r\n\t\tif (validateResult && validateResult.then) {\r\n\t\t\tpromise = validateResult;\r\n\t\t} else if (validateResult) {\r\n\t\t\tpromise = Promise.reject(validateResult);\r\n\t\t}\r\n\t\treturn promise;\r\n\t},\r\n\r\n\r\n\t_validateChildrenControlsPromise({ isControlWrapper, skipChildValidate} = {}, errors = {}){\r\n\r\n\t\tlet children = this.getChildrenControls();\r\n\t\tlet childrenPromise = Promise.resolve();\r\n\t\tif (!children.length) return childrenPromise;\r\n\r\n\t\treturn _.reduce(children, (finaly, child) => {\r\n\t\t\tlet control = child.getControlName();\r\n\r\n\t\t\tfinaly = finaly.then(() => {\r\n\r\n\t\t\t\tif (!child.validate || (skipChildValidate && control == skipChildValidate)) {\r\n\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t}\r\n\t\t\t\tlet validateResult = child.validate({ stopPropagation: true, catch: false });\r\n\r\n\t\t\t\treturn validateResult;\r\n\t\t\t}).catch(error => {\r\n\r\n\t\t\t\tif(isControlWrapper){\r\n\t\t\t\t\terrors.wrapped = error;\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrors.children[control] = error;\r\n\t\t\t\t}\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t});\r\n\t\t\treturn finaly;\r\n\t\t}, childrenPromise);\t\t\r\n\r\n\t},\r\n\r\n\t_validatePromise(value, options){\r\n\t\t\r\n\t\tconst { skipChildValidate } = options;\r\n\t\tconst isControlWrapper = betterResult(this, 'isControlWrapper', { args:[this]});\r\n\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet childrenErrors = {\r\n\t\t\t\tchildren: {}\r\n\t\t\t};\r\n\t\t\tlet childrenPromise = this._validateChildrenControlsPromise({ skipChildValidate, isControlWrapper }, childrenErrors);\r\n\r\n\t\t\tchildrenPromise.then(() => {\r\n\r\n\t\t\t\tif (_.size(childrenErrors.children)) {\r\n\t\t\t\t\treject(childrenErrors.children);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else if (childrenErrors.wrapped) {\r\n\t\t\t\t\treject(childrenErrors.wrapped);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tlet promise = this._validateControlPromise(value, options);\r\n\r\n\t\t\t\tpromise.then(\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tresolve(value);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t});\r\n\t\t});\t\t\r\n\t},\r\n\r\n\r\n\r\n\t_onControlValidateSuccess(value, options){\r\n\t\tthis.makeValid(value, options);\r\n\t\treturn Promise.resolve(value);\r\n\t},\r\n\tmakeValid(value, options){\r\n\t\tthis._cntrl.isValid = true;\r\n\t\tif(!this.isSameControlValue(value)){\r\n\t\t\tthis._setControlValue(value, { silent: true, skipValidation: true });\r\n\t\t}\r\n\t\tthis._tryTriggerEvent('valid', [value], options);\r\n\t},\r\n\r\n\t_onControlValidateFail(error, value, options){\r\n\t\tthis.makeInvalid(error, value, options);\r\n\t\treturn Promise.reject(error);\r\n\t},\r\n\tmakeInvalid(error, value, options){\r\n\t\tthis._cntrl.isValid = false;\r\n\t\tthis._tryTriggerEvent('invalid', [value, error], options);\r\n\t},\r\n\r\n\tgetParentControl() {\r\n\t\treturn this._cntrl.parent;\r\n\t},\r\n\tgetParentControlValue(options) {\r\n\r\n\t\tlet parent = this.getParentControl();\r\n\t\tif (!parent || !_.isFunction(parent.getControlValue)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (betterResult(parent, 'isControlWrapper', { args:[this]})) {\r\n\t\t\treturn parent.getParentControlValue(options);\r\n\t\t} else {\r\n\t\t\treturn parent.getControlValue(options);\r\n\t\t}\r\n\t},\r\n\tgetChildrenControls(){\r\n\t\tif(!this._cntrl.children) {\r\n\t\t\tthis._cntrl.children = [];\r\n\t\t}\r\n\t\treturn this._cntrl.children;\r\n\t},\r\n\thandleChildControlEvent(event, controlName, ...args) {\r\n\t\tlet childEvent = controlName + ':' + event;\r\n\t\tlet trigger = getTriggerMethod(this);\r\n\t\ttrigger.call(this, childEvent, ...args);\r\n\r\n\t\tlet cce = this.getOption('childControlEvents', { args: [this] }) || {};\r\n\t\tlet def = this.defaultChildControlEvents || {};\r\n\t\tif(!this._debouncedChildControlEvents) {\r\n\t\t\tthis._debouncedChildControlEvents = {};\r\n\t\t}\r\n\t\tlet dcce = this._debouncedChildControlEvents;\r\n\r\n\t\tlet defHandler = def[event];\r\n\t\tlet handler = cce[childEvent];\r\n\t\tlet handlerArguments = [];\r\n\t\tlet handlerName;\r\n\t\tif (_.isFunction(handler)) {\r\n\t\t\thandlerArguments = args;\r\n\t\t\thandlerName = childEvent;\r\n\t\t\t//handler.apply(this, args);\r\n\t\t} else if(_.isFunction(defHandler)){\r\n\t\t\thandlerName = '_default:' + event;\r\n\t\t\thandler = defHandler;\r\n\t\t\thandlerArguments = [controlName, ...args];\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tlet delay = this.getOption('debounceChildControlEvents');\r\n\t\tif(_.isNumber(delay) && delay > 0){\r\n\t\t\tif(!dcce[handlerName]){\r\n\t\t\t\tdcce[handlerName] = _.debounce(handler, delay);\r\n\t\t\t}\r\n\t\t\thandler = dcce[handlerName];\r\n\t\t}\r\n\r\n\t\thandler.apply(this, handlerArguments);\r\n\r\n\t},\r\n\tdefaultChildControlEvents:{\r\n\t\t'change'(controlName, value){\r\n\t\t\tlet isControlWraper = this.getOption('isControlWrapper');\r\n\t\t\tisControlWraper && (controlName = undefined);\r\n\t\t\tthis.setControlValue(value, { key: controlName, skipChildValidate: controlName });\r\n\t\t},\r\n\t\t'done'(controlName, value){\r\n\t\t\tlet isControlWraper = this.getOption('isControlWrapper');\r\n\t\t\tisControlWraper && (controlName = undefined);\r\n\t\t\tthis.setControlValue(value, { key: controlName, skipChildValidate: controlName });\r\n\t\t\tif(isControlWraper) {\r\n\t\t\t\tthis.controlDone();\r\n\t\t\t}\r\n\t\t},\r\n\t\t'invalid'(controlName, value, error){\r\n\t\t\tif(this.getOption('isControlWrapper')){\r\n\t\t\t\tcontrolName = undefined;\r\n\t\t\t}\r\n\t\t\tthis.setControlValue(value, { key: controlName, silent: true, notValidated: true });\r\n\t\t\tthis.makeInvalid(error, this.getControlValue({ notValidated: true }));\r\n\t\t},\r\n\t},\r\n\r\n\tcontrolDone(){\r\n\t\tif (!this._cntrl.isValid || this._cntrl.isDone) { return; }\r\n\t\tlet value = this.getControlValue();\r\n\t\tthis._cntrl.isDone = true;\r\n\t\tthis._tryTriggerEvent('done', [value]);\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\thelpers\r\n\t*/\r\n\t_clone(value){\r\n\t\tif(_.isArray(value))\r\n\t\t\treturn value.slice(0);\r\n\t\telse if(_.isObject(value)) {\r\n\t\t\treturn unflat(flat(value));\r\n\t\t} else\r\n\t\t\treturn value;\r\n\t},\r\n\t_tryTriggerEvent(name, args = [], { silent, stopPropagation } = {}){\r\n\t\tif (silent) { return; }\r\n\t\tlet controlName = this.getControlName();\r\n\t\tlet event = 'control:' + name;\r\n\t\tlet namedEvent = controlName + ':' + name;\r\n\r\n\t\tlet trigger = getTriggerMethod(this);\r\n\t\t\r\n\t\ttrigger.call(this, event, ...args);\r\n\r\n\t\tlet parent = this.getParentControl();\r\n\t\tif (stopPropagation || !parent) { return; }\r\n\t\tif (_.isFunction(parent.handleChildControlEvent)) {\r\n\t\t\tparent.handleChildControlEvent(name, controlName, ...args);\r\n\t\t} else {\r\n\t\t\tlet parentTrigger = getTriggerMethod(parent);\r\n\t\t\tparentTrigger.call(parent, namedEvent, ...args);\r\n\t\t}\r\n\r\n\t},\r\n\tmakeControlReady(){\r\n\t\tlet trigger = getTriggerMethod(this);\r\n\t\ttrigger.call(this, 'control:ready');\r\n\t},\r\n\r\n}, { ControlMixin: true });\r\n","import { isView, isViewClass } from '../../../vendors/helpers.js';\r\nimport betterResult from '../../../utils/better-result/index.js';\r\nexport default Base => Base.extend({\r\n\t\r\n\trenderAllCustoms: false,\r\n\tshouldMergeCustoms: false,\r\n\trenderCollection: true,\r\n\r\n\tconstructor(){\r\n\t\tthis._customs = [];\t\t\r\n\t\tBase.apply(this, arguments);\r\n\t\tif (this.getOption('renderCollection') === false && this.collection) {\r\n\t\t\tthis._collection = this.collection;\r\n\t\t\tdelete this.collection;\r\n\t\t}\r\n\t\tthis._initializeCustoms();\r\n\t},\r\n\tgetCollection(){\r\n\t\treturn this.collection || this._collection;\r\n\t},\r\n\t_initializeCustoms(){\r\n\r\n\t\tlet optionsCustoms = betterResult(this.options, 'customs', { args: [this], context: this });\r\n\t\tlet instanceCustoms = betterResult(this, 'customs', { args: [this] });\r\n\t\tlet shouldMergeCustoms = this.getOption('shouldMergeCustoms');\r\n\t\tlet add;\r\n\t\tif (shouldMergeCustoms) {\r\n\t\t\tadd = (instanceCustoms || []).concat(optionsCustoms || []);\t\t\t\r\n\t\t} else {\r\n\t\t\tadd = instanceCustoms || optionsCustoms || [];\r\n\t\t}\r\n\t\tthis._customs.push(...add);\r\n\r\n\t\tif (this.getOption('renderAllCustoms')) {\r\n\t\t\tthis.on('render', this._renderCustoms);\r\n\t\t}\r\n\t},\r\n\trenderCustoms(){\r\n\t\tthis.triggerMethod('before:customs:render');\r\n\r\n\t\t_.each(this._renderedCustoms, view => view.destroy());\r\n\t\t\r\n\t\tlet customs = this.getCustoms();\r\n\t\t\r\n\t\tthis._renderedCustoms = this.addChildViews(customs);\r\n\r\n\t\tthis.triggerMethod('customs:render');\r\n\t},\r\n\t_renderCustoms(){\r\n\t\tif (!this.getOption('renderAllCustoms')) return;\r\n\t\tthis.renderCustoms();\r\n\t},\r\n\tgetCustoms() {\t\t\r\n\t\treturn this._prepareCustoms(this._customs.slice(0));\r\n\t},\r\n\t_prepareCustoms(rawcustoms){\r\n\t\treturn _.reduce(rawcustoms, (array, item) => {\r\n\t\t\tlet args = this._prepareCustom(item);\r\n\t\t\targs && (args = this.buildCustom(...args));\r\n\t\t\targs && array.push(args);\r\n\t\t\treturn array;\r\n\t\t},[]);\r\n\t},\r\n\t_prepareCustom(arg){\r\n\t\tif (_.isFunction(arg)) {\r\n\t\t\treturn this._prepareCustom(arg.call(this, this));\r\n\t\t} else if (_.isArray(arg)) {\r\n\t\t\treturn arg;\r\n\t\t} else {\r\n\t\t\treturn [arg, { index: 0 }];\r\n\t\t}\r\n\t},\r\n\tbuildCustom(view, options = {}){ \r\n\t\tif (isViewClass(view)) {\r\n\t\t\tlet childOptions = this.getOption('customViewOptions');\r\n\t\t\tview = new view(childOptions);\r\n\t\t} else if (_.isFunction(view)) {\r\n\t\t\tview = view.call(this, this);\r\n\t\t} else if(!isView(view) && _.isObject(view) && 'view' in view) {\r\n\t\t\tif(isView(view.view)) {\r\n\t\t\t\tif(_.isObject(view.options))\r\n\t\t\t\t\toptions = view.options;\r\n\t\t\t\tview = view.view;\r\n\t\t\t} else if(isViewClass(view.view)) {\r\n\t\t\t\tlet viewOptions = view.options;\r\n\t\t\t\tview = new view.view(viewOptions);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isView(view)) {\r\n\t\t\tthis._setupCustom(view);\r\n\t\t\treturn [view, options]; \r\n\t\t}\r\n\t},\r\n\t_setupCustom(view){\r\n\t\tthis.setupCustom(view);\r\n\t},\r\n\tsetupCustom: _.noop,\r\n\taddChildViews(children = []){\r\n\t\tif (!children.length) { return; }\r\n\r\n\t\tlet awaitingRender = false;\r\n\t\tlet rendered = [];\r\n\t\twhile(children.length) {\r\n\r\n\t\t\tlet args = children.pop();\r\n\t\t\tif (!args) { continue; }\r\n\r\n\t\t\tif (!_.isArray(args)) {\r\n\t\t\t\targs = [args, { index: 0 }];\r\n\t\t\t}\r\n\r\n\t\t\tlet [ view, index, options = {} ] = args;\r\n\t\t\tif (_.isObject(index)) {\r\n\t\t\t\toptions = index;\r\n\t\t\t\tindex = undefined;\r\n\t\t\t}\r\n\t\t\tif (index != null && !('index' in options)) {\r\n\t\t\t\toptions.index = index;\r\n\t\t\t}\r\n\t\t\toptions.preventRender = !!children.length;\r\n\t\t\tif (!isView(view)) { continue; }\r\n\r\n\t\t\tthis.addChildView(view, options);\r\n\t\t\trendered.push(view);\r\n\t\t\tawaitingRender = options.preventRender;\r\n\t\t}\r\n\t\tif (awaitingRender) {\r\n\t\t\tthis.sort();\r\n\t\t}\r\n\t\treturn rendered;\r\n\t},\r\n}, { CustomsMixin: true });\r\n","import { BackboneView } from '../../vendors/backbone.js';\r\nimport triggerMethod from '../../utils/trigger-method/index.js';\r\n\r\nexport default BackboneView.extend({\r\n\tsupportsDestroyLifecycle: true,\r\n\r\n\tconstructor({ text } = {}){\r\n\t\tBackboneView.apply(this, arguments);\r\n\t\tthis.setText(text);\r\n\t},\r\n\trender(){\r\n\t\tthis.$el.html(this.text);\r\n\t\tthis._isRendered = true;\r\n\t\treturn this;\r\n\t},\r\n\tisRendered(){\r\n\t\treturn this._isRendered === true;\r\n\t},\r\n\tsetText(text){\r\n\t\tthis.text = text;\r\n\t\tif(this.isRendered()) {\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\ttriggerMethod,\r\n\tdestroy(){\r\n\t\tif(this._isDestroyed || this._isDestroying) { return; }\r\n\t\tthis._isDestroying = true;\r\n\r\n\t\tthis.triggerMethod('before:destroy', this);\r\n\t\t\r\n\t\tif (this._isAttached) {\r\n\t\t\tthis.triggerMethod('before:detach', this);\r\n\t\t}\r\n\t\t\r\n\t\tthis.remove();\r\n\t\t\r\n\t\tif (this._isAttached) {\r\n\t\t\tthis._isAttached = false;\r\n\t\t\tthis.triggerMethod('detach', this);\r\n\t\t}\r\n\t\t\r\n\t\tthis._isDestroyed = true;\r\n\t\r\n\t\tthis.triggerMethod('destroy', this);\r\n\t}\r\n});\r\n","//import { isView, isViewClass } from '../../../vendors/helpers.js';\r\nimport buildViewByKey from '../../../utils/build-view-by-key/index.js';\r\nimport ControlMixin from '../control/index.js';\r\nimport cssClassModifiers from '../../view/css-class-modifiers/index.js';\r\nimport customsMixin from '../../collection-view/customs/index.js';\r\nimport TextView from '../../../components/text-view/index.js';\r\n\r\nexport default Base => {\r\n\tlet Mixed = Base;\r\n\r\n\tif (!Mixed.ControlMixin) {\r\n\t\tMixed = ControlMixin(Mixed);\r\n\t}\r\n\r\n\tif (!Mixed.CssClassModifiersMixin) {\r\n\t\tMixed = cssClassModifiers(Mixed);\r\n\t}\r\n\r\n\tif (!Mixed.CustomsMixin) {\r\n\t\tMixed = customsMixin(Mixed);\r\n\t}\r\n\r\n\r\n\treturn Mixed.extend({\r\n\r\n\t\trenderAllCustoms: true,\r\n\t\tisControlWrapper: true,\r\n\t\tskipFirstValidationError: true,\r\n\t\tshouldShowError: false,\r\n\t\tvalidateOnReady: false,\r\n\t\t\r\n\t\tconstructor(){\r\n\t\t\tMixed.apply(this, arguments);\r\n\t\t\tif(!this.cssClassModifiers) {\r\n\t\t\t\tthis.cssClassModifiers = [];\r\n\t\t\t}\r\n\t\t\tthis._setControlValidInvalidListeners();\r\n\t\t\tthis.addCssClassModifier('control-wrapper');\r\n\t\t},\t\r\n\t\t_setControlValidInvalidListeners(){\r\n\t\t\tif(this._controlValidInvalidListeners) { return true; }\r\n\r\n\t\t\tthis.on({\r\n\t\t\t\t'control:valid': this._onControlValid,\r\n\t\t\t\t'control:invalid': this._onControlInvalid\r\n\t\t\t});\r\n\t\t\tif(this.getOption('validateOnReady')){\r\n\t\t\t\tthis.once('customs:render', () => this.makeControlReady());\r\n\t\t\t}\t\t\t\r\n\r\n\t\t\tthis._controlValidInvalidListeners = true;\r\n\t\t},\r\n\t\tgetCustoms(){\r\n\t\t\tlet customs = [];\r\n\t\t\tif (this.getOption('isControlWrapper')) {\r\n\t\t\t\tcustoms.push(this.getControlView());\r\n\t\t\t} else {\r\n\t\t\t\tcustoms.push(...this._customs);\r\n\t\t\t}\r\n\t\t\tcustoms = this.injectSystemViews(customs);\r\n\t\t\treturn this._prepareCustoms(customs);\r\n\t\t},\r\n\t\t_setupCustom(view){\r\n\t\t\tthis._setupChildControl(view);\r\n\t\t\tthis.setupCustom(view);\r\n\t\t},\r\n\t\t_setupChildControl(view){\r\n\t\t\tif(_.isFunction(view.setParentControl)) {\r\n\t\t\t\tview.setParentControl(this);\r\n\t\t\t}\r\n\t\t\tthis.setupChildControl(view);\r\n\t\t},\r\n\t\tsetupChildControl: _.noop,\r\n\t\tinjectSystemViews(customs = []){\r\n\t\t\tcustoms.unshift(this.getHeaderView());\r\n\t\t\tcustoms.push(\r\n\t\t\t\tthis.getErrorView(),\r\n\t\t\t\tthis.getFooterView()\t\r\n\t\t\t);\r\n\t\t\treturn customs;\r\n\t\t},\r\n\r\n\t\tbuildTextView(text, tagName){\r\n\t\t\tlet View = this.getOption('textView');\r\n\t\t\tif (!View) { return; }\r\n\t\t\treturn new View({ text, tagName });\r\n\t\t},\r\n\r\n\r\n\r\n\t\tgetErrorView(){\r\n\t\t\tif (!this.getOption('shouldShowError')) { return; }\r\n\t\t\tif (this.getOption('showValidateError', {force:false})) { return; }\r\n\t\t\tthis._errorView = this.buildErrorView();\r\n\t\t\treturn this._errorView;\r\n\t\t},\r\n\t\tbuildErrorView(){\r\n\t\t\treturn buildViewByKey.call(this, 'errorView');\r\n\t\t},\r\n\r\n\r\n\r\n\t\tgetHeaderView(){\t\t\t\r\n\t\t\treturn this.buildHeaderView({ tagName: 'header' });\r\n\t\t},\r\n\t\tbuildHeaderView(options){\r\n\t\t\treturn buildViewByKey.call(this, 'header', { TextView, options });\r\n\t\t},\r\n\r\n\r\n\r\n\t\tgetFooterView(){\r\n\t\t\tif (this.getOption('buttonsInFooter')) {\r\n\t\t\t\treturn this.buildButtonsView();\r\n\t\t\t} else {\r\n\t\t\t\treturn this.buildFooterView();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildFooterView(){\r\n\t\t\treturn buildViewByKey.call(this, 'footer', { TextView, options: { tagName: 'footer' }});\r\n\t\t},\r\n\r\n\t\tbuildButtonsView(){\r\n\t\t\tif (this._buttonsView) {\r\n\t\t\t\tthis.stopListening(this._buttonsView);\r\n\t\t\t}\r\n\r\n\t\t\tlet options = this.buildButtonsOptions();\r\n\t\t\tlet view = buildViewByKey.call(this, 'buttonsView', { options });\r\n\t\t\tif (!view) { return; }\r\n\r\n\t\t\tthis._buttonsView = view;\r\n\t\t\tthis.settleButtonsListeners(view);\r\n\r\n\t\t\treturn view;\r\n\t\t},\r\n\t\tbuildButtonsOptions(){\r\n\t\t\tlet btns = this.getOption('buttons');\r\n\t\t\tif(btns) {\r\n\t\t\t\treturn _.reduce(btns, (hash, b) => {\r\n\t\t\t\t\tlet item = this.buildButton(b, this);\r\n\t\t\t\t\thash[item.name] = item;\r\n\t\t\t\t\treturn hash;\r\n\t\t\t\t}, {});\r\n\t\t\t}\t\t\r\n\t\t},\r\n\t\tbuildButton(value){\r\n\t\t\tif (_.isString(value)) {\r\n\t\t\t\treturn this.buildButton({ text: value, className: value, name: value });\r\n\t\t\t} else if(_.isFunction(value)) {\r\n\t\t\t\treturn this.buildButton(value.call(this));\r\n\t\t\t} else if(_.isObject(value)) {\r\n\t\t\t\treturn this.fixButton(value);\r\n\t\t\t}\r\n\t\t},\r\n\t\tfixButton(button){\r\n\t\t\treturn button;\r\n\t\t},\r\n\t\tsettleButtonsListeners(buttonsView){\r\n\t\t\tthis.listenTo(buttonsView, {\r\n\t\t\t\t'resolve'(){\r\n\t\t\t\t\tthis.triggerMethod('resolve', this.getControlValue());\r\n\t\t\t\t},\r\n\t\t\t\t'reject'(){\r\n\t\t\t\t\tthis.triggerMethod('reject');\r\n\t\t\t\t},\r\n\t\t\t\t'reject:soft'(){\r\n\t\t\t\t\tthis.triggerMethod('reject:soft');\r\n\t\t\t\t},\r\n\t\t\t\t'reject:hard'(){\r\n\t\t\t\t\tthis.triggerMethod('reject:hard');\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetControlView(){\r\n\t\t\tthis.control = buildViewByKey.call(this, 'controlView', { options: { parentControl: this, value: this.getControlValue() } });\r\n\t\t\treturn this.control;\r\n\t\t},\r\n\r\n\r\n\t\t_onControlInvalid(value, error){\r\n\t\t\tthis.disableButtons();\r\n\t\t\tthis._showValidateError(error);\r\n\t\t},\r\n\t\t_onControlValid(){\r\n\t\t\tthis.enableButtons();\r\n\t\t\tthis._hideValidateError();\r\n\t\t},\r\n\t\t\r\n\t\tdisableButtons(){\r\n\t\t\tif(this._buttonsView && _.isFunction(this._buttonsView.disableButton)) {\r\n\t\t\t\tthis._buttonsView.disableButton('resolve');\r\n\t\t\t}\r\n\t\t},\r\n\t\tenableButtons(){\r\n\t\t\tif(this._buttonsView && _.isFunction(this._buttonsView.enableButton)) {\r\n\t\t\t\tthis._buttonsView.enableButton('resolve');\r\n\t\t\t}\r\n\t\t},\r\n\t\t_showValidateError(error){\r\n\t\t\t\r\n\t\t\tlet shouldShow = this.getOption('shouldShowError');\r\n\t\t\tlet skipFirstValidationError = this.getOption('skipFirstValidationError');\r\n\r\n\t\t\tif (skipFirstValidationError && !this._firstValidationErrorSkipped) {\r\n\t\t\t\tthis._firstValidationErrorSkipped = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!shouldShow) return;\r\n\r\n\t\t\tlet show = this.getOption('showValidateError', { force: false });\r\n\t\t\tif (_.isFunction(show)) {\r\n\t\t\t\tshow.call(this, error);\r\n\t\t\t} else {\r\n\t\t\t\tif (!this._errorView) return;\r\n\t\t\t\tthis._errorView.showError(error);\r\n\t\t\t}\t\t\r\n\t\t},\r\n\t\t_hideValidateError(){\r\n\t\t\tlet hide = this.getOption('hideValidateError', { force: false });\r\n\t\t\tif (_.isFunction(hide)) {\r\n\t\t\t\thide.call(this);\r\n\t\t\t} else {\r\n\t\t\t\tif (!this._errorView) return;\r\n\t\t\t\tthis._errorView.hideError();\r\n\t\t\t}\t\t\r\n\t\t},\r\n\t}, { ControlViewMixin: true });\r\n\r\n\r\n};\r\n","//import getOption from '../../../utils/get-option';\r\nimport getOption from '../../../utils/get-option/index.js';\r\nconst _getOption = (context, key, checkAlso) => getOption(context, key, { args:[context], checkAlso });\r\n\r\nexport default function getInputType(inputView, opts = {}){\r\n\t\r\n\tlet valueType = _getOption(inputView, 'valueType', opts);\r\n\tif (valueType == null) {\r\n\t\tlet value = inputView.getControlValue();\r\n\t\tif ( value == null) {\r\n\t\t\tvalueType = 'string';\r\n\t\t} else {\r\n\t\t\tif(_.isNumber(value))\r\n\t\t\t\tvalueType = 'number';\r\n\t\t\telse if(_.isDate(value))\r\n\t\t\t\tvalueType = 'datetime';\r\n\t\t\telse\r\n\t\t\t\tvalueType = 'string';\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tif (valueType == 'number') {\r\n\t\tinputView._valueIsNumber = true;\r\n\t}\r\n\r\n\tlet type = _getOption(inputView, 'inputType', opts);\r\n\tif(type == null){\r\n\t\ttype = _getOption(inputView.valueOptions, 'inputType', opts.valueOptions);\r\n\t}\r\n\tif (!type) {\r\n\t\tif (inputView._valueIsNumber) {\r\n\t\t\ttype = _getOption(inputView, 'inputNumberType', opts) || 'number';\r\n\t\t} else if (valueType == 'string') {\r\n\t\t\ttype = 'text';\r\n\t\t} else if (valueType == 'datetime') {\r\n\t\t\ttype = 'datetime';\r\n\t\t} else {\r\n\t\t\ttype = 'text';\r\n\t\t}\r\n\t}\r\n\tinputView.inputType = type;\r\n\tinputView.valueType = valueType;\r\n\treturn type;\r\n}\r\n","import getInputType from './get-input-type.js';\r\n\r\n//import getOption from '../../../utils/get-option';\r\nimport { getOption } from '../../../utils/index.js';\r\n\r\nexport default function setInputAttributes(inputView, opts = {}) {\r\n\r\n\tlet attributes = getOption(inputView, opts, 'attributes');\r\n\r\n\tlet check = _.extend({}, inputView, opts, inputView.valueOptions, opts.valueOptions);\r\n\r\n\tlet restrictionKeys = {\r\n\t\t'maxLength':'maxlength', \r\n\t\t'minLength':'minlength',\r\n\t\t'minValue':'min', \r\n\t\t'maxValue':'max', \r\n\t\t'valuePattern':'pattern',\r\n\t\t'required':'required',\r\n\t\t'value':'value'\r\n\t};\r\n\tlet restrictions = {};\r\n\t_(restrictionKeys).each((key2, key) => {\r\n\t\tlet value = check[key];\r\n\t\t//getOption(inputView, opts, key);\r\n\t\tif (value != null)\r\n\t\t\trestrictions[key2] = value;\r\n\t});\r\n\r\n\tinputView.attributes = _.extend({\r\n\t\tvalue: inputView.value,\r\n\t\ttype: getInputType(inputView, opts),\r\n\t}, restrictions, attributes);\r\n\t\r\n\tif(opts.attributes)\r\n\t\tdelete opts.attributes;\r\n}\r\n","import getOption from '../../../../utils/get-option/index.js';\r\nexport default (context, key, ifNull) => getOption(context, key, { args:[context], default: ifNull });\r\n\r\n","export default function isChar(event){\r\n\treturn event.key && event.key.length == 1 && !event.ctrlKey;\r\n}","import getOption from './_get-option.js';\r\nimport isChar from './_is-char.js';\r\nexport default function(eventContext) {\r\n\tlet { context, event } = eventContext;\r\n\r\n\tif (context.triggerMethod('keydown', event) === false) { return; }\r\n\r\n\r\n\tlet prevent = false;\r\n\tlet stop = false;\r\n\r\n\tif (isChar(event)) {\r\n\t\tif (!context.isEnteredCharValid(event.key)) {\r\n\t\t\tprevent = true;\r\n\t\t}\r\n\t}\r\n\tif(event.keyCode == 13 && getOption(context, 'doneOnEnter', true)){\r\n\t\tprevent = true;\r\n\t\tstop = true;\r\n\t}\r\n\r\n\tstop && event.stopPropagation();\r\n\tprevent && event.preventDefault();\r\n}\r\n","import getOption from './_get-option.js';\r\nexport default function(eventContext) {\r\n\tlet { context, event } = eventContext;\r\n\r\n\tif (context.triggerMethod('keyup', event) === false) { return; }\r\n\r\n\tif (event.keyCode == 13) {\r\n\t\t\r\n\t\tlet shouldDone = getOption(context, 'doneOnEnter', true);\r\n\t\tif (shouldDone) {\r\n\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tevent.preventDefault();\r\n\t\t\tcontext.controlDone();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n","export default function(eventContext) {\r\n\tlet { context, event } = eventContext;\r\n\r\n\t\r\n\tif (context.triggerMethod('paste', event) === false) { return; }\r\n\r\n\r\n\tlet text = event.originalEvent.clipboardData.getData('text/plain');\r\n\tif (!text) return;\r\n\tif (!context.isValueValid(text)) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t}\r\n}\r\n","import getOption from './_get-option.js';\r\nexport default function(eventContext) {\r\n\tlet { context } = eventContext;\r\n\r\n\tif (context.triggerMethod('blur', event) === false) { return; }\r\n\r\n\r\n\tif (getOption(context, 'doneOnBlur', true)) {\r\n\t\tcontext.controlDone();\r\n\t}\r\n}\r\n","import getOption from './_get-option.js';\r\nexport default function(eventContext) {\r\n\tlet { context, input } = eventContext;\r\n\r\n\tif (context.triggerMethod('focus', event) === false) { return; }\r\n\r\n\tif (getOption(context, 'selectOnFocus', true)) {\r\n\t\tinput.select();\r\n\t}\r\n}\r\n","export default function(eventContext) {\r\n\r\n\tlet { context, input, event } = eventContext;\r\n\r\n\tif (context.triggerMethod('input', event) === false) { return; }\r\n\r\n\r\n\tcontext.setControlValue(event.target.value).then(newvalue => {\r\n\t\tif (event.target.value != (newvalue || '').toString()) {\r\n\t\t\tinput.value = newvalue;\r\n\t\t}\r\n\t});\r\n\t//context.triggerControlChange();\r\n}\r\n","import keydown from './keydown.js';\r\nimport keyup from './keyup.js';\r\nimport paste from './paste.js';\r\nimport blur from './blur.js';\r\nimport focus from './focus.js';\r\nimport input from './input.js';\r\n//import jsChange from './js-change';\r\nexport default {\r\n\tkeydown, \r\n\t//keypress,\r\n\tkeyup,\r\n\tpaste,\r\n\tblur,\r\n\tfocus,\r\n\tinput,\r\n\t//'js:change': jsChange\r\n};\r\n","\r\nimport camelCase from '../../../utils/camel-case/index.js';\r\nimport events from './events/index.js';\r\nexport default function handleInputEvent(control, eventName, event) {\r\n\tlet options = _.extend({\r\n\t\tcontext: control,\r\n\t\tinput: control.el,\r\n\t\trestrictions: control.restrictions,\r\n\t\teventName,\r\n\t\tevent\r\n\t});\r\n\r\n\r\n\tlet method = camelCase(`on:dom:${eventName}`);\r\n\r\n\tif (_.isFunction(events[eventName])) {\r\n\t\tevents[eventName].call(control, options);\r\n\t} \r\n\t\r\n\tif (_.isFunction(control[method])) {\r\n\t\tcontrol[method](event, options);\r\n\t} \r\n}\r\n","import handleEvent from './handle-event.js';\r\nimport eventHandlers from './events/index.js';\r\nimport getOption from '../../../utils/get-option/index.js';\r\n\r\n\r\nconst _getOption = (context, key, checkAlso) => \r\n\tgetOption(context, key, { args:[context], checkAlso });\r\n\r\nexport default function setInputEvents(inputView, opts = {}) {\r\n\r\n\tlet passedEvents = _getOption(inputView, 'events', opts);\t\r\n\r\n\tlet eventsArray = _(eventHandlers).keys();\t\r\n\tlet events = _.reduce(eventsArray, (Memo, eventName) => {\r\n\t\tMemo[eventName] = function(event){ \r\n\t\t\thandleEvent(this, eventName, event); \r\n\t\t};\r\n\t\treturn Memo;\r\n\t}, {});\r\n\tinputView.events = _.extend(events, passedEvents);\r\n}\r\n","import ControlMixin from '../control/index.js';\r\nimport setInputAttributes from './set-attributes.js';\r\nimport setInputEvents from './set-events.js';\r\nimport getOption from '../../../utils/get-option/index.js';\r\nimport convert from '../../../utils/convert-string/index.js';\r\n\r\n//import { convertString as convert, getOption } from '../../../utils/index.js';\r\nexport default Base => {\r\n\r\n\tlet Mixin = Base.ControlMixin ? Base : ControlMixin(Base);\r\n\r\n\treturn Mixin.extend({\r\n\t\tconstructor(opts){\r\n\t\t\t\r\n\t\t\tthis._initControl(opts);\r\n\r\n\t\t\tsetInputAttributes(this, opts);\r\n\t\t\tsetInputEvents(this, opts);\r\n\t\t\tMixin.apply(this, arguments);\r\n\r\n\t\t\tif (!_.isFunction(this.getOption)) {\r\n\t\t\t\tthis.getOption = _.partial(getOption, this, _, { args: [this]});\r\n\t\t\t}\r\n\r\n\t\t\tthis.buildRestrictions();\r\n\t\t\tlet value = this.getOption('value') || '';\t\t\t\r\n\t\t\tthis.el.value = value;\r\n\t\t\t//this.setControlValue(value, { trigger: false, silent: true });\r\n\t\t},\r\n\t\ttagName:'input',\r\n\t\ttemplate: false,\r\n\t\tdoneOnEnter: true,\r\n\t\tdoneOnBlur: true,\r\n\t\tbuildRestrictions(){\r\n\t\t\tlet attrs = _.result(this, 'attributes');\r\n\t\t\tlet pickNumbers = ['maxlength', 'minlength', 'min', 'max'];\r\n\t\t\tlet pickStrings = ['pattern'];\r\n\t\t\tlet pickBools = ['required'];\r\n\t\t\tlet restrictions = {};\r\n\t\t\t_(attrs).each((value, key) => {\r\n\t\t\t\tlet pick = false;\r\n\t\t\t\tkey = key.toLowerCase();\r\n\t\t\t\tif (pickNumbers.indexOf(key) > -1) {\r\n\t\t\t\t\tvalue = convert(value, 'number');\r\n\t\t\t\t\tpick = true;\r\n\t\t\t\t} else if (pickStrings.indexOf(key) > -1) {\r\n\t\t\t\t\tpick = true;\r\n\t\t\t\t} else if (pickBools.indexOf(key) > -1) {\r\n\t\t\t\t\tpick = true;\r\n\t\t\t\t\tvalue = convert(value, 'boolean', { returnNullAndEmptyAs: true, returnOtherAs: true });\r\n\t\t\t\t}\r\n\t\t\t\tpick && (restrictions[key] = value);\r\n\t\t\t});\r\n\t\t\tthis.restrictions = restrictions;\t\t\r\n\t\t},\r\n\t\tprepareValueBeforeSet(value){\r\n\t\t\tif (value == null || value === '') return value;\r\n\t\t\t\r\n\t\t\tlet len = this.getMaxLength();\r\n\t\t\tif (len > 0) {\r\n\t\t\t\tvalue = value.toString().substring(0, len);\r\n\t\t\t}\r\n\t\t\tif (this._valueIsNumber) {\r\n\t\t\t\tlet num = convert(value, 'number');\r\n\t\t\t\tif(isNaN(num))\r\n\t\t\t\t\treturn;\r\n\t\t\t\tlet min = this.restrictions.min;\r\n\t\t\t\tlet max = this.restrictions.max;\r\n\t\t\t\t!isNaN(min) && num < min && (num = min);\r\n\t\t\t\t!isNaN(max) && num > max && (num = max);\r\n\t\t\t\treturn num;\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tgetValueType(){\r\n\t\t\treturn this.valueType;\r\n\t\t},\r\n\t\tconvertValue(value){\r\n\t\t\treturn convert(value, this.getValueType());\r\n\t\t},\t\t\r\n\t\tgetMaxLength()\r\n\t\t{\r\n\t\t\treturn this.restrictions.maxlength;\r\n\r\n\t\t},\r\n\t\tisLengthValid(){\r\n\t\t\tlet value = this.getControlValue();\r\n\t\t\tlet len = this.getMaxLength();\r\n\t\t\treturn len == null || value.length < len;\r\n\t\t},\r\n\t\tisEnteredCharValid(char) {\r\n\t\t\tlet type = this.getValueType();\r\n\r\n\t\t\tif (type == 'number') {\r\n\t\t\t\treturn ['.','-'].indexOf(char) > -1 || !isNaN(parseInt(char, 10));\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tisValueValid(value){\r\n\t\t\tlet type = this.getValueType();\r\n\t\t\tif (type == 'number') {\r\n\t\t\t\treturn !isNaN(parseFloat(value, 10));\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcontrolValidate(value){\r\n\t\t\tif (value == null || value === '') {\r\n\t\t\t\tif(this.restrictions.required)\r\n\t\t\t\t\treturn 'required';\r\n\t\t\t\telse if (this.restrictions.minLength > 0) {\r\n\t\t\t\t\treturn 'length:small';\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet strValue = value.toString();\r\n\t\t\tif (_.isNumber(this.restrictions.maxlength) && strValue.length > this.restrictions.maxlength)\r\n\t\t\t\treturn 'length:big';\r\n\t\t\tif (this._valueIsNumber) {\r\n\t\t\t\tif (!_.isNumber(value))\r\n\t\t\t\t\treturn 'not:number';\r\n\t\t\t\tif (_.isNumber(this.restrictions.min) && value < this.restrictions.min)\r\n\t\t\t\t\treturn 'less:than:min';\r\n\t\t\t\tif (_.isNumber(this.restrictions.max) && value > this.restrictions.max)\r\n\t\t\t\t\treturn 'greater:than:max';\r\n\t\t\t}\r\n\t\t\tif (this.restrictions.pattern) {\r\n\t\t\t\tlet pattern = RegExp(this.restrictions.pattern);\r\n\t\t\t\tif (pattern.test(strValue)) {\r\n\t\t\t\t\treturn 'pattern:mismatch';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n","\r\nexport default Base => Base.extend({\r\n\tconstructor(options){\r\n\t\tif (!this.cssClassModifiers) {\r\n\t\t\tthis.cssClassModifiers = [];\r\n\t\t}\r\n\t\tthis._buttons = {};\r\n\t\tBase.apply(this, arguments);\r\n\t\tthis.addPromiseBarCssClass();\r\n\t\tthis.mergeOptions(options, ['promise', 'reject', 'resolve', 'beforeRejectSoft', 'beforeRejectHard', 'beforeResolve']);\r\n\t},\r\n\tclassName:'promise-bar',\r\n\ttagName: 'footer',\r\n\tresolve:'ok',\r\n\ttriggerNameEvent: true,\r\n\taddPromiseBarCssClass(){\r\n\t\tthis.cssClassModifiers.push('promise-bar');\r\n\t},\r\n\tonRender(){\r\n\t\tthis.addButtons();\r\n\t},\r\n\taddButtons(){\r\n\t\tlet buttons = this.buildButtons() || [];\r\n\t\twhile (buttons.length){\r\n\t\t\tlet button = buttons.pop();\r\n\t\t\tlet preventRender = !!buttons.length;\r\n\t\t\tthis.addChildView(button, { preventRender });\r\n\t\t}\r\n\t},\r\n\tbuildButtons(){\r\n\t\tlet names = ['resolve','rejectSoft','rejectHard'];\r\n\t\treturn _.reduce(names, (buttons, name) => {\r\n\t\t\tlet button = this.buildButton(name);\r\n\t\t\tbutton && buttons.push(button);\r\n\t\t\treturn buttons;\r\n\t\t}, []);\r\n\t},\r\n\tbuildButton(name){\r\n\t\tlet options = this.getButtonOptions(name);\r\n\t\tif (!options) return;\r\n\t\tlet Button = this.getOption('buttonView');\r\n\t\tlet btn = new Button(options);\r\n\t\tthis._buttons[name] = btn;\r\n\t\treturn btn;\r\n\t},\r\n\tgetButtonOptions(name){\r\n\t\tlet options = this.getOption(name);\r\n\t\tif ( !options ) return;\r\n\t\tif( _.isString(options) ) {\r\n\t\t\toptions = { text: options };\r\n\t\t} else if(!_.isObject(options)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet defs = { \r\n\t\t\tclassName: name, \r\n\t\t\tname, \r\n\t\t\ttriggerNameEvent: this.getOption('triggerNameEvent'), \r\n\t\t\tstopEvent: true,\r\n\t\t\ttext: options.text || name,\r\n\t\t};\r\n\t\toptions = _.extend(defs, options);\r\n\t\treturn options;\r\n\t},\r\n\tchildViewEvents:{\r\n\t\t'click:resolve'(data){\r\n\t\t\tthis.triggerMethod('resolve', data);\r\n\t\t},\r\n\t\t'click:rejectSoft'(value){ \r\n\t\t\tthis.triggerMethod('reject', { type: 'soft', value });\r\n\t\t\tthis.triggerMethod('reject:soft', value);\r\n\t\t},\r\n\t\t'click:rejectHard'(value){ \r\n\t\t\tthis.triggerMethod('reject', { type: 'hard', value });\r\n\t\t\tthis.triggerMethod('reject:hard', value);\r\n\t\t},\r\n\t\t'click:fail'(error, name, event, view) {\r\n\t\t\tthis.triggerMethod('click:fail', error, name, event, view);\r\n\t\t\tif (name) {\r\n\t\t\t\tthis.triggerMethod(`click:${name}:fail`, error, event, view);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdisableButton(name){\r\n\t\tlet btn = this._buttons[name];\r\n\t\tbtn && btn.disable();\r\n\t},\r\n\tenableButton(name){\r\n\t\tlet btn = this._buttons[name];\r\n\t\tbtn && btn.enable();\r\n\t},\r\n\r\n});\r\n","import isEmpty from '../../utils/is-empty-value/index.js';\r\n\r\n\r\n\r\n\r\nconst rules = [\r\n\t{\r\n\t\tname: 'required',\r\n\t\tmessage: 'required',\r\n\t\tvalidate: (value) => {\r\n\t\t\tif (isEmpty(value)) {\r\n\t\t\t\treturn 'required';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname: 'email',\r\n\t\tmessage: 'not a email',\r\n\t\tvalidate: (value) => {\r\n\t\t\t\r\n\t\t\tif(isEmpty(value)) { return; }\r\n\r\n\t\t\tif (!_.isString(value)) {\r\n\t\t\t\treturn 'type:mismatch';\r\n\t\t\t}\r\n\r\n\t\t\tlet chunks = value.split('@');\r\n\t\t\tlet left = chunks[0];\r\n\t\t\tlet right = chunks[1];\r\n\t\t\r\n\t\t\tif(\r\n\t\t\t\tchunks.length != 2\r\n\t\t\t\t|| !/^[a-z0-9\\-_.+]+$/gmi.test(left)\r\n\t\t\t\t|| !/^[a-z0-9\\-_]+\\.[a-z0-9\\-_]+(\\.[a-z0-9\\-_]+)*$/gmi.test(right)\r\n\t\t\t) {\r\n\t\t\t\treturn 'pattern:mismatch';\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'valueIn',\r\n\t\tmessage: 'given value is not one of allowed values',\r\n\t\tvalidate: (value, { valueIn } = {}) => {\r\n\t\t\tif(_.isArray(valueIn) && valueIn.indexOf(value) === -1) {\r\n\t\t\t\treturn 'value:not:in';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'valueNotIn',\r\n\t\tmessage: 'given value is one of forbiden values',\r\n\t\tvalidate: (value, { valueNotIn } = {}) => {\r\n\t\t\tif(_.isArray(valueNotIn) && valueNotIn.indexOf(value) > -1) {\r\n\t\t\t\treturn 'value:in';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'shouldBeEqual',\r\n\t\tmessage: 'given value is not equal',\r\n\t\tvalidate: (value, { shouldBeEqual, allValues } = {}) => {\r\n\t\t\t\r\n\t\t\tlet compare = _.isFunction(shouldBeEqual) \r\n\t\t\t\t? shouldBeEqual(allValues) \r\n\t\t\t\t: shouldBeEqual;\r\n\r\n\t\t\tif (value !== compare) {\r\n\t\t\t\treturn 'value:not:equal';\r\n\t\t\t}\r\n\t\t}\r\n\t},\t\r\n\t{\r\n\t\tname:'shouldNotBeEqual',\r\n\t\tmessage: 'given value is forbiden',\r\n\t\tvalidate: (value, { shouldNotBeEqual, allValues } = {}) => {\r\n\r\n\t\t\tlet compare = _.isFunction(shouldNotBeEqual) \r\n\t\t\t\t? shouldNotBeEqual(allValues) \r\n\t\t\t\t: shouldNotBeEqual;\r\n\r\n\t\t\tif (value !== compare) {\r\n\t\t\t\treturn 'value:equal';\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif(_.isFunction(shouldNotBeEqual)) {\r\n\t\t\t\treturn value !== shouldNotBeEqual(allValues);\r\n\t\t\t} else {\r\n\t\t\t\treturn value !== shouldNotBeEqual;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'minLength',\r\n\t\tmessage: ({ ruleValue } = {}) => 'length is less than ' + ruleValue,\r\n\t\tvalidate: (value, { minLength } = {}) => {\r\n\t\t\tif (_.isNumber(minLength) && (value || '').toString().length < minLength) {\r\n\t\t\t\treturn 'min:length';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'maxLength',\r\n\t\tmessage: ({ ruleValue } = {}) => 'length is greater than ' + ruleValue,\r\n\t\tvalidate: (value, { maxLength } = {}) => {\r\n\t\t\tif (_.isNumber(maxLength) && (value || '').toString().length > maxLength) {\r\n\t\t\t\treturn 'max:length';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'minValue',\r\n\t\tmessage: ({ ruleValue } = {}) => 'value is less than ' + ruleValue,\r\n\t\tvalidate: (value, { minValue } = {}) => {\r\n\t\t\tif (_.isNumber(minValue)) {\r\n\t\t\t\tlet numValue = parseFloat(value, 10);\r\n\t\t\t\tif (isEmpty(numValue) || numValue < minValue) {\r\n\t\t\t\t\treturn 'min:value';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'maxValue',\r\n\t\tmessage: ({ ruleValue } = {}) => 'value is greater than ' + ruleValue,\r\n\t\tvalidate: (value, { maxValue } = {}) => {\r\n\t\t\tif (_.isNumber(maxValue)) {\r\n\t\t\t\tlet numValue = parseFloat(value, 10);\r\n\t\t\t\tif (isEmpty(numValue) || numValue > maxValue) {\r\n\t\t\t\t\treturn 'max:value';\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:'pattern',\r\n\t\tmessage: 'value is not in pattern',\r\n\t\tvalidate: (value, { pattern } = {}) => {\r\n\t\t\tvalue = (value || '').toString();\r\n\r\n\t\t\tif(_.isString(pattern) && !isEmpty(pattern)) {\r\n\t\t\t\tpattern = new RegExp(pattern);\r\n\t\t\t}\r\n\t\t\tif(!_.isRegExp(pattern)) { return; }\r\n\r\n\t\t\tif (!pattern.test(value)) {\r\n\t\t\t\treturn 'pattern';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname: 'validate',\r\n\t\tvalidate: (value, options = {}) => {\r\n\t\t\tlet { ruleValue } = options;\r\n\t\t\tif(!_.isFunction(ruleValue)) return;\r\n\t\t\treturn ruleValue(value, options);\r\n\t\t},\r\n\t},\t\r\n];\r\n\r\nreIndex(false);\r\n\r\nexport function reIndex(sortBefore = true) {\r\n\tif (sortBefore) {\r\n\t\trules.sort((a,b) => a.index - b.index);\r\n\t}\r\n\t_.each(rules, (rule, index) => {\r\n\t\trule.index = index;\r\n\t});\r\n}\r\n\r\nexport default rules;\r\n","import rules from './rules.js';\r\nimport isEmptyValue from '../../utils/is-empty-value/index.js';\r\n\r\nfunction normalizeValidationContext(context){\r\n\tif (context === 'required') {\r\n\t\treturn { required: true };\r\n\t} else if(_.isFunction(context)) {\r\n\t\treturn { validate: context };\r\n\t} else if(_.isObject(context)) {\r\n\t\treturn context;\r\n\t}\r\n}\r\n\r\nfunction getRuleContexts(rule = {}){\r\n\tlet founded = _.reduce(rule, (taken, ruleValue, name) => {\r\n\t\tlet found = _.findWhere(rules, { name });\r\n\t\tif(!found) return taken;\r\n\r\n\t\tlet message = rule[name + 'Message'];\r\n\t\ttaken.push({\r\n\t\t\trule: found,\r\n\t\t\truleValue,\r\n\t\t\tmessage,\r\n\t\t\tindex: found.index\r\n\t\t});\r\n\r\n\t\treturn taken;\r\n\r\n\t}, []);\r\n\tfounded.sort((a,b) => a.index - b.index);\r\n\treturn founded;\r\n}\r\n\r\nfunction check(value, ruleContext = {}) {\r\n\t\r\n\tlet { rule = {}, ruleValue, allValues, errors = [] } = ruleContext;\r\n\tif (rule.skipIfInvalid && errors.length) {\r\n\t\treturn Promise.reject();\r\n\t}\r\n\tlet message = ruleContext.message || rule.message;\r\n\tlet buildMessage = _.isFunction(message) ? message : ({ error } = {}) => isEmptyValue(message) ? error : message;\r\n\r\n\tlet validate = rule.validate;\r\n\tlet validateOptions = {\r\n\t\truleName: rule.name,\r\n\t\truleValue,\r\n\t\t[rule.name]: ruleValue,\r\n\t\tallValues,\r\n\t\tmessage: buildMessage({ value, allValues, ruleValue }),\r\n\t\terrors,\r\n\t};\r\n\tif (!_.isFunction(validate)) return Promise.resolve(value);\r\n\r\n\t\r\n\tlet result = validate(value, validateOptions);\r\n\r\n\tif (!result) {\r\n\t\treturn Promise.resolve(value);\r\n\t} else if(result && _.isFunction(result.then)) {\r\n\t\treturn result.then(\r\n\t\t\t() => Promise.resolve(value),\r\n\t\t\t(error) => Promise.reject(buildMessage({ error, value, allValues, ruleValue }))\r\n\t\t);\r\n\t} else {\r\n\t\treturn Promise.reject(buildMessage({ error: result, value, allValues, ruleValue }));\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default function validate(value, rule, { allValues = {} } = {}){\r\n\trule = normalizeValidationContext(rule);\r\n\tlet contexts = getRuleContexts(rule);\r\n\t\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet errors = [];\r\n\r\n\t\tlet rulesPromise = _.reduce(contexts, (promise, ruleContext) => {\r\n\r\n\t\t\tpromise = promise.then(() => {\r\n\t\t\t\treturn check(value, _.extend({}, ruleContext, { allValues, errors }));\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tif(error != null)\r\n\t\t\t\t\terrors.push(error);\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t}, Promise.resolve(value));\r\n\r\n\t\trulesPromise.then(() => {\r\n\t\t\tif(errors.length){\r\n\t\t\t\treject(errors);\r\n\t\t\t} else {\r\n\t\t\t\tresolve(value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n}\r\n\r\n\r\n\r\n","import rules, { reIndex } from './rules.js';\r\n\r\nimport isEmptyValue from '../../utils/is-empty-value/index.js';\r\n\r\nimport validate from './validate.js';\r\n\r\nfunction removeRule(name){\r\n\tlet found = _.findIndex(rules, { name });\r\n\tif (found === -1) return;\r\n\tlet removed = rules.splice(found, 1);\r\n\treIndex();\r\n\treturn removed;\r\n}\r\n\r\nfunction setRule(rule){\r\n\tif (rule.index == null) {\r\n\t\trule.index = rules.length;\r\n\t}\r\n\trules.push(rule);\r\n\treIndex();\r\n\treturn rule;\r\n}\r\n\r\nexport default {\r\n\tsetRule(name, rule = {}){\r\n\t\tif(_.isObject(name)) {\r\n\t\t\trule = name;\r\n\t\t\tname = rule.name;\r\n\t\t}\r\n\r\n\t\tif(isEmptyValue(name)) {\r\n\t\t\tthrow new Error('rule name not specified');\r\n\t\t}\r\n\r\n\t\tif(rule == null){\r\n\t\t\treturn removeRule(name);\r\n\t\t} else if (!_.isObject(rule)) {\r\n\t\t\tthrow new Error('validation rule must be an object');\r\n\t\t} else {\r\n\t\t\tif (rule.name != name) {\r\n\t\t\t\trule.name = name;\r\n\t\t\t}\r\n\t\t\treturn setRule(rule);\r\n\t\t}\r\n\t},\r\n\tremoveRule(name) {\r\n\t\treturn removeRule(name);\r\n\t},\r\n\tgetRule(name){\r\n\t\treturn _.findWhere(rules, { name });\r\n\t},\r\n\tsetMessage(name, message){\r\n\t\tif(!_.isString(name) || isEmptyValue(name)) {\r\n\t\t\tthrow new Error('name must be not empty string');\r\n\t\t}\r\n\t\tif(!(_.isString(message) || _.isFunction(message))) {\r\n\t\t\tthrow new Error('message must be not empty string or a function returning a string');\r\n\t\t}\r\n\t\tlet rule = _.findWhere(rules, { name });\r\n\t\tif (!rule) { return; }\r\n\t\trule.message = message;\r\n\t},\r\n\tsetMessages(hash = {}){\r\n\t\t_.each(hash, (message, name) => this.setMessage(name, message));\r\n\t},\r\n\tvalidate,\r\n\t_rules: rules,\r\n};\r\n","export default {\r\n\t_createSchema(){\r\n\t\tlet schema = this.getOption('schema', { args: [ this.model, this ] });\r\n\t\tlet Schema = this.getSchemaClass();\r\n\r\n\t\tif(schema instanceof Schema){\r\n\t\t\treturn schema;\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif(schema == null || _.isObject(schema)) {\r\n\t\t\treturn this.createSchema(Schema, schema);\r\n\t\t}\r\n\t\t\r\n\t},\r\n\tgetSchema(){\r\n\t\tif(this._schema) { return this._schema; }\r\n\t\t\r\n\t\tthis._schema = this._createSchema();\r\n\t\treturn this._schema;\r\n\t},\r\n\tcreateSchema(Schema, options = {}){\r\n\t\treturn new Schema(options);\r\n\t},\r\n\tgetSchemaClass(){\r\n\t\treturn this.getOption('schemaClass');\r\n\t},\r\n};\r\n","import BaseModel from '../base-object/index.js';\r\nimport getOption from '../../mixins/common/get-option/index.js';\r\n\r\nconst Schema = getOption(BaseModel);\r\nexport default Schema;\r\n","\r\nimport betterResult from '../../utils/better-result/index.js';\r\nimport flat from '../../utils/flat/index.js';\r\nimport unflat from '../../utils/unflat/index.js';\r\nimport Schema from './schema.js';\r\n\r\n\r\nexport default Schema.extend({\r\n\tconstructor(options = {}){\r\n\t\tSchema.apply(this, arguments);\r\n\t\tlet { name, property, modelSchema, order = 0 } = options;\r\n\t\tthis.name = name;\r\n\t\tthis.schema = _.extend({}, property);\t\r\n\t\tthis.modelSchema = modelSchema;\r\n\t\tif (this.schema.order != null)\r\n\t\t\torder = this.schema.order;\r\n\t\tthis.order = order;\r\n\t},\r\n\t_getByKey(key, options = {}){\r\n\t\tlet hash = betterResult(this.schema, key, { args: [options], default: {} });\r\n\t\treturn unflat(flat(hash));\r\n\t},\r\n\tgetValidation(options) {\r\n\t\treturn this._getByKey('validation', options);\r\n\t},\r\n\tgetType(options) {\r\n\t\tlet type = this._getByKey('value', options);\r\n\t\tif(!('multiple' in type)) {\r\n\t\t\ttype.multiple = false;\r\n\t\t}\r\n\t\treturn type;\r\n\t},\r\n\tgetDisplay(options){\r\n\t\treturn this._getByKey('display', options);\r\n\t},\r\n\tgetLabel(value, allValues){\r\n\t\tlet label = this.getDisplay().label;\r\n\t\treturn betterResult({ label },'label', { args: [value, allValues] });\r\n\t},\r\n\tgetEdit(options = {}){\r\n\t\tlet valueOptions = this.getType(options);\r\n\t\tlet editOptions = this._getByKey('edit', options);\r\n\t\tlet label = this.getLabel(options.value, options.allValue);\r\n\t\tlet compiled = _.extend({ name: this.name, label }, options, { valueOptions, editOptions });\r\n\t\treturn compiled;\r\n\t},\r\n});\r\n","import validator from '../../../components/validator/index.js';\r\nimport ControlView from '../control-view/index.js';\r\nimport common from './common.js';\r\nimport mix from '../../../utils/mix/index.js';\r\nimport PropertySchema from '../../../components/model-schema/property-schema.js';\r\nimport buildViewByKey from '../../../utils/build-view-by-key/index.js';\r\nimport TextView from '../../../components/text-view/index.js';\r\n\r\nexport default Base => {\r\n\tconst Mixed = mix(Base).with(ControlView, common);\r\n\r\n\treturn Mixed.extend({\r\n\t\t\r\n\t\tshouldShowError: true,\r\n\t\tclassName:'edit-model-property',\r\n\t\tschemaClass: PropertySchema,\r\n\t\tdebounceChildControlEvents: 0,\r\n\r\n\r\n\t\tgetDefaultValidateRule(options){\r\n\t\t\tlet schema = this.getSchema();\r\n\t\t\tlet rule = _.extend({}, schema.getType(options), schema.getValidation(options));\r\n\t\t\treturn rule;\r\n\t\t},\r\n\t\tgetValidateRule(options = {}){\r\n\t\t\tlet rule = this.getDefaultValidateRule(options);\r\n\t\t\treturn rule;\r\n\t\t},\r\n\t\t\r\n\t\tgetHeaderView(){\r\n\t\t\tlet view = buildViewByKey.call(this, 'header', { TextView });\r\n\t\t\tif(view) { return view; }\r\n\r\n\t\t\tif(this.getOption('propertyLabelAsHeader')) {\r\n\t\t\t\tlet label = this.getSchema().getLabel();\r\n\t\t\t\treturn new TextView({ text: label, tagName: 'header'});\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetControlView(){\r\n\t\t\tlet options = {\r\n\t\t\t\tvalue: this.getControlValue(),\r\n\t\t\t\tallValues: this.getParentControlValue(),\t\t\t\t\r\n\t\t\t};\r\n\t\t\tlet editOptions = this.getSchema().getEdit(options);\r\n\t\t\treturn this.buildPropertyView(editOptions);\r\n\t\t},\r\n\t\tcontrolValidate(value, allValues){\r\n\t\t\tlet rule = this.getValidateRule({ value, allValues });\r\n\t\t\tif(!rule || !_.size(rule)) return;\r\n\t\t\treturn validator.validate(value, rule, { allValues });\r\n\t\t},\r\n\t\t\r\n\t\t// must be overrided\r\n\t\t// accepts:\toptions arguments.\r\n\t\t// returns:\tshould return Control instance\r\n\t\tbuildPropertyView(){\r\n\t\t\tthrow new Error('buildPropertyView not implemented. You should build view by your own');\r\n\t\t},\r\n\r\n\t});\r\n};\r\n","import Schema from './schema.js';\r\nimport PropertySchema from './property-schema.js';\r\nimport isEmptyValue from '../../utils/is-empty-value/index.js';\r\n\r\nexport default Schema.extend({\r\n\tconstructor(properties = {}){\r\n\t\tthis.properties = {};\r\n\t\tSchema.apply(this,arguments);\r\n\t\tthis.setProperties(properties);\r\n\t},\r\n\tpropertySchema: PropertySchema,\r\n\t_createProperty(property){\r\n\t\tlet props = this.getProperties();\r\n\t\tlet order = _.size(props);\r\n\t\tlet Schema = this.getOption('propertySchema');\r\n\t\tlet options = { name: property.name, property, modelSchema: this, order };\r\n\t\treturn this.createProperty(Schema, options);\r\n\t},\r\n\tcreateProperty(Schema, options){\r\n\t\treturn new Schema(options);\r\n\t},\r\n\tsetProperties(properties){\r\n\t\treturn _.map(properties, (property, name) => {\r\n\t\t\tif(!_.isObject(property)) { return; }\r\n\r\n\t\t\tlet propertyName = _.isString(name) ? name : property.name;\r\n\t\t\tif (isEmptyValue(propertyName)) {\r\n\t\t\t\tthrow new Error('property name missing: ' + name);\r\n\t\t\t}\t\t\t\r\n\t\t\treturn this.setProperty(propertyName, property);\r\n\r\n\t\t});\r\n\t},\r\n\tgetProperties(){\r\n\t\treturn this.properties;\r\n\t},\r\n\tgetPropertiesArray(){\r\n\t\tlet props = this.getProperties();\r\n\t\treturn _.toArray(props)\r\n\t\t\t.sort((p1,p2) => p1.order - p2.order);\t\t\r\n\t},\r\n\tgetPropertiesNames(){\r\n\t\tlet props = this.getPropertiesArray();\r\n\t\treturn _.pluck(props, 'name');\r\n\t},\r\n\tgetProperty(name, { create = false } = {}){\r\n\t\tlet properties = this.getProperties() || {};\r\n\t\tlet property = properties[name];\r\n\t\tif(property || !create) {\r\n\t\t\treturn property;\r\n\t\t}\r\n\t\tproperty = this._createProperty(name);\r\n\t\treturn this.setProperty(name, property);\r\n\t},\r\n\t_setProperty(name, property){\r\n\t\tif(!_.isObject(property)){\r\n\t\t\tthrow new Error('property is not an object', property);\r\n\t\t}\r\n\t\tif(isEmptyValue(name)){\r\n\t\t\tthrow new Error('property has no name', property);\r\n\t\t}\r\n\r\n\t\tif (isEmptyValue(property.name)) {\r\n\t\t\tproperty.name = name;\r\n\t\t}\r\n\r\n\t\tif(!(property instanceof PropertySchema)){\r\n\t\t\tproperty = this._createProperty(property);\r\n\t\t}\r\n\r\n\t\tlet properties = this.getProperties();\r\n\t\tproperties[property.name] = property;\r\n\r\n\t\treturn property;\r\n\t},\r\n\tsetProperty(name, property) {\r\n\t\tif(_.isObject(name)){\r\n\t\t\tproperty = name;\r\n\t\t\tname = property.name;\r\n\t\t}\r\n\t\treturn this._setProperty(name, property);\r\n\t},\r\n\tgetValidation(name) {\r\n\t\tlet property = this.getProperty(name);\r\n\t\treturn property && property.getValidation() || {};\r\n\t},\r\n\tgetType(name) {\r\n\t\tlet property = this.getProperty(name);\r\n\t\treturn property && property.getType() || {};\r\n\t},\r\n\tgetLabel(name){\r\n\t\tlet property = this.getProperty(name);\r\n\t\treturn property && property.getLabel() || '';\r\n\t}\r\n});\r\n","import ControlView from '../control-view/index.js';\r\nimport common from './common.js';\r\nimport mix from '../../../utils/mix/index.js';\r\nimport ModelSchema from '../../../components/model-schema/model-schema.js';\r\nimport EditProperty from './property.js';\r\n\r\n\r\nexport default Base => {\r\n\tconst Mixed = mix(Base).with(ControlView, common);\r\n\r\n\treturn Mixed.extend({\r\n\t\t\r\n\t\tvalidateOnReady: true,\r\n\t\tbuttonsInFooter: true,\r\n\t\tisControlWrapper: false,\r\n\t\tschemaClass: ModelSchema,\r\n\t\teditPropertyClass: EditProperty,\r\n\r\n\t\tpropertyLabelAsHeader: true,\r\n\r\n\t\tclassName:'edit-model-control',\r\n\r\n\t\tgetCustoms(){\r\n\t\t\tlet customs = [];\r\n\t\t\tcustoms.push(...this.getPropertiesViews());\r\n\t\t\tcustoms.push(...this._customs);\r\n\t\t\tcustoms = this.injectSystemViews(customs);\r\n\t\t\treturn this._prepareCustoms(customs);\r\n\t\t},\r\n\t\tgetPropertiesViews(){\r\n\t\t\tlet modelSchema = this.getSchema();\r\n\t\t\tlet propertiesToShow = this.getOption('propertiesToShow', { args: [ this.model, this ]}) || [];\r\n\t\t\tif(!propertiesToShow.length) {\r\n\t\t\t\tpropertiesToShow = modelSchema.getPropertiesNames();\r\n\t\t\t}\r\n\t\t\treturn _.map(propertiesToShow, name => this._createEditProperty(name, modelSchema));\r\n\t\t},\r\n\t\t_createEditProperty(name, modelSchema){\r\n\t\t\tlet schema = modelSchema.getProperty(name, { create: true });\r\n\t\t\tlet EditProperty = this.getEditPropertyClass();\r\n\t\t\tconst def = {\r\n\t\t\t\tcontrolName: name,\r\n\t\t\t\tschema,\r\n\t\t\t\tvalue: this.getPropertyValue(name),\r\n\t\t\t\tallValues: this.getControlValue({ notValidated: true }),\r\n\t\t\t\tpropertyLabelAsHeader: this.getOption('propertyLabelAsHeader')\r\n\t\t\t};\r\n\t\t\tlet options = this.getEditPropertyOptions(def);\r\n\t\t\treturn this.createEditProperty(EditProperty, options);\r\n\t\t},\r\n\t\tgetPropertyValue(property){\r\n\t\t\treturn this.getControlValue(property);\r\n\t\t},\r\n\t\tgetEditPropertyClass(){\r\n\t\t\treturn this.getOption('editPropertyClass');\r\n\t\t},\r\n\t\tgetEditPropertyOptions(defaultOptions){\r\n\t\t\treturn _.extend({}, defaultOptions, this.getOption('editPropertyOptions'));\r\n\t\t},\r\n\t\tcreateEditProperty(EditProperty, options){\r\n\t\t\treturn new EditProperty(options);\r\n\t\t},\r\n\r\n\t});\r\n};\r\n","export default CollectionView => CollectionView.extend({\r\n\tshouldHandleEmptyFetch: true, \r\n\tconstructor(){\r\n\t\tCollectionView.apply(this, arguments);\r\n\r\n\t\tthis.getOption('shouldHandleEmptyFetch') && this.emptyView\r\n\t\t\t&& this._handleEmptyFetch();\r\n\t},\r\n\t_handleEmptyFetch(){\r\n\t\tif (!this.collection || this.collection.length) { return; }\r\n\r\n\t\tthis.listenToOnce(this.collection, 'sync', \r\n\t\t\t() => !this.collection.length && this._renderChildren()\r\n\t\t);\r\n\r\n\t},\r\n});\r\n","function rebuildIndexes() {\r\n\tif (!this.getOption('shouldRebuildIndexes') || !this.collection) {\r\n\t\treturn;\r\n\t}\r\n\tlet models = this.collection.models;\r\n\tfor (let index = 0, length = models.length; index < length; index++) {\r\n\t\tlet model = models[index];\r\n\t\tlet view = this._children.findByModel(model);\r\n\t\tview && (view._index = index);\r\n\t}\r\n}\r\n\r\nexport default CollectionView => CollectionView.extend({\r\n\tshouldRebuildIndexes: true,\r\n\r\n\tconstructor() {\t\t\r\n\t\t\r\n\t\tCollectionView.apply(this, arguments);\r\n\t\tthis.on('before:sort', rebuildIndexes.bind(this));\r\n\t\t// if (this.collection) {\r\n\t\t// \trebuildIndexes.call(this);\r\n\t\t// \tthis.listenTo({\r\n\t\t// \t\t'update': rebuildIndexes.bind(this),\r\n\t\t// \t\t'sort': rebuildIndexes.bind(this),\r\n\t\t// \t\t'reset': rebuildIndexes.bind(this),\r\n\t\t// \t});\r\n\t\t// }\r\n\t},\r\n\t_addChild(view, index){\r\n\t\tview._isModelView = arguments.length === 1;\r\n\t\tif (index != null) {\r\n\t\t\tview._index = index;\r\n\t\t}\r\n\t\treturn CollectionView.prototype._addChild.apply(this, arguments);\r\n\t},\r\n\t_viewComparator(v1,v2){\r\n\t\tlet res = v1._index - v2._index;\r\n\t\tif (res) return res;\r\n\t\tif (v1._isModelView) return 1;\r\n\t\treturn -1;\r\n\t},\r\n});\r\n","export default CollectionView => CollectionView.extend({\r\n\t_renderChildren() {\r\n\t\t// If there are unrendered views prevent add to end perf\r\n\t\tif (this._hasUnrenderedViews) {\r\n\t\t\tdelete this._addedViews;\r\n\t\t\tdelete this._hasUnrenderedViews;\r\n\t\t}\r\n\r\n\t\tconst views = this._addedViews || this.children._views;\r\n\r\n\t\tthis.triggerMethod('before:render:children', this, views);\r\n\t\r\n\t\tthis._showEmptyView();\r\n\t\r\n\t\tconst els = this._getBuffer(views);\r\n\t\r\n\t\tthis._attachChildren(els, views);\r\n\t\r\n\t\tdelete this._addedViews;\r\n\t\r\n\t\tthis.triggerMethod('render:children', this, views);\r\n\t},\r\n\taddChildView(view, index, options = {}) {\r\n\t\tif (!view || view._isDestroyed) {\r\n\t\t\treturn view;\r\n\t\t}\r\n\r\n\t\tif (_.isObject(index)) {\r\n\t\t\toptions = index;\r\n\t\t}\r\n\r\n\t\t// If options has defined index we should use it\r\n\t\tif (options.index != null) {\r\n\t\t\tindex = options.index;\r\n\t\t}\r\n\r\n\t\tif (!this._isRendered && !options.preventRender) {\r\n\t\t\tthis.render();\r\n\t\t}\r\n\r\n\t\tthis._addChild(view, index);\r\n\r\n\t\tif (options.preventRender) {\r\n\t\t\tthis._hasUnrenderedViews = true;\r\n\t\t\treturn view;\r\n\t\t}\r\n\r\n\t\tconst hasIndex = (typeof index !== 'undefined');\r\n\t\tconst isAddedToEnd = !hasIndex || index >= this._children.length;\r\n\r\n\t\t// Only cache views if added to the end and there is no unrendered views\r\n\t\tif (isAddedToEnd && !this._hasUnrenderedViews) {\r\n\t\t\tthis._addedViews = [view];\r\n\t\t}\r\n\t\t\r\n\t\tif (hasIndex) {\r\n\t\t\tthis._renderChildren();\r\n\t\t} else {\r\n\t\t\tthis.sort();\r\n\t\t}\r\n\t\r\n\t\treturn view;\r\n\t},\r\n\t_showEmptyView() {\r\n\r\n\t\tthis._destroyEmptyView();\r\n\t\r\n\t\tif(!this.isEmpty()) { return; }\r\n\r\n\t\tconst EmptyView = this._getEmptyView();\t\r\n\t\tif (!EmptyView) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tconst options = this._getEmptyViewOptions();\r\n\t\tthis._emptyViewInstance = new EmptyView(options);\r\n\t\r\n\t\tthis.addChildView(this._emptyViewInstance, { preventRender: true, index: 0, });\r\n\t\r\n\t},\r\n\t_destroyEmptyView(){\r\n\t\tlet view = this._emptyViewInstance;\r\n\t\tif (!view) return;\r\n\t\r\n\t\tthis._removeChildView(view);\r\n\t\r\n\t\tthis._removeChild(view);\r\n\t\r\n\t\tview.destroy();\r\n\t\tdelete this._emptyViewInstance;\r\n\t},\r\n}, { CollectionViewMixin_4x: true});\r\n","import extend from '../../utils/extend/index.js';\r\nimport getByPath from '../../utils/get-by-path/index.js';\r\n\r\nconst Action = function(options = {}){\r\n\tlet { name, action } = options;\r\n\tthis.options = _.omit(options, 'name', 'callback');\r\n\tthis.name = name;\r\n\tthis._action = action;\r\n};\r\nAction.extend = extend;\r\n_.extend(Action.prototype, {\r\n\tgetOption(key){\r\n\t\treturn getByPath(this.options, key);\r\n\t},\r\n\tgetLabel(){ return this.name; },\r\n\tgetAction() {\r\n\t\treturn this._action;\r\n\t},\r\n\texec(instance, ...args){\r\n\t\tlet decline = this.isNotAllowed(instance, args);\r\n\t\tif (decline) {\r\n\t\t\treturn this.onExecuteNotAllowed(instance, decline, args);\r\n\t\t}\r\n\t\tlet action = this.getAction();\r\n\r\n\t\tif (_.isFunction(action)) {\r\n\t\t\treturn action.apply(instance, args);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn this.onActionMissing(instance);\r\n\t\t}\r\n\t},\r\n\tis (arg) { return this == arg || this.name == arg; },\r\n\tisVisible () { return this.hidden !== true; },\r\n\tisNotAllowed () { },\r\n\tonExecuteNotAllowed () { },\r\n\tonActionMissing () { },\r\n});\r\n\r\nexport default Action;\r\n","import BaseAction from './action.js';\r\n\r\nconst store = {\r\n\tAction: BaseAction,\r\n\tnames:{},\r\n\tgetStoreName(arg){\r\n\t\tif(_.isString(arg) && arg !== '') {\r\n\t\t\treturn arg;\r\n\t\t}\r\n\r\n\t\tif (_.isFunction(arg)) {\r\n\t\t\tlet store = this.getStoreByCtor(arg);\r\n\t\t\tif (store) {\r\n\t\t\t\treturn store.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _.uniqueId('actionStore');\t\t\r\n\t},\r\n\tgetStoreByCtor(ctor){\r\n\t\treturn _.find(this.names, f => f.ctor === ctor);\t\t\r\n\t},\r\n\tisNotInitialized(arg){\r\n\t\treturn !this.getStore(arg);\r\n\t},\r\n\tinitialize({ name, actions, Action, buildAction } = {}) {\r\n\t\tlet ActionClass = Action || this.Action;\r\n\t\tlet ctor = _.isFunction(name) && name || undefined;\r\n\t\tname = this.getStoreName(name);\r\n\r\n\t\tif(name in this.names) { return; }\r\n\r\n\t\tlet options = { name, ctor, Action: ActionClass };\r\n\t\tlet actionsByNames = {};\r\n\t\tlet builded = _.reduce(actions, (passed, action) => {\r\n\r\n\t\t\taction = this.buildAction(action, options);\r\n\t\t\tif(_.isFunction(buildAction)){\r\n\t\t\t\taction = buildAction(action, options);\r\n\t\t\t}\r\n\t\t\tif(!(action instanceof ActionClass)){\r\n\t\t\t\taction = new ActionClass(action);\r\n\t\t\t}\r\n\t\t\tif (!(action.name in actionsByNames)) {\r\n\t\t\t\tpassed.push(action);\r\n\t\t\t\tactionsByNames[action.name] = action;\r\n\t\t\t}\r\n\t\t\treturn passed;\r\n\t\t}, []);\r\n\r\n\t\tthis.names[name] = {\r\n\t\t\tname, ctor, actions: builded, actionsByNames\r\n\t\t};\r\n\t},\r\n\tgetStore(arg){\r\n\t\tif (_.isString(arg)) {\r\n\t\t\treturn this.names[name];\r\n\t\t} else if (_.isFunction(arg)) {\r\n\t\t\treturn this.getStoreByCtor(arg);\r\n\t\t}\r\n\t},\r\n\tgetActions(arg, options){\r\n\t\tlet cache = this.getStore(arg);\r\n\t\tif(!cache) return [];\r\n\t\treturn _.filter(cache.actions, (action, index) => this.filter(action, index, options));\r\n\t},\r\n\tgetAction(store, action){\r\n\t\tlet cache = this.getStore(store);\r\n\t\tif (!cache) return;\r\n\t\tlet name = _.isString(action) ? action : action.name;\r\n\t\treturn cache.actionsByNames[name];\r\n\t},\r\n\texec(store, action, instance, ...args) {\r\n\t\tlet found = this.getAction(store, action);\r\n\t\tif (!found) {\r\n\t\t\tthrow new Error('action not found:' + action);\r\n\t\t} else {\r\n\t\t\treturn found.exec(instance, ...args);\r\n\t\t}\r\n\t},\r\n\tfilter: () => true,\r\n\tbuildAction: raw => raw,\r\n};\r\n\r\n\r\nexport default store;\r\n","import betterResult from '../../utils/better-result/index.js';\r\nimport Action from './action.js';\r\nimport ActionStore from './store.js';\r\n\r\n\r\nfunction getFromPrototypes(instance, property, { exclude, process } = {}) {\r\n\tif(exclude && !_.isArray(exclude)) {\r\n\t\texclude = [exclude];\r\n\t}\r\n\tif(!_.isFunction(process)) {\r\n\t\tprocess = value => value;\r\n\t}\r\n\tlet prototype = instance.__proto__;\r\n\tlet result = [];\r\n\twhile(prototype){\r\n\t\tlet value = prototype[property];\r\n\t\tprototype = prototype.__proto__;\r\n\r\n\t\tif (value == null) { continue; }\r\n\r\n\t\tif(exclude && exclude.indexOf(value) > -1) { continue; }\r\n\t\t\r\n\t\tvalue = process(value);\r\n\t\tif(value != null) {\r\n\t\t\tresult.push(value);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n\r\n\r\nexport default Base => Base.extend({\r\n\t_actionableMixin: true,\r\n\r\n\t\r\n\tinheritActions: false,\r\n\tInstanceAction: Action,\r\n\r\n\tconstructor(){\r\n\t\tBase.apply(this, arguments);\r\n\t},\r\n\t_initializeActionableActions(){\r\n\t\tif (this._actionableActionsInitialized) return;\r\n\t\tif (ActionStore.isNotInitialized(this.actionsStoreName || this.constructor)) {\r\n\t\t\tlet instance = betterResult(this, 'actions', { args: [this], default: [] });\r\n\t\t\tlet inherited = [];\r\n\t\t\tif (this.inheritActions) {\r\n\t\t\t\tlet protoActions = getFromPrototypes(this, 'actions', {\r\n\t\t\t\t\texclude: this.actions,\r\n\t\t\t\t\tprocess: actions => betterResult({ actions }, 'actions', { args: [this], default: [] })\r\n\t\t\t\t});\r\n\t\t\t\tinherited.push(..._.flatten(protoActions));\r\n\t\t\t\tinherited = _.filter(inherited, f => f != null);\r\n\t\t\t}\r\n\t\t\tlet rawactions = [...inherited, ...instance];\r\n\t\t\tActionStore.initialize({\r\n\t\t\t\tname: this.actionsStoreName || this.constructor, \r\n\t\t\t\tactions: rawactions, \r\n\t\t\t\tAction: this.ActionClass,\r\n\t\t\t\tbuildAction: raw => this.buildStoreAction(raw),\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis._actionableActionsInitialized = true;\r\n\r\n\t},\r\n\r\n\tbuildStoreAction: action => action,\r\n\tgetActions(options = {}){\r\n\t\tthis._initializeActionableActions();\r\n\t\treturn ActionStore.getActions(this.actionsStoreName || this.constructor, options);\r\n\t},\r\n\texecuteAction(action){\r\n\t\tthis._initializeActionableActions();\r\n\t\treturn ActionStore.exec(this.actionsStoreName || this.constructor, action, this,  ...arguments);\r\n\t},\r\n}, { ActionableMixin: true });\r\n","import extend from '../../utils/extend/index.js';\r\n\r\nconst errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number', 'url'];\r\nfunction normalizeAppErrorOptions(data = {}){\r\n\tif(_.isString(data)){\r\n\t\tdata = { message: data };\r\n\t}\r\n\treturn data;\r\n}\r\nconst AppError = extend.call(Error, {\r\n\turlRoot: '',\r\n\turl: '',\r\n\tname: 'app:error',\r\n\tconstructor(options){\r\n\t\tif (!(this instanceof AppError)) {\r\n\t\t\treturn new AppError(_.extend({},options,{ newKeywordOmited: true }));\r\n\t\t}\r\n\t\toptions = normalizeAppErrorOptions(options);\r\n\t\tlet url = options.url;\r\n\t\tdelete options.url;\r\n\r\n\t\tconst error = Error.call(this, options.message);\r\n\t\tconst important = {\r\n\t\t\tname: options.name || this.name,\r\n\t\t\tmessage: options.message || this.message,\r\n\t\t};\r\n\t\tif(url || this.url){\r\n\t\t\timportant.url = (this.urlRoot || '') + (url || this.url || '');\r\n\t\t}\r\n\t\toptions.name = important.name;\r\n\t\t_.extend(this, important, _.pick(error, errorProps), options);\r\n\t\r\n\t\tif (Error.captureStackTrace) {\r\n\t\t\tthis.captureStackTrace();\r\n\t\t}\r\n\t\tif (options.url) \r\n\t\t\tthis.url = this.urlRoot + this.url;\r\n\t},\t\r\n\tcaptureStackTrace(){\r\n\t\tError.captureStackTrace(this, this.constructor);\r\n\t},\r\n\ttoString() {\r\n\t\tlet url = this.url ? ` See: ${ this.url }` : '';\r\n\t\treturn `${ this.name }: ${ this.message }${url}`;\r\n\t}\r\n});\r\n// AppError.setUrlRoot = function(url){\r\n// \tthis.prototype.urlRoot = url;\r\n// };\r\nAppError.extend = extend;\r\n\r\n\r\nexport default AppError;\r\n","import { Backbone, Model, ajax as _nativeAjax } from '../../vendors/backbone.js';\r\n//import Backbone from 'backbone';\r\n\r\n// import Model from '../../b b/model';\r\n\r\nlet nativeAjax = _nativeAjax;\r\n\r\nconst tokenizedAjax = function(...args){\r\n\tlet options;\r\n\r\n\tif(args && args.length == 1 && _.isObject(args[0])){\r\n\t\toptions = args[0];\r\n\t}\r\n\tif(args && args.length == 2 && !_.isObject(args[0]) && _.isObject(args[1])){\r\n\t\toptions = args[1];\r\n\t}\r\n\r\n\toptions && (options.headers = _.extend({}, options.headers, this.getAjaxHeaders()));\r\n\r\n\treturn nativeAjax.apply($, args);\r\n};\r\n\r\n\r\nconst Token = Model.extend({\r\n\r\n\ttokenAttribute: 'access_token',\r\n\trefreshTokenAttribute: 'refresh_token',\r\n\tendPoint: 'auth/token',\r\n\tsecondsOffset: 0,\r\n\r\n\tshouldRequestOnInitialize: true,\r\n\r\n\tconstructor(){\r\n\t\tthis.ajaxHeaders = {};\r\n\t\tthis.flows = {};\r\n\t\tthis.initializeFlows();\r\n\t\tthis.setExpiration(null);\r\n\r\n\t\tModel.apply(this, arguments);\r\n\r\n\t\tif (this.shouldRequestOnInitialize) {\r\n\t\t\tthis.getReady();\r\n\t\t}\r\n\t},\r\n\r\n\tgetReady(){\r\n\t\tif(this.ready) return this.ready;\r\n\t\t\r\n\t\tif (!this.hasToken()) {\r\n\t\t\tthis.ready = Promise.resolve();\r\n\t\t} else {\r\n\t\t\tthis.ready = this.refresh({force: true}).catch(() => {\r\n\t\t\t\tthis.update(null);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.ready;\r\n\t},\r\n\t\r\n\r\n\tinitializeFlows(){\r\n\r\n\t\tthis.setFlow('password', {\r\n\t\t\turl: this.endPoint,\r\n\t\t\tmethod: 'POST'\r\n\t\t});\r\n\t\tthis.setFlow('refresh', {\r\n\t\t\turl: this.endPoint,\r\n\t\t\tmethod: 'POST'\r\n\t\t});\r\n\r\n\t},\r\n\tgetFlow(key){\r\n\t\treturn _.clone(this.flows[key] || {});\r\n\t},\r\n\tsetFlow(key, value){\r\n\t\tthis.flows[key] = value;\r\n\t},\r\n\r\n\r\n\r\n\thasToken(){\r\n\t\treturn this.getToken() != null;\r\n\t},\r\n\tgetToken(){\r\n\t\treturn this.get(this.tokenAttribute);\r\n\t},\r\n\r\n\tgetRefreshToken(){\r\n\t\treturn this.get(this.refreshTokenAttribute);\r\n\t},\r\n\r\n\tgetAjaxHeaders(){\t\t\r\n\t\treturn this.ajaxHeaders;\r\n\t},\t\r\n\r\n\tparse(data){\r\n\t\treturn data;\r\n\t},\r\n\r\n\tfetch(options = {}){\r\n\t\tif(this._fetching) return this._fetching;\t\t\r\n\t\tthis._fetching = nativeAjax(options).then(\r\n\t\t\t(json) => {\r\n\r\n\t\t\t\tlet parsed = this.parse(_.clone(json));\r\n\t\t\t\tthis.update(parsed);\r\n\t\t\t\tdelete this._fetching;\r\n\t\t\t\treturn Promise.resolve(json);\r\n\t\t\t}, \r\n\t\t\t(xhr) => {\r\n\t\t\t\t\r\n\t\t\t\tdelete this._fetching;\r\n\t\t\t\t\r\n\t\t\t\toptions.clearOnFail !== false \r\n\t\t\t\t\t&& this.update(null);\r\n\r\n\t\t\t\tlet error = this.handleError(xhr);\r\n\t\t\t\tif(error){\r\n\r\n\t\t\t\t\treturn Promise.reject(error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(xhr);\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\treturn this._fetching;\r\n\t},\r\n\thandleError(){},\r\n\tupdate(hash, opts = {}){\r\n\t\tlet { silent } = opts;\r\n\t\tif (hash == null) {\r\n\r\n\t\t\tthis.clear(opts);\r\n\r\n\t\t} else {\r\n\t\t\tlet fullhash = _.extend({}, this.attributes, hash);\r\n\t\t\tlet unset = [];\r\n\t\t\tlet shouldUnset = !!opts.unset;\r\n\t\t\tlet setHash = _(fullhash).reduce((memo, value, key) => {\r\n\t\t\t\tif (key in hash) {\r\n\t\t\t\t\tmemo[key] = value;\r\n\t\t\t\t} else if (shouldUnset) {\r\n\t\t\t\t\tunset.push(key);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmemo[key] = undefined;\r\n\t\t\t\t}\r\n\t\t\t\treturn memo;\r\n\t\t\t}, {});\r\n\r\n\t\t\tsetHash = this.parse(setHash);\r\n\t\t\tthis.set(setHash, { silent });\r\n\t\t\t_(unset).each(key => this.unset(key, { silent }));\r\n\t\t}\r\n\r\n\t\tthis.reflectTokenChanges();\r\n\r\n\t},\r\n\r\n\treplaceBackboneAjax(){\t\t\r\n\t\tif(!this.hasToken())\r\n\t\t\tBackbone.ajax = nativeAjax;\r\n\t\telse\r\n\t\t\tBackbone.ajax = (...args) => this.ajax(...args);\r\n\t},\r\n\tupdateAjaxHeaders(token){\r\n\t\ttoken || (token = this.getToken());\r\n\t\tlet headers = this.getAjaxHeaders();\r\n\t\tif (token) {\r\n\t\t\theaders.Authorization = 'Bearer ' + token;\r\n\t\t\theaders.Accept = 'application/json';\r\n\t\t} else {\r\n\t\t\tdelete headers.Authorization;\r\n\t\t}\r\n\t},\r\n\r\n\t//implement by your own\r\n\tstoreToken(){},\r\n\r\n\treflectTokenChanges(opts = {}){\r\n\t\tlet { silent, store = true } = opts;\r\n\t\tthis.updateAjaxHeaders();\r\n\t\tthis.replaceBackboneAjax();\r\n\t\tif (store)\r\n\t\t\tthis.storeToken();\r\n\t\tif (!silent)\r\n\t\t\tthis.trigger('changed');\r\n\t},\r\n\r\n\tajax(...args){\r\n\t\treturn this.refresh().then(\r\n\t\t\t() => tokenizedAjax.apply(this, args),\r\n\t\t\terror => Promise.reject(error)\r\n\t\t);\r\n\t},\t\r\n\trefresh(opts = {}){\t\t\r\n\r\n\t\t// if token is fresh enough and there is no force refresh\r\n\t\t// pass\r\n\t\tif (!this.isExpired() && !opts.force) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t\tlet options = this.getFlow('refresh');\r\n\t\toptions.data = this.getRefreshTokenData();\r\n\t\treturn this.fetch(options);\r\n\t},\r\n\tgetRefreshTokenData(){\r\n\t\treturn {\r\n\t\t\t'grant_type':'refresh_token',\r\n\t\t\t'refresh_token': this.getRefreshToken(),\r\n\t\t};\r\n\t},\r\n\r\n\tsetExpiration(arg){\r\n\r\n\t\tif (arg === null) {\r\n\t\t\tthis.expiresAt = null;\r\n\t\t}\r\n\r\n\t\tlet date;\r\n\t\tlet now = new Date();\r\n\r\n\t\tif (_.isDate(arg)) {\r\n\t\t\tdate = arg;\r\n\t\t} else if(_.isObject(arg)) {\r\n\t\t\tdate = new Date();\r\n\t\t\t\r\n\t\t\tlet { seconds, minutes, hours, days } = arg;\r\n\t\t\tdate.setDate(date.getDate() + (days || 0));\r\n\t\t\tdate.setHours(date.getHours() + (hours || 0));\r\n\t\t\tdate.setMinutes(date.getMinutes() + (minutes || 0));\r\n\t\t\tdate.setSeconds(date.getSeconds() + (seconds || 0));\r\n\t\t}\r\n\r\n\t\tif(!_.isDate(date) || isNaN(date.valueOf()) || date < now) {\r\n\t\t\tdate = new Date();\r\n\t\t\tdate.setSeconds(now.getSeconds() + 90);\r\n\t\t}\r\n\r\n\t\tthis.expiresAt = date;\r\n\t},\r\n\tgetExpiration(){\r\n\t\treturn this.expiresAt;\r\n\t},\r\n\tisExpired(){\r\n\t\tlet date = this.getExpiration();\r\n\t\tif(!_.isDate(date) || isNaN(date.valueOf()))\r\n\t\t\treturn true;\r\n\t\treturn date.valueOf() < Date.now() + (this.secondsOffset * 1000);\r\n\t},\r\n\tlogin(username, password){\r\n\r\n\t\tlet options = this.getFlow('password');\r\n\t\toptions.data = { grant_type:'password', username, password };\r\n\t\toptions.clearOnFail = false;\r\n\t\treturn this.fetch(options);\r\n\r\n\t},\r\n\r\n});\r\n\r\nToken.setNativeAjax = function(arg){\r\n\tlet old = nativeAjax;\r\n\tnativeAjax = arg;\r\n\treturn old;\r\n};\r\n\r\nexport default Token;\r\n","import { Region } from '../../vendors/marionette.js';\r\n\r\nexport const config = {\r\n\tdestroySelfOnEmpty: false,\r\n\tdestroyOnEmpty: false,\r\n};\r\n\r\nconst BaseNodeRegion = Region.extend({\r\n\tonEmpty() {\r\n\t\tlet destroySelf = this.getOption('destroySelfOnEmpty') || this.getOption('destroyOnEmpty');\r\n\t\tlet destroyNode = this.getOption('destroyOnEmpty');\r\n\t\tdestroySelf && this.destroy();\r\n\t\tdestroyNode && this.el.remove();\r\n\t}\r\n});\r\n\r\nconfig.Region = BaseNodeRegion;\r\n\r\nfunction normalizeElement(selector) {\r\n\tlet body = document.querySelector('body');\r\n\tlet el;\r\n\tif (selector == null) {\r\n\t\tel = body;\r\n\t} else if( selector instanceof Element) {\r\n\t\tel = selector;\r\n\t}\r\n\telse if(selector && selector.jquery){\r\n\t\tel = selector.get(0);\r\n\t} else if (_.isString(selector)) {\r\n\t\tel = document.querySelector(selector);\r\n\t}\r\n\tif (el instanceof Element) {\r\n\t\treturn el;\r\n\t} else {\r\n\t\tthrow new Error('el must be in Dom');\t\t\r\n\t}\r\n}\r\n\r\nexport default function renderInNode(view, { el, replaceElement = false, destroySelfOnEmpty = config.destroySelfOnEmpty, destroyOnEmpty = config.destroyOnEmpty  } = {}) {\r\n\tconst NodeRegion = config.Region;\r\n\tel = normalizeElement(el);\r\n\tconst body = document.querySelector('body');\r\n\tif (el === body) {\r\n\t\tel = document.createElement('div');\r\n\t\tbody.appendChild(el);\r\n\t\treplaceElement = true;\r\n\t}\r\n\tconst region = new NodeRegion({ el, replaceElement, destroySelfOnEmpty, destroyOnEmpty });\r\n\tregion.show(view);\r\n\treturn region;\r\n}\r\n","import { Events } from '../../vendors/backbone.js';\r\nimport triggerMethod from '../../utils/trigger-method/index.js';\r\nimport { instanceGetOption as getOption} from '../../utils/get-option/index.js';\r\n\r\nconst ViewStack = function(options = {}){\r\n\tthis.cid = _.uniqueId('stack');\r\n\tthis.unremovableKey = `_${this.cid}_preventRemove`;\r\n\tthis.destroyOnRemove = true;\r\n\tthis.removeOnEsc = true,\r\n\tthis.removeOnOutsideClick = true,\r\n\tthis.options = options;\r\n\tthis.stack = [];\r\n};\r\n_.extend(ViewStack.prototype, Events, {\r\n\r\n\r\n\tadd(view, options){\r\n\t\tif(!_.isObject(view)) { return; }\r\n\t\tif (this.getOption('clearBeforeAdd')) {\r\n\t\t\tthis.removeAll();\r\n\t\t}\r\n\t\tthis.triggerMethod('before:add');\r\n\r\n\t\tthis.stack.push(view);\r\n\t\tthis._setupView(view, options);\r\n\r\n\t\tthis._stackChanged(1, view);\r\n\r\n\t},\r\n\t_setupView(view, { preventRemove } = {}){\r\n\t\tif (preventRemove) {\r\n\t\t\tlet key = this.getUnremovableKey();\r\n\t\t\tview[key] = true;\r\n\t\t}\r\n\t\tthis.listenToOnce(view, 'destroy', () => this._removeView(view, { selfDestroy: true }));\t\t\r\n\t},\r\n\tremove(view, { destroy } = {}){\r\n\t\tlet destroyOnRemove = this.getOption('destroyOnRemove');\r\n\t\tlet removed = this._removeView(view);\r\n\t\tif (removed && (destroy || destroyOnRemove)) {\r\n\t\t\tthis._destroyView(view);\r\n\t\t}\r\n\t},\r\n\tgetLast(){\r\n\t\treturn _.last(this.stack);\r\n\t},\r\n\tremoveLast(){\r\n\t\tlet view = this.getLast();\r\n\t\tthis.remove(view);\r\n\t},\r\n\tdestroyLast(){\r\n\t\tlet view = this.getLast();\r\n\t\tthis.remove(view, { destroy: true });\r\n\t},\r\n\r\n\r\n\t_removeView(view, { selfDestroy } = {}){\r\n\t\tif (!_.isObject(view)) { return; }\r\n\r\n\t\tif (this.isViewUnremovable(view, selfDestroy)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._cleanUpView(view);\r\n\r\n\t\tlet index = this.stack.indexOf(view);\r\n\t\tif (index === -1) return;\r\n\r\n\t\tif (index == this.stack.length - 1)\r\n\t\t\tthis.stack.pop();\r\n\t\telse\r\n\t\t\tthis.stack.splice(index, 1);\r\n\t\t\t\r\n\t\tthis._stackChanged(-1);\r\n\r\n\t\treturn view;\r\n\t},\r\n\t_cleanUpView(view){\r\n\t\tthis.stopListening(view);\r\n\t\tdelete view[this.getUnremovableKey()];\r\n\t},\r\n\t_destroyView(view) {\r\n\t\tif (_.isObject(view) && _.isFunction(view.destroy)) { \r\n\t\t\tview.destroy();\r\n\t\t}\r\n\t},\t\r\n\t_stackChanged(change, view){\r\n\t\tif (change > 0) {\r\n\t\t\tthis._setDocumentListeners();\t\t\t\r\n\t\t\tthis.triggerMethod('add', view);\r\n\t\t} else {\r\n\t\t\tthis._unsetDocumentListeners();\t\t\t\r\n\t\t\tthis.triggerMethod('remove', view);\r\n\t\t}\r\n\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\tUnremovable view methods\r\n\t\tsometimes you want to prevent view to be removed from the stack\t\t\r\n\t*/\r\n\tgetUnremovableKey(){\r\n\t\treturn this.getOption('unremovableKey');\r\n\t},\r\n\t// options is for internal use only.\r\n\t// self destroy flag filled when a view destroyed outside the stack\r\n\tisViewUnremovable(view, { selfDestroy }={}){\r\n\t\tif (selfDestroy) return false;\r\n\t\tlet key = this.getUnremovableKey();\r\n\t\treturn view[key];\r\n\t},\t\r\n\r\n\r\n\t/*\r\n\t\tDOM listeners logic\r\n\t\t- esc handler\r\n\t\t- outside click handler\r\n\t*/\r\n\tgetViewDomElement(view){\r\n\t\treturn view && view.el;\r\n\t},\r\n\tisElementOutsideOfView(eventElement, view){\r\n\t\tlet viewElement = this.getViewDomElement(view);\r\n\t\tif (!viewElement) return;\r\n\t\treturn !$.contains(viewElement, eventElement);\r\n\t},\r\n\tgetViewIfElementOutside(eventElement){\r\n\t\tlet view = this.getLast();\r\n\t\tif (!view) return;\r\n\t\tif(this.isElementOutsideOfView(eventElement, view)) {\r\n\t\t\treturn view;\r\n\t\t}\r\n\t},\r\n\toutsideClickHandler(event){\r\n\t\tif (!this.stack.length) { return; }\r\n\r\n\t\tlet view = this.getViewIfElementOutside(event.target);\r\n\t\tif (!view) { return; }\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tthis.remove(view);\r\n\r\n\t},\r\n\tescapePressHandler(event){\r\n\t\tif (!this.stack.length || event.keyCode !== 27 ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tthis.removeLast();\r\n\r\n\t},\r\n\r\n\t_setDocumentListeners(){\r\n\t\tif (this._documentListeners || !this.stack.length) return;\r\n\t\tlet $doc = this.getDocument();\r\n\t\tif (this._shouldRemoveOnEsc()) {\t\t\t\r\n\t\t\tthis._escapePressHandler = _.bind(this.escapePressHandler, this);\r\n\t\t\t$doc.on('keyup', this._escapePressHandler);\r\n\t\t\tthis.triggerMethod('dom:listeners:escape:on');\r\n\t\t}\r\n\t\tif (this._shouldRemoveOnOutsideClick()) {\r\n\t\t\tthis._outsideClickHandler = _.bind(this.outsideClickHandler, this);\r\n\t\t\t$doc.on('click', this._outsideClickHandler);\r\n\t\t\tthis.triggerMethod('dom:listeners:click:on');\r\n\t\t}\r\n\t\tthis.triggerMethod('dom:listeners:on');\r\n\t\tthis._documentListeners = true;\r\n\t},\r\n\t_unsetDocumentListeners(){\r\n\t\tif (!(this._documentListeners && !this.stack.length)) return;\r\n\t\tlet $doc = this.getDocument();\r\n\t\tif (this._escapePressHandler) {\r\n\t\t\t$doc.off('keyup', this._escapePressHandler);\r\n\t\t\tdelete this._escapePressHandler;\r\n\t\t\tthis.triggerMethod('dom:listeners:escape:off');\r\n\t\t}\r\n\t\tif(this._outsideClickHandler) {\r\n\t\t\t$doc.off('click', this._outsideClickHandler);\r\n\t\t\tdelete this._outsideClickHandler;\r\n\t\t\tthis.triggerMethod('dom:listeners:click:off');\r\n\t\t}\r\n\t\tthis.triggerMethod('dom:listeners:off');\r\n\t\tthis._documentListeners = false;\r\n\t},\r\n\t_shouldRemoveOnEsc(){\r\n\t\treturn this.getOption('removeOnEsc') === true;\r\n\t},\r\n\t_shouldRemoveOnOutsideClick(){\r\n\t\treturn this.getOption('removeOnOutsideClick') === true;\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\thelper methods\r\n\t*/\r\n\tgetOption,\r\n\ttriggerMethod,\r\n\r\n\tgetDocument(){\r\n\t\treturn this.$doc || $(document);\r\n\t},\r\n\tisDestroyed(){\r\n\t\treturn this._isDestroyed || this._isDestroying;\r\n\t},\r\n\tremoveAll(){\r\n\t\twhile(this.stack.length){\r\n\t\t\tthis.destroyLast();\r\n\t\t}\r\n\t},\r\n\tdestroy(){\r\n\t\tif(this._isDestroyed || this._isDestroying) { return; }\t\t\r\n\t\tthis._isDestroying = true;\r\n\r\n\t\tthis.triggerMethod('before:destroy');\r\n\r\n\t\tthis.removeAll();\r\n\r\n\t\tlet $doc = this.getDocument();\r\n\t\t$doc.off('keyup', this._onKeyUp);\r\n\t\t$doc.off('click', this._outsideClick);\r\n\r\n\t\tthis._isDestroyed = true;\r\n\t\tthis.triggerMethod('destroy');\r\n\t},\r\n});\r\nexport default ViewStack;\r\n","import { isView, isViewClass } from '../../vendors/helpers.js';\r\nimport mix from '../../utils/mix/index.js';\r\n\r\n\r\nimport { customs, nextCollectionView } from '../../mixins/collection-view/index.js';\r\nimport { destroy } from '../../mixins/view/index.js';\r\nimport TextView from '../text-view/index.js';\r\n\r\nexport default CollectionView => {\r\n\tlet Mixed = CollectionView;\r\n\tlet mixWith = [];\r\n\r\n\tif (!Mixed.DestroyMixin) {\r\n\t\tmixWith.push(destroy);\r\n\t}\r\n\tif (!Mixed.CollectionViewMixin_4x) {\r\n\t\tmixWith.push(nextCollectionView);\r\n\t}\r\n\r\n\tif (!Mixed.CustomsMixin) {\r\n\t\tmixWith.push(customs);\r\n\t}\r\n\r\n\tif (mixWith.length) {\r\n\t\tMixed = mix(Mixed).with(...mixWith);\r\n\t}\r\n\r\n\treturn Mixed.extend({\r\n\t\tviewComparator:false,\r\n\t\twrapContent: true,\r\n\t\tchildViewContainer: '[data-modal-content]',\r\n\t\trenderAllCustoms: true,\r\n\t\ttemplateContext(){\r\n\t\t\treturn {\r\n\t\t\t\tshouldWrapContent: this.getOption('wrapContent') === true,\r\n\t\t\t};\r\n\t\t},\r\n\t\tevents:{\r\n\t\t\t'click'(event){\r\n\t\t\t\tif(this.getOption('preventRemove')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet $el = $(event.target);\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tif ($el.closest('[data-modal-content]').length) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcustoms:[\r\n\t\t\t(v) => v.createCloseButton(),\r\n\t\t\t(v) => v.takeOptionsView('header'),\r\n\t\t\t(v) => v.takeOptionsView('content'),\r\n\t\t\t(v) => v.takeOptionsView('footer'),\r\n\t\t],\r\n\t\tcreateCloseButton(){\r\n\t\t\tif (!this.getOption('closeButton') || this.getOption('preventRemove')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet Button = this.getOption('closeButtonView');\r\n\t\t\tif (!isViewClass(Button)) {\r\n\t\t\t\tthrow new Error('CloseButtonView not defined in modals config');\r\n\t\t\t}\r\n\t\t\tlet view = new Button({ attributes: { 'data-modal-close':'' } });\r\n\t\t\tthis.listenTo(view, 'click', this.destroy);\r\n\t\t\treturn view;\r\n\t\t},\r\n\t\ttakeOptionsView(key){\r\n\t\t\tlet view = this.getOption(key);\r\n\t\t\tlet _view;\r\n\t\t\tif(!view) {\t\t\t\r\n\t\t\t\treturn view;\r\n\t\t\t} else if(isView(view)) {\r\n\t\t\t\t_view = view;\r\n\t\t\t}\r\n\t\t\telse if(_.isString(view)){\t\t\t\r\n\t\t\t\tlet tagName = ['header','footer'].indexOf(key) > -1 ? key : 'div';\r\n\t\t\t\tlet View = this.getOption('textView') || TextView;\r\n\t\t\t\t_view = new View({ text: view, tagName });\r\n\t\t\t} else if(isViewClass(view)) {\r\n\t\t\t\tlet options = this.getOption(key+'Options');\r\n\t\t\t\t_view = new view(options);\r\n\t\t\t}\r\n\t\t\tif(_view){\r\n\t\t\t\t!this.modalChildren && (this.modalChildren = {});\r\n\t\t\t\tthis.modalChildren[key] = _view;\r\n\t\t\t\tif (key === 'content') {\r\n\t\t\t\t\tthis._initContentListeners(_view);\r\n\t\t\t\t}\r\n\t\t\t\treturn _view;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initContentListeners(content){\r\n\t\t\tthis.listenTo(content, {\r\n\t\t\t\t'destroy': () => this.destroy(),\r\n\t\t\t\t'done': () => this.destroy(),\r\n\t\t\t});\r\n\t\t},\r\n\t\tattributes:{\r\n\t\t\t'data-modal': ''\r\n\t\t},\r\n\t});\r\n};\r\n","import { isViewClass } from '../../vendors/helpers.js';\r\nimport renderInNode from '../../components/render-in-node/index.js';\r\nimport { View as MnView } from '../../vendors/marionette.js';\r\nimport ViewStack from '../../components/view-stack/index.js';\r\nimport ViewMixin from './view-mixin.js';\r\n\r\nexport default {\r\n\t\r\n\ttemplate: _.template(`\r\n<div data-modal-bg></div>\r\n<% if(shouldWrapContent) {%><div data-modal-content-wrapper><%} %>\r\n<section data-modal-content></section>\r\n<% if(shouldWrapContent) {%></div><%} %>\r\n`),\r\n\r\n\tBaseView: undefined,\r\n\tTextView: undefined,\r\n\tModalView: undefined,\r\n\tCloseButtonView: undefined,\r\n\r\n\tbuildView(options, View){\r\n\t\tif(!isViewClass(View)) {\r\n\t\t\tif (!this.ModalView) {\r\n\t\t\t\tif (!this.BaseView) {\r\n\t\t\t\t\tthrow new Error('modals config has no View defined. please set View or BaseView');\r\n\t\t\t\t}\r\n\t\t\t\tthis.ModalView = ViewMixin(this.BaseView);\r\n\t\t\t}\r\n\t\t\tView = this.ModalView;\r\n\t\t}\r\n\t\toptions = _.extend({ \r\n\t\t\ttextView: this.TextView || MnView, \r\n\t\t\tcloseButtonView: this.CloseButtonView || MnView,\r\n\t\t\ttemplate: this.template,\r\n\t\t}, options);\r\n\t\treturn new View(options);\r\n\t},\r\n\trender(view, stack, options = {}){\r\n\t\tlet el = _.result(this, 'container');\r\n\t\tif(el && el.jquery){\r\n\t\t\tel = el.get(0);\r\n\t\t}\r\n\t\toptions = _.extend({ \r\n\t\t\tel, replaceElement: true, destroyOnEmpty: true,\t\t\t\r\n\t\t}, options);\r\n\r\n\t\trenderInNode(view, options);\r\n\r\n\t\tif (stack) {\r\n\t\t\tlet { preventRemove } = options;\r\n\t\t\tstack.add(view, { preventRemove });\r\n\t\t}\r\n\t},\r\n\tcontainer: () => document.querySelector('body'),\r\n\tstackOptions: {\r\n\t\tremoveOnEsc: true,\r\n\t\tremoveOnOutsideClick: true,\r\n\t},\r\n\tgetStack(options){\r\n\t\tif (!this.stack) {\r\n\t\t\tlet stackOptions = this.stackOptions || options;\r\n\t\t\tthis.stack = new ViewStack(stackOptions);\r\n\t\t}\r\n\t\treturn this.stack;\r\n\t}\r\n};\r\n\r\n","import config from './config.js';\r\n\r\nfunction show(opts = {}, showOptions = {}){\r\n\r\n\tlet { preventRemove, promise } = opts;\r\n\r\n\tlet modal = config.buildView(opts);\r\n\tshowOptions.preventRemove = preventRemove;\r\n\tconfig.render(modal, config.getStack(), showOptions);\r\n\r\n\tif (promise) {\r\n\t\treturn modal.promise;\r\n\t} else {\r\n\t\treturn modal;\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport default {\r\n\tconfig,\r\n\tshow\r\n};\r\n","import ModelSchema from './model-schema.js';\r\n\r\nconst store = {\r\n\tschemas: {},\r\n\tgetStoreName(arg){\r\n\t\tif(_.isString(arg) && arg !== '') {\r\n\t\t\treturn arg;\r\n\t\t}\r\n\r\n\t\tif (_.isFunction(arg)) {\r\n\t\t\tlet store = this.getStoreByCtor(arg);\r\n\t\t\tif (store) {\r\n\t\t\t\treturn store.name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _.uniqueId('modelSchema');\t\t\r\n\t},\r\n\tgetStoreByCtor(ctor){\r\n\t\treturn _.find(this.schemas, f => f.ctor === ctor);\t\t\r\n\t},\r\n\tisNotInitialized(arg){\r\n\t\treturn !this.getStore(arg);\r\n\t},\r\n\tinitialize(name, schema = {}) {\r\n\t\tif (!this.isNotInitialized(name)) {\r\n\t\t\tthrow new Error('Schema already initialized');\r\n\t\t}\r\n\t\tlet ctor = _.isFunction(name) && name || undefined;\r\n\t\tname = this.getStoreName(name);\r\n\r\n\t\tif(name in this.schemas) { return; }\r\n\r\n\t\tif(!(schema instanceof ModelSchema) && _.isObject(schema)){\r\n\t\t\tschema = new ModelSchema(schema);\r\n\t\t} else {\r\n\t\t\tschema = new ModelSchema({});\r\n\t\t}\r\n\t\tthis.schemas[name] = {\r\n\t\t\tname, ctor, schema\r\n\t\t};\r\n\t\treturn schema;\r\n\t},\r\n\tgetStore(arg){\r\n\t\tif (_.isString(arg)) {\r\n\t\t\treturn this.schemas[arg];\r\n\t\t} else if (_.isFunction(arg)) {\r\n\t\t\treturn this.getStoreByCtor(arg);\r\n\t\t}\r\n\t},\r\n\tget(arg) {\r\n\t\tlet cache = this.getStore(arg);\r\n\t\treturn cache && cache.schema || undefined;\r\n\t}\r\n};\r\n\r\n\r\nexport default store;\r\n","import result from '../../../utils/better-result/index.js';\r\n\r\nfunction get(router, opts = {}, key, update){\r\n\t\r\n\tlet value = result(opts, key, { context: router, args:[ router ] });\r\n\tif(value == null) {\r\n\t\tvalue = router.getOption(key, {args: [ router ]});\r\n\t\tif(update)\r\n\t\t\topts[key] = value;\r\n\t}\r\n\treturn value;\t\t\r\n}\r\n\r\n// converts route method arguments to plain object;\r\n// _normalizeRegisterRouteArguments\r\n// { route, rawRoute, callback, name }\r\nexport default function routeArgumentsToObject(router, route, name, callback, opts = {}){\r\n\r\n\tlet context = {};\r\n\r\n\tif(_.isObject(route)){\r\n\t\tcontext = route;\r\n\t\t//_.extend(context, route);\r\n\t\t//then second argument is probably options;\r\n\t\t_.extend(opts, name);\r\n\r\n\t} else if (_.isFunction(name)) {\r\n\t\t_.extend(context, { route, callback: name, name: _.uniqueId('routerAction') });\r\n\t} else {\r\n\t\t_.extend(context, { route, name, callback });\r\n\t}\r\n\r\n\tlet isRouterHoldsActions = get(router, opts, 'isRouterHoldsActions', true);\r\n\t//let isRouteChaining = get(router, opts, 'isRouteChaining', true);\r\n\r\n\t// !_(opts).has('isRouterHoldsActions') && (opts.isRouterHoldsActions = this.getOption('isRouterHoldsActions'));\r\n\t// !_(opts).has('isRouteChaining') && (opts.isRouteChaining = this.getOption('isRouteChaining'));\r\n\r\n\r\n\t// last chance to get callback from router instance by name\r\n\t// this behavior can be disabled through `isRouterHoldsActions` options\r\n\tif(!_.isFunction(context.callback) && isRouterHoldsActions && _.isFunction(router[context.name])) {\r\n\r\n\t\tcontext.callback = router[context.name];\r\n\r\n\t}\r\n\r\n\t//store original route\r\n\tcontext.rawRoute = context.route;\r\n\r\n\t!context.name && (context.name = _.uniqueId('routerAction'));\r\n\r\n\t//converts route to RegExp pattern\r\n\tif (!_.isRegExp(context.route)) context.route = router._routeToRegExp(context.route);\r\n\r\n\t// by default backbone router wraps every callback with own wrapper\r\n\t// which in turn call actual callback with correct arguments on route\r\n\t// this callback was inlined and can not be overrided, so now its possible\t\r\n\tcontext.callbackWrapper = _.bind(router._processCallback, router, context);\r\n\r\n\treturn context;\r\n}\r\n\r\n\r\n\r\n","export function createActionContext(router, routeContext, fragment, options = {}) {\r\n\r\n\tlet rawArgs = router._extractParameters(routeContext.route, fragment);\r\n\r\n\tlet result = _.extend({}, routeContext, { fragment, rawArgs }, options, { options });\r\n\r\n\tlet args = rawArgs.slice(0);\r\n\tlet queryString = args.pop();\r\n\r\n\t_.extend(result, { qs: prepareActionQueryString(router, queryString) });\r\n\t_.extend(result, { args: prepareActionArguments(routeContext.rawRoute, args) });\r\n\r\n\tif (result.routeType == null) {\r\n\t\tresult.routeType = 'route';\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction prepareActionQueryString(router, queryString){\r\n\tif(_.isString(queryString))\r\n\t\treturn router.queryStringParser(queryString);\r\n\telse\r\n\t\treturn {};\r\n}\r\n\r\nfunction prepareActionArguments(rawRoute, args){\r\n\r\n\tlet params = rawRoute.match(/:([^/|)]+)/g) || [];\r\n\t\r\n\tlet res = {};\r\n\t_(params).each((name, index) => {\r\n\t\tname = name.substring(1);\r\n\t\t\r\n\t\tif(args == null) return;\r\n\r\n\t\tif(name in res && _.isArray(res[name]))\r\n\t\t\tres[name].push(args[index]);\r\n\t\telse if(name in res && !_.isArray(res[name]))\r\n\t\t\tres[name] = [res[name]].concat(args[index]);\r\n\t\telse\r\n\t\t\tres[name] = args[index];\r\n\t});\r\n\treturn res;\r\n}\r\n","\r\nfunction toPromise(arg, resolve = true){\r\n\tif (arg instanceof Promise || (arg && _.isFunction(arg.then)))\r\n\t\treturn arg;\r\n\telse if (arg instanceof Error)\r\n\t\treturn Promise.reject(arg);\r\n\telse\r\n\t\treturn resolve \r\n\t\t\t? Promise.resolve(arg) \r\n\t\t\t: Promise.reject(arg);\r\n}\r\nfunction getCallbackFunction(callback, executeResult)\r\n{\r\n\treturn (...args) => {\r\n\t\ttry {\r\n\t\t\texecuteResult.value = callback && callback(...args);\r\n\t\t} catch(exception) {\r\n\t\t\texecuteResult.value = exception;\r\n\t\t}\r\n\t\texecuteResult.promise = toPromise(executeResult.value);\r\n\t\treturn executeResult.value;\r\n\t};\r\n}\r\n\r\n\r\nexport function processCallback(router, actionContext, routeType){\t\r\n\t\r\n\tlet args = router.getOption('classicMode') \r\n\t\t? actionContext.rawArgs || [] \r\n\t\t: [ actionContext ];\r\n\r\n\tlet asPromise = router.getOption('callbackAsPromises');\r\n\tlet executeResult = {};\r\n\tlet callback = getCallbackFunction(actionContext.callback, executeResult, asPromise);\r\n\r\n\t//console.log('routeType:',routeType);\r\n\r\n\trouter.triggerEvent('before:' + routeType, actionContext);\r\n\r\n\tlet shouldTriggerEvent = router.execute(callback, args);\r\n\tif (shouldTriggerEvent !== false) {\r\n\t\trouter.triggerEvent(routeType, actionContext);\r\n\t\tif(routeType == 'route' || routeType == 'backroute')\r\n\t\t\trouter.lastAttempt = actionContext;\r\n\t}\r\n\r\n\texecuteResult.promise.then(\r\n\t\t(arg) => {\r\n\t\t\trouter.triggerEvent('after:'+routeType, actionContext);\r\n\t\t\treturn arg;\r\n\t\t},\r\n\t\t(error) => {\r\n\t\t\trouter.triggerEvent('error:' + routeType, error, actionContext);\r\n\t\t\trouter.handleError(error, actionContext);\r\n\t\t}\r\n\t);\r\n\r\n\treturn executeResult.value;\r\n}\r\n\r\n\r\n\r\n","\r\nexport default {\r\n\thandlers: {\r\n\t\t'js:error'(error){\r\n\t\t\tthrow error;\r\n\t\t},\r\n\t},\r\n\thandle(error, context, args){\r\n\r\n\t\tlet handlers = this._getHandleContext(error, context, args) || {};\r\n\t\treturn _(handlers).some((options, key) => this.applyHandler(key, options));\r\n\r\n\t},\r\n\tapplyHandler(key, options = {}){\r\n\r\n\t\tlet handler = this.getHandler(key, options);\r\n\t\tif (!handler) return;\r\n\t\tlet { context, args } = options;\r\n\t\treturn handler.apply(context, args);\r\n\r\n\t},\r\n\tgetHandler(key){\r\n\t\tif(_.isFunction(this.handlers[key]))\r\n\t\t\treturn this.handlers[key];\r\n\t},\r\n\tsetHandler(key, handler){\r\n\t\tif(!_.isString(key) || key === '')\r\n\t\t\tthrow new Error('setHandler first argument must be a non empty string');\r\n\r\n\t\tif (!_.isFunction(handler)) {\r\n\t\t\tdelete this.handlers[key];\r\n\t\t} else {\r\n\t\t\tthis.handlers[key] = handler;\r\n\t\t}\r\n\t},\r\n\tsetHandlers(hash){\r\n\t\tlet nullable = hash === null;\r\n\t\tlet items = nullable && this.handlers || hash;\r\n\t\tif(!_.isObject(items)) return;\r\n\t\t_(items).each((handler, key) => this.setHandler(key, nullable || handler));\r\n\t},\r\n\r\n\t// should return hash: { 'handler_key': { context: handler_context, args: handler_arguments}}\r\n\t_getHandleContext(error, context, args = []){\r\n\r\n\t\tif (_.isArray(error)) {\r\n\t\t\treturn _(error).reduce((memo, item) => _.extend(memo, this._getHandleContext(item, context, args)), {});\r\n\t\t}\r\n\r\n\t\tif(_.isFunction(this.getHandleContext)) {\r\n\t\t\tlet custom = this.getHandleContext(error, context, args);\r\n\t\t\tif(custom != null) return custom;\r\n\t\t}\r\n\r\n\t\tif (error instanceof Error) {\r\n\t\t\targs.unshift(error);\r\n\t\t\treturn { 'js:error': { context, args } };\r\n\t\t}\r\n\t\telse if(_.isString(error)) {\r\n\t\t\treturn { [error]: { context, args } };\r\n\t\t}\r\n\t\telse if(error instanceof $.Deferred().constructor){\r\n\t\t\targs.unshift(error);\r\n\t\t\treturn { 'jq:xhr': { context, args }};\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// provide your own arguments processor\r\n\t// should return hash: { 'handler_key': { context: handler_context, args: handler_arguments}}\r\n\tgetHandleContext: undefined,\r\n\r\n};\r\n","import mix from '../../../utils/mix/index.js';\r\nimport GetOptionMixin from '../../../mixins/common/get-option/index.js';\r\nimport paramStringToObject from '../../../utils/params-to-object/index.js';\r\nimport { Backbone, Router as BbRouter } from '../../../vendors/backbone.js';\r\n\r\nimport buildRouteContextFromArguments from './build-route-context.js';\r\n\r\nimport  { createActionContext } from './action-context.js';\r\nimport { processCallback } from './process-callback.js';\r\nimport errorHandler from '../route-error-handler/index.js';\r\n\r\n\r\nconst BaseRouter = mix(BbRouter).with(GetOptionMixin);\r\nconst Router = BaseRouter.extend({\r\n\r\n\r\n\t// for migrating from Mn.AppRoute\r\n\t// set to true. it will populate routes from { controller, appRoutes } structure.\r\n\tisMarionetteStyle: false,\r\n\r\n\t// by default Backbone.Router tries to lookup callback in router instance by name `callback = this[name]` if there is no callback provided\r\n\t// its recomend to turn this feature to false\r\n\t// default value is true for Backbone.Router compatability\r\n\tisRouterHoldsActions : true,\r\n\r\n\t// by default Backbone.Router `route` method returns router itself instead of just created routeContext for chaining purposes.\r\n\t// you can change this behavior turning this feature to false\r\n\tisRouteChaining: true,\r\n\r\n\t//in classic mode actions receive argument array\r\n\t//if you need actionContext instead turn this option to false\r\n\tclassicMode: true,\r\n\r\n\tconstructor(options = {}){\r\n\t\t\r\n\t\tthis.options = _.extend({}, _.result(this, 'options'), options);\r\n\r\n\t\tBaseRouter.apply(this, arguments);\r\n\r\n\t\t//this.on('re:route:last', this._onReRouteLast);\r\n\t},\r\n\r\n\r\n\t/*\r\n\r\n\t\tinitialize methods\r\n\t\t\"when a router initialized\"\r\n\r\n\t*/\r\n\r\n\t//by default router expects that routes will result in { route, callback } hash\r\n\t//we are extending this to provide more flexibility\r\n\t// - overrided\r\n\t_bindRoutes: function() {\r\n\t\t\r\n\t\tlet routes = this.getInitRoutes();\r\n\t\tif(!_.size(routes)) return;\r\n\t\tthis.addRoutes(routes);\r\n\r\n\t},\r\n\tgetInitRoutes(){\r\n\t\tlet routes;\r\n\t\tif(this.getOption('isMarionetteStyle')) {\r\n\t\t\tlet controller = this.getOption('controller') || {};\r\n\t\t\tlet approutes = this.getOption('appRoutes') || {};\r\n\t\t\troutes = _(approutes).map((name, route) => ({ \r\n\t\t\t\troute, name, \r\n\t\t\t\tcallback: controller[name] \r\n\t\t\t}));\r\n\t\t}\r\n\t\telse {\r\n\t\t\troutes = this.getOption('routes');\r\n\t\t}\r\n\t\treturn routes;\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\tmanipulating routes\r\n\t\tadding\r\n\t*/\r\n\r\n\t// refactored original route method\r\n\t// chain:true by default is for supporting default behavior\r\n\t// routerHoldsActions: true - backbone router tries to get callback from router itself if there is no callback provided. \r\n\t// this options allow to support this behavior, but its recomended not to hold action inside router instance\r\n\t// - overrided\r\n\troute(route, name, callback, opts = {}){\r\n\t\t\r\n\t\t//normalizing passed arguments and putting them into a context object\r\n\t\t//refactored from original route\r\n\t\t// let context = this._normalizeRegisterRouteArguments(route, name, callback, opts);\r\n\r\n\t\t// //extends context with result of `mergeWithRegisterRouteContext`\r\n\t\t// this._normalizeRegisterRouteContext(context);\r\n\r\n\t\t// //wrapping provided callback \r\n\t\t// this._normalizeRegisterRouteCallback(context);\r\n\r\n\t\tlet context = this._buildRouteContext(route, name, callback, opts);\r\n\r\n\t\t//refactored for providing possibility to override\r\n\t\t//at this point context should be almost ready\r\n\t\tthis.registerRouteContext(context);\r\n\r\n\t\tthis._storeCreatedContext(context, opts);\r\n\r\n\t\treturn opts.isRouteChaining === true \r\n\t\t\t? this \r\n\t\t\t: context;\r\n\r\n\t},\r\n\r\n\t// provide more semantic alias for route\r\n\taddRoute(route, name, callback, opts = {}){\r\n\t\tif(opts.isRouteChaining == null)\r\n\t\t\topts.isRouteChaining = this.getOption('isRouteChaining');\r\n\r\n\t\tlet context = this.route(route, name, callback, opts);\r\n\t\treturn context;\r\n\t},\r\n\r\n\t//process many routes at once\r\n\t//accepts object { name, routeContext | handler }\r\n\t// or array of routeContexts\r\n\taddRoutes(routes, opts = {}){\r\n\r\n\t\tif(opts.isRouteChaining == null)\r\n\t\t\topts.isRouteChaining = this.getOption('isRouteChaining');\r\n\r\n\t\tlet normalized = _(routes)\r\n\t\t\t.chain()\r\n\t\t\t.map((value, key) => this._normalizeRoutes(value, key))\r\n\t\t\t.filter(f => _.isObject(f))\r\n\t\t\t.value();\r\n\r\n\t\tif(opts.doNotReverse != true)\r\n\t\t\tnormalized.reverse();\r\n\r\n\t\tlet registered = _(normalized).map(\r\n\t\t\troute => route && \r\n\t\t\tthis.addRoute(route, _.extend({ massAdd:true }, opts))\r\n\t\t); \r\n\t\t\r\n\t\tif(opts.doNotReverse != true)\r\n\t\t\tregistered.reverse();\r\n\r\n\t\t_(registered).each((c) => this._storeCreatedContext(c));\r\n\t\t\r\n\t\treturn registered;\r\n\t},\r\n\r\n\t// internal method called by `addRoutes` to normalize provided data\r\n\t_normalizeRoutes(value, key){\r\n\t\t//let route, name, callback;\r\n\t\tlet context;\r\n\t\tif (_.isString(value)) {\r\n\t\t\tcontext = { \r\n\t\t\t\troute: key, \r\n\t\t\t\tname: value, \r\n\t\t\t};\r\n\t\t}\r\n\t\telse if(_.isFunction(value)){\r\n\t\t\tcontext = { route:key, callback:value };\r\n\t\t}else if(_.isObject(value)){\r\n\t\t\tcontext = _.clone(value);\r\n\t\t\tif(!_.has(context, 'route'))\r\n\t\t\t\tcontext.route = key;\r\n\t\t\telse if(_.has(context, 'route') && !_.has(context, 'name'))\r\n\t\t\t\tcontext.name = key;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn context;\r\n\t},\r\n\r\n\r\n\r\n\r\n\t_buildRouteContext(route, name, callback, opts) {\r\n\r\n\t\tlet context = buildRouteContextFromArguments(this, route, name, callback, opts);\r\n\r\n\t\treturn this.buildRouteContext(context);\r\n\t},\r\n\r\n\t//override this method if you need more information in route context\r\n\t// should return object wich will be merged with default context\r\n\t// be aware of providing reserved properties: route, name, callback\r\n\t// this will override context defaults\r\n\tbuildRouteContext: context => context,\r\n\r\n\r\n\t//finally, putting handler to the backbone.history.handlers\r\n\tregisterRouteContext(context){\r\n\t\tBackbone.history.route(context.route, context.callbackWrapper, context);\r\n\t},\r\n\r\n\t//store registered context for further use\r\n\t_storeCreatedContext(context, opts = {}){\r\n\t\tthis.routeContexts || (this.routeContexts = {});\r\n\t\tif(!opts.massAdd)\r\n\t\t\tthis.routeContexts[context.name] = context;\r\n\t\treturn context;\r\n\t},\r\n\r\n\r\n\r\n\t/*\r\n\t\r\n\t\tprocess route methods\t\t\r\n\t\t\"when route happens\"\r\n\r\n\t*/\r\n\r\n\t//inner route handler\r\n\t//preparing actionContext and calls public processCallback\r\n\t_processCallback (routeContext, fragment, options = {}) {\r\n\t\tlet actionContext = createActionContext(this, routeContext, fragment, options);\r\n\t\tactionContext.restart = () => actionContext.callbackWrapper(fragment, options);\r\n\t\tlet result = this.processCallback(actionContext, actionContext.routeType, options);\r\n\t\treturn result;\r\n\t},\r\n\t\r\n\t//by default behave as original router\r\n\t//override this method to process action by your own\r\n\tprocessCallback(actionContext, routeType){\r\n\r\n\t\treturn processCallback(this, actionContext, routeType);\r\n\r\n\t},\r\n\r\n\thandleError(error, action){\t\t\r\n\t\terrorHandler.handle(error, this, [action]);\r\n\t},\r\n\r\n\t//just triggers appropriate events\r\n\t// triggerRouteEvents(context, event, name, ...args) {\r\n\t// \tif (event == 'route') {\r\n\t// \t\tthis.lastActionContext = context;\r\n\t// \t}\r\n\t// \tthis.trigger(`${event}:${name}`, ...args);\r\n\t// \tthis.trigger(event, name, ...args);\r\n\t// \tBackbone.history.trigger(event, this, name, ...args);\r\n\t// },\r\n\r\n\ttriggerEvent(event, context){\r\n\t\tthis.trigger(event, context);\r\n\t\tBackbone.history.trigger(event, context);\r\n\t},\r\n\r\n\r\n\r\n\r\n\t//converts string to object\r\n\t//default implementation, can be overriden by user\r\n\tqueryStringParser: paramStringToObject,\t\r\n\r\n\t// navigate(...args){\r\n\t// \thistoryNavigate(...args);\r\n\t// \treturn this;\r\n\t// },\r\n\r\n\t_routeToRegExp(route) {\r\n\r\n\t\tvar optionalParam = /\\((.*?)\\)/g;\r\n\t\tvar namedParam    = /(\\(\\?)?:\\w+/g;\r\n\t\tvar splatParam    = /\\*\\w+/g;\r\n\t\tvar escapeRegExp  = /[-{}[]+?.,\\\\\\^$|#\\s]/g;\r\n\r\n\t\troute = route.replace(escapeRegExp, '\\\\$&')\r\n\t\t\t.replace(optionalParam, '(?:$1)?')\r\n\t\t\t.replace(namedParam, function(match, optional) {\r\n\t\t\t\treturn optional ? match : '([^/?]+)';\r\n\t\t\t})\r\n\t\t\t.replace(splatParam, '([^?]*?)');\r\n\t\tlet flags = this.getOption('routeCaseInsensitive') ? 'i' : '';\r\n\t\treturn new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$', flags);\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\tSome API methods\r\n\t*/\r\n\r\n\tgetContextByFragment(fragment)\t{\r\n\t\tif(!_.isString(fragment)) return;\r\n\t\t//let contexts = this.routeContexts;\r\n\t\t//console.log('Router contexts', contexts);\r\n\t\tlet result = _(this.routeContexts).find((cntx) => cntx.route.test(fragment));\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n});\r\n\r\nexport default Router;\r\n","import Process from '../../process/index.js';\r\nimport BaseRouter from '../router/index.js';\r\nimport errorHandler from '../route-error-handler/index.js';\r\n\r\nexport default BaseRouter.extend({\r\n\t\r\n\tclassicMode:false,\r\n\tisRouterHoldsActions : false,\r\n\tisRouteChaining: false,\t\r\n\tcallbackAsPromises: true,\r\n\trouteCaseInsensitive: true,\r\n\tregisterPageRoutes(page){\r\n\t\tlet contexts = page.getRoutesContexts({ reverse: true });\r\n\t\t_(contexts).each(context => {\r\n\t\t\tlet callback = (...args) => {\r\n\t\t\t\treturn this.startPage(page, ...args);\r\n\t\t\t};\r\n\t\t\tthis.addRoute(context.route, context.name, callback);\r\n\t\t});\r\n\t},\r\n\thandleError(process, action){\r\n\t\tlet args, error;\r\n\r\n\t\tif(process instanceof Process) {\r\n\t\t\targs = [].slice.call(process.errors) ;\r\n\t\t\terror = args.shift();\r\n\t\t\targs.push(action);\r\n\t\t} else {\r\n\t\t\terror = process;\r\n\t\t\targs = [action];\r\n\t\t}\r\n\r\n\t\terrorHandler.handle(error, this, args);\r\n\r\n\t\t//BaseRouter.prototype.handleError(error, action);\r\n\t},\r\n\tstartPage(page, ...args){\r\n\t\treturn this.beforePageStart(page)\r\n\t\t\t.then(() => page.start(...args))\r\n\t\t\t.then(() => this.afterPageStart(page, ...args));\r\n\t},\r\n\tbeforePageStart(){\r\n\t\tif (this.previousPage && this.previousPage.isStarted())\r\n\t\t\treturn this.previousPage.stop();\r\n\t\telse\r\n\t\t\treturn Promise.resolve();\r\n\t},\r\n\tafterPageStart(page){\r\n\t\tthis.previousPage = page;\r\n\t},\r\n\trestartLastAttempt(){\r\n\t\tif(this.lastAttempt)\r\n\t\t\treturn this.lastAttempt.restart();\r\n\t}\r\n});\r\n","import BaseRouter from './router.js';\r\nimport comparator from '../../../utils/comparator/index.js';\r\n\r\nexport default {\r\n\tinitializeRoutes(){\r\n\t\tif (this.initializeRouter()) {\r\n\t\t\tthis._buildRoutesContexts();\r\n\r\n\t\t}\r\n\t},\r\n\tinitializeRouter(){\t\t\r\n\t\tif(this.getOption('shouldCreateRouter') && !this.router) {\r\n\t\t\tthis.router = this._createRouter();\r\n\t\t\tthis._shouldRegisterAllRoutes = true;\r\n\t\t}\r\n\r\n\t\treturn !!this.router;\r\n\t},\r\n\t_createRouter(){\r\n\t\tlet Router = this.getOption('Router') || BaseRouter;\r\n\t\tlet options = _.extend({}, this.getOption('routerOptions'));\r\n\t\treturn new Router(options);\r\n\t},\r\n\tregisterAllRoutes(){\r\n\t\tif(!this._shouldRegisterAllRoutes) return;\r\n\r\n\t\tlet pages = this.getAllChildren({ reverse: true, includeSelf: true, force: true });\r\n\t\t\r\n\t\tlet router = this.router;\r\n\t\t_(pages).each(page => router.registerPageRoutes(page));\r\n\t\t\r\n\t},\r\n\t_buildRoutesContexts(){\r\n\t\tlet routes = this.getOption('routes', {args: [this]});\r\n\t\tif (routes == null) return;\r\n\t\tif(_.isString(routes))\r\n\t\t\troutes = [routes];\r\n\r\n\t\tlet result = [];\r\n\t\tlet config = this.getRoutesConfig();\r\n\t\t_(routes).each((route, index) => {\r\n\t\t\tlet context = this._normalizeRoutesContextRoute(route, index, config);\r\n\t\t\t_.isObject(context) && (result.push(context));\r\n\t\t});\r\n\t\tthis.routesContext = result;\r\n\t\treturn this.routesContext;\r\n\t},\r\n\t_normalizeRoutesContextRoute(arg, index, config = {}){\r\n\t\tif(arguments.length < 2){\r\n\t\t\tconfig = this.getRoutesConfig();\r\n\t\t}\r\n\t\tlet context = { page: this };\r\n\t\tif(arg == null)\r\n\t\t\treturn;\r\n\t\tif (_.isString(arg)) {\r\n\t\t\t_.extend(context, {route: arg, rawRoute: arg });\r\n\t\t} else if(_.isFunction(arg)) {\r\n\t\t\targ = arg.call(this, this, index);\r\n\t\t\treturn this._normalizeRoutesContextRoute(arg, index);\r\n\t\t} else {\r\n\t\t\t_.extend(context, arg);\r\n\t\t}\r\n\t\tlet name = (_.isString(index) && index) || context.name || context.route || _.uniqueId('route');\r\n\t\tcontext.name = name;\r\n\r\n\t\tif(_.isNumber(index) && context.order == null)\r\n\t\t\tcontext.order = index;\r\n\r\n\t\tif (!context.rawRoute)\r\n\t\t\tcontext.rawRoute = context.route;\r\n\t\t\t\t\r\n\t\tif(config.relative && config.parentContext && config.parentContext.route)\r\n\t\t\tcontext.route = config.parentContext.route + '/' + context.route;\r\n\r\n\t\treturn context;\r\n\t},\r\n\tgetRoutesConfig(){\r\n\t\tlet config = _.extend({ \r\n\t\t\trelative: this.getOption('relativeRoutes', {args: [this]}),\r\n\t\t\tparent: this.parent,\r\n\t\t\tparentContext: this.parent && _.isFunction(this.parent.getMainRouteContext) && this.parent.getMainRouteContext()\r\n\t\t}, this.getOption('routesConfig', {args: [this]}));\r\n\t\t\r\n\t\treturn config;\r\n\t},\r\n\tgetRoutesContexts(opts = {}){\r\n\t\tlet { clone, reverse } = opts;\r\n\t\tlet result = this.routesContext || [];\r\n\t\tif (clone || reverse) result = [].slice.call(result);\r\n\t\tif (reverse) result.reverse();\r\n\t\treturn result;\r\n\t},\r\n\r\n\tgetMainRouteContext(){\r\n\r\n\t\tif(this.mainRouteContext) return this.mainRouteContext;\r\n\t\tthis.mainRouteContext = _(this.getRoutesContexts())\r\n\t\t\t.chain()\r\n\t\t\t.sortBy((a,b) => comparator([ [b,a, c => c.main], [a,b, c => c.order] ]))\r\n\t\t\t.take(1)\r\n\t\t\t.value()[0];\r\n\r\n\t\treturn this.mainRouteContext;\r\n\t}\r\n};\r\n","import { MnObject } from '../../../vendors/marionette.js';\r\nimport mix from '../../../utils/mix/index.js';\r\nimport GetOptionMixin from '../../../mixins/common/get-option/index.js';\r\nimport StartableMixin from '../../../mixins/common/startable/index.js';\r\nimport ChildrenableMixin from '../../../mixins/common/childrenable/index.js';\r\n\r\n\r\nimport RoutesMixin from './routes-mixin.js';\r\n\r\n\r\nconst BasePage = mix(MnObject).with(GetOptionMixin, ChildrenableMixin, StartableMixin, RoutesMixin);\r\n\r\nexport default BasePage.extend({\r\n\tconstructor(opts = {}){\r\n\t\tBasePage.apply(this, arguments);\r\n\r\n\t\tthis.mergeOptions(opts, ['root','parent','router','canNotStart','onStart','onBeginStart', 'onBeforeStart', 'onEndStart', 'onStop', 'onBeginStop', 'onBeforeStop', 'onEndStop']);\r\n\t\t\r\n\t\t// resides in routes-mixin\r\n\t\tthis.initializeRoutes();\r\n\r\n\t\t// resides in ChildrenableMixin\r\n\t\tthis.initializeChildren();\r\n\t\t\r\n\t\t// resides in routes-mixin\r\n\t\tthis.registerAllRoutes();\r\n\t},\r\n\r\n\tgetLabel(){\r\n\t\tlet result = this.getOption('label', { args: [this, this.model]});\r\n\t\treturn result;\r\n\t},\r\n\tgetMenuLabel(){\r\n\t\tlet result = this.getOption('menuLabel', { args: [this, this.model], default: this.getLabel()});\r\n\t\treturn result;\r\n\t},\r\n\r\n\tbuildChildOptions(options){\r\n\t\treturn _.extend({\r\n\t\t\troot: this.root,\r\n\t\t\tparent: this.parent,\r\n\t\t\trouter: this.router,\r\n\t\t}, options);\r\n\t},\r\n\r\n\tgetSiblings(opts = {}){\r\n\r\n\t\tlet parent = this.getParent();\r\n\t\tlet options = _.extend({ exclude: [this] }, opts);\r\n\t\treturn parent && parent.getChildren(options) || [];\r\n\r\n\t},\r\n\tgetHashes(){\r\n\t\tlet parent = this.getParent();\r\n\t\tlet root = this.getRoot();\r\n\r\n\t\treturn {\r\n\t\t\tpath: this.getPathHash(),\r\n\t\t\tthis: this.getHash(),\r\n\t\t\troot: root && root.getHash && root.getHash() || undefined,\r\n\t\t\tparent: parent && parent.getHash && parent.getHash() || undefined,\r\n\t\t\tchildren: this.getChildrenHashes(),\r\n\t\t\tsiblings: this.getSiblingsHashes()\r\n\t\t};\r\n\t},\r\n\tgetPathHash(){\r\n\t\tlet self = this.getHash();\r\n\t\tlet path = [self];\r\n\t\tlet parent = this.getParent();\r\n\t\tif (parent && _.isFunction(parent.getPathHash)) {\r\n\t\t\tpath.unshift(...parent.getPathHash());\r\n\t\t}\r\n\t\treturn path;\r\n\t},\r\n\tgetChildrenHashes(){\r\n\t\treturn this.getChildren({ map: i => i.getHash(), visible: true, });\r\n\t},\r\n\tgetSiblingsHashes(){\r\n\t\treturn this.getSiblings({ map: i => i.getHash(), visible: true, });\r\n\t},\r\n\r\n\tgetRoot(){\r\n\t\treturn this.root;\r\n\t},\r\n\tgetAllPages(opts = {}){\r\n\t\t\r\n\t\tlet options = _.extend({}, opts, { includeSelf: true });\r\n\t\tdelete options.map;\r\n\t\tlet pages = this.root.getAllChildren(options);\r\n\r\n\t\tif (_.isFunction(opts.map)) {\r\n\t\t\treturn _(pages).chain().map(opts.map).filter(f => !!f).value();\r\n\t\t} else {\r\n\t\t\treturn pages;\r\n\t\t}\r\n\t},\r\n\r\n\tgetAllHashes(opts = {}){\r\n\t\tlet options = _.extend({ map: i => i.getHash(), visible: true, }, opts);\r\n\t\treturn this.getAllPages(options);\r\n\t},\r\n\r\n\tgetHash(){\r\n\t\tlet context = this.getMainRouteContext();\r\n\r\n\t\tif(!_.isObject(context))\r\n\t\t\treturn;\r\n\r\n\t\tlet parent = this.getParent();\r\n\t\tlet parentCid = parent && parent.cid || undefined;\t\t\r\n\t\treturn {\r\n\t\t\tcid: this.cid,\r\n\t\t\tparentCid,\r\n\t\t\turl: context.route,\r\n\t\t\tlabel: this.getMenuLabel(),\r\n\t\t\torder: this.order,\r\n\t\t};\r\n\t},\r\n\r\n\r\n\t_childFilter(item, index, opts = {}) {\r\n\t\tlet base = BasePage.prototype._childFilter;\r\n\t\tif(base && !base.apply(this, arguments))\r\n\t\t\treturn;\r\n\r\n\t\tlet { visible } = opts;\r\n\r\n\t\tif(visible && (item.visible === false || item.hidden === true))\r\n\t\t\treturn;\r\n\r\n\t\treturn item;\r\n\t},\r\n\r\n});\r\n\r\n","import { history } from '../../../vendors/backbone.js';\r\nimport errorHandler from '../route-error-handler/index.js';\r\n\r\n// supports passing options to the callback\r\n// by using new version of loadUrl\r\nexport function historyNavigate(fragment, opts){\r\n\t\r\n\tlet options = opts === true ? { trigger: true }\r\n\t\t: _.isObject(opts) ? _.clone(opts)\r\n\t\t\t: {};\r\n\r\n\tlet { trigger } = options;\t\r\n\tdelete options.trigger;\r\n\r\n\thistory.navigate(fragment, options);\r\n\r\n\tif (trigger) {\r\n\t\treturn historyLoadUrl(fragment, opts);\r\n\t}\r\n\r\n}\r\n\r\n// original loadUrl does not pass options to the callback\r\n// and this one does\r\nexport function historyLoadUrl(fragment, opts = {}) {\r\n\r\n\t// If the root doesn't match, no routes can match either.\r\n\tif (!history.matchRoot()) return false;\r\n\tfragment = history.fragment = history.getFragment(fragment);\r\n\tlet executed = executeHandler(fragment, opts);\r\n\tif (!executed) {\r\n\t\terrorHandler.handle('not:found', opts.context, [fragment]);\r\n\t\t//history.trigger('handler:not:found', fragment, opts);\r\n\t}\r\n\treturn executed;\r\n}\r\n\r\n//TODO: think about constraints check\r\nfunction testHandler(handler, fragment){\r\n\treturn handler.route.test(fragment);\r\n}\r\n\r\nexport function findHandler(fragment, customTest){\r\n\tlet test = _.isFunction(customTest) ? customTest : testHandler;\r\n\tfragment = history.getFragment(fragment);\r\n\treturn _.filter(history.handlers || [], handler => test(handler, fragment))[0];\r\n}\r\n\r\nexport function executeHandler(fragment, opts = {}, resultContext = {}) {\r\n\tlet handler = findHandler(fragment, opts.testHandler);\r\n\thandler && (resultContext.value = handler.callback(fragment, opts));\r\n\treturn !!handler;\r\n}\r\n\r\nexport function start(options){\r\n\r\n\tif(history.loadUrl !== historyLoadUrl)\r\n\t\thistory.loadUrl = historyLoadUrl;\r\n\r\n\treturn history.start(options);\r\n}\r\n\r\nexport {\r\n\thistory\r\n};\r\n","import { history, historyNavigate }  from '../history/index.js';\r\nimport { Events } from '../../../vendors/backbone.js';\r\n\r\n\r\nexport default _.extend({\r\n\twatch(){\r\n\t\tthis.entries = [];\r\n\t\tthis.listenTo(history, 'route', this.onRoute);\r\n\t\tthis.listenTo(history, 'backroute', this.onBackRoute);\r\n\t},\r\n\tisActionContext: cntx => _.isObject(cntx) && _.isString(cntx.fragment),\r\n\thasElements(){\r\n\t\treturn this.entries.length > 0;\r\n\t},\r\n\tonRoute(actionContext){\r\n\r\n\t\tif(!this.isActionContext(actionContext))\r\n\t\t\treturn;\r\n\r\n\t\tif (this.isActionContext(this.lastElement)) {\r\n\t\t\tthis.entries.push(this.lastElement);\r\n\t\t}\r\n\t\tthis.lastElement = actionContext;\r\n\r\n\t},\r\n\tonBackRoute(actionContext){\r\n\t\tif(!this.isActionContext(actionContext) || !this.isActionContext(actionContext.gobackContext))\r\n\t\t\treturn;\r\n\r\n\t\tlet lookFor = actionContext.gobackContext;\r\n\t\tlet index = this.entries.indexOf(lookFor);\r\n\t\tif (index >= 0) {\r\n\t\t\tthis.entries = this.entries.slice(0, index);\r\n\t\t\tthis.lastElement = lookFor;\r\n\t\t}\r\n\r\n\t},\r\n\tgoBack(){\r\n\t\tlet last = this.hasElements() && _(this.entries).last();\r\n\t\thistoryNavigate(last.fragment, { trigger: true, routeType: 'backroute', gobackContext: last });\r\n\t},\r\n}, Events);\r\n","import { historyNavigate, executeHandler } from '../history/index.js';\r\n\r\nfunction normalizeOptions(type = 'route', opts = {}){\r\n\tif(_.isObject(type)) {\r\n\t\topts = type;\r\n\t\ttype = 'route';\r\n\t} \r\n\treturn _.extend({ routeType: type, trigger: true }, opts);\r\n}\r\n\r\nexport function execute(url, opts){\r\n\treturn go(url, 'execute', opts);\r\n}\r\nexport function navigate(url, opts){\r\n\treturn go(url, 'route', opts);\r\n}\r\nexport function navigateBack(url, opts){\r\n\treturn go(url, 'backroute', opts);\r\n}\r\n\r\nexport function go(url, type, opts)\r\n{\r\n\tlet options = normalizeOptions(type, opts);\r\n\tswitch(options.routeType){\r\n\tdefault:\r\n\tcase 'route':\r\n\tcase 'backroute':\r\n\t\treturn historyNavigate(url, options);\r\n\tcase 'execute':\r\n\t\treturn executeHandler(url, options);\r\n\t}\r\n\r\n}\r\n","const _disallowedKeys = ['setItem', 'key', 'getItem', 'removeItem', 'clear'];\r\nconst allowedKey = key => _disallowedKeys.indexOf(key) < 0;\r\n\r\nconst fake = {\r\n\tsetItem(id, val) {\r\n\t\tif (!allowedKey(id)) return;\r\n\t\treturn this[id] = String(val);\r\n\t},\r\n\tgetItem(id) {\r\n\t\tif (!allowedKey(id)) return;\r\n\t\treturn this[id];\r\n\t},\r\n\tremoveItem(id) {\r\n\t\tif (!allowedKey(id)) return;\r\n\t\tdelete this[id];\r\n\t},\r\n\tclear() {\r\n\t\tlet keys = _(this).keys();\r\n\t\t_(keys).each(key => this.removeItem(key));\r\n\t}\r\n};\r\n\r\nexport default fake;\r\n","import fake from './fake.js';\r\n\r\nlet session = (typeof sessionStorage === 'undefined') \r\n\t? fake : sessionStorage;\r\n\r\nlet local = (typeof localStorage === 'undefined') \r\n\t? fake : localStorage;\r\n\r\nexport {\r\n\tsession,\r\n\tlocal\r\n};\r\n","import { session, local } from './store.js';\r\n\r\nconst getStore = (opts = {}) => opts.local === true ? local : session;\r\n\r\nconst SECONDS = 1000;\r\nconst MINUTES = SECONDS * 60;\r\nconst HOURS = MINUTES * 60;\r\nconst DAYS = HOURS * 24;\r\n\r\nvar store = {\r\n\r\n\t_normalizeValue(value) {\r\n\t\tvar normValue = value;\r\n\t\tif (_.isObject(value) && _.isFunction(value.toJSON))\r\n\t\t\tnormValue = value.toJSON();\r\n\t\tif (_.isDate(value) && !_.isNaN(value.valueOf()))\r\n\t\t\tnormValue = 'date(' + normValue + ')';\r\n\t\treturn normValue;\r\n\t},\r\n\r\n\t_createItem(value, expireAt) {\r\n\t\treturn { expireAt: expireAt, value: value };\r\n\t},\r\n\r\n\tjsonParse(key, value) {\r\n\t\tvar datePattern = /^date\\((\\d{4,4}-\\d{2,2}-\\d{2,2}([T\\s]\\d{2,2}:\\d{2,2}:\\d{2,2}(\\.\\d*)?Z?)?)\\)$/;\r\n\t\tif (_.isString(value) && datePattern.test(value)) {\r\n\t\t\tvar textDate = value.replace(datePattern, '$1');\r\n\t\t\treturn new Date(textDate);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_jsonParse(key, value, context) {\r\n\t\tif (!key) return value;\r\n\t\treturn this.jsonParse(key, value, context);\r\n\t},\r\n\t_parse(raw) {\r\n\t\tlet _this = this;\r\n\t\tlet item = JSON.parse(raw, function (key, value) { return _this._jsonParse(key, value, this); });\r\n\t\tif ('expireAt' in item && 'value' in item)\r\n\t\t\treturn item;\r\n\t\telse\r\n\t\t\treturn this._createItem(item, 0);\r\n\t},\r\n\t_get(key, opts) {\r\n\t\tlet raw = getStore(opts).getItem(key);\r\n\t\tif (raw == null) return;\r\n\t\treturn this._parse(raw);\r\n\t},\r\n\tget(key, opts = {}) {\r\n\r\n\t\tlet { checkExpire = true } = opts;\r\n\r\n\t\tlet item = this._get(key, opts);\t\t\r\n\t\tif (item == null) return;\r\n\r\n\t\tlet expired = this._isExpired(item);\r\n\t\tif (!expired || !checkExpire) {\r\n\r\n\t\t\treturn item.value;\r\n\t\t}\r\n\t\telse if (expired) {\r\n\t\t\tthis.remove(key, opts);\r\n\t\t}\r\n\t},\r\n\tset(key, value, opts = {}) {\r\n\r\n\t\tlet expireAt = Date.now() + this.getExpireAt(opts);\r\n\t\tlet normValue = this._normalizeValue(value);\r\n\t\tlet item = this._createItem(normValue, expireAt);\r\n\t\tthis._set(key, item, opts);\r\n\t\t\r\n\t},\r\n\tremove(key, opts) {\r\n\t\tgetStore(opts).removeItem(key);\r\n\t},\r\n\texpire(key, opts) {\r\n\t\tlet item = this._get(key, opts);\r\n\t\tif (!item) return;\r\n\t\titem.expireAt = 0;\r\n\t\tthis._set(key, item, opts);\r\n\t},\r\n\tgetExpireAt ({ expireAt, seconds, minutes, hours, days }) {\r\n\t\tif (expireAt != null)\r\n\t\t\treturn expireAt;\r\n\r\n\t\tlet offset = 0;\r\n\r\n\t\t_.isNumber(seconds) && (offset += seconds * SECONDS);\r\n\t\t_.isNumber(minutes) && (offset += minutes * MINUTES);\r\n\t\t_.isNumber(hours) && (offset += hours * HOURS);\r\n\t\t_.isNumber(days) && (offset += days * DAYS);\r\n\r\n\t\toffset === 0 && (offset += 10 * MINUTES);\r\n\r\n\t\treturn offset;\r\n\t},\r\n\t_set(key, item, opts) {\r\n\t\tlet text = JSON.stringify(item);\r\n\t\tgetStore(opts).setItem(key, text);\r\n\t},\r\n\tisExpired(key, opts) {\r\n\t\tlet item = this._get(key, opts);\r\n\t\tif (item == null) return true;\r\n\t\treturn this._isExpired(item);\r\n\t},\r\n\t_isExpired(item) {\r\n\t\treturn item.expireAt < Date.now();\r\n\t},\r\n};\r\n\r\nexport default store;\r\n"],"names":["Mn","Model","Collection","View","Router","BaseObject","knownCtors","result","getModel","getView","defaultOptions","toBoolean","ensureArguments","normalizeOptions","setByPathArray","triggerModelChangeEvents","flat","unflat","buildRegion","normalizeRegion","isModel","Events","emptyView","takeValue","BackboneView","customsMixin","getOption","events","_getOption","handleEvent","convert","isEmpty","common","Schema","EditProperty","BaseAction","Action","ActionStore","_nativeAjax","Backbone","Region","customs","MnView","config","store","get","BbRouter","GetOptionMixin","buildRouteContextFromArguments","paramStringToObject","BaseRouter","history"],"mappings":"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"}